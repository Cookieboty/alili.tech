---
title: 'React + TS 2.8：终极组件设计模式指南' 
date: 2018-11-27 2:30:13
hidden: true
slug: 25s1tnjru7s
categories: [reprint]
---

{{< raw >}}
<p>&#x539F;&#x6587;&#xFF1A;<a href="https://levelup.gitconnected.com/ultimate-react-component-patterns-with-typescript-2-8-82990c516935" rel="nofollow noreferrer" target="_blank">Ultimate React Component Patterns with Typescript 2.8, Martin Hochel</a></p><blockquote>&#x672C;&#x6587;&#x7684;&#x5199;&#x4F5C;&#x7075;&#x611F;&#x6765;&#x81EA;&#x4E8E;<a href="https://levelup.gitconnected.com/react-component-patterns-ab1f09be2c82" rel="nofollow noreferrer" target="_blank">&#x300A;React Component Patterns&#x300B;</a>&#xFF0C;&#x7EBF;&#x4E0A;&#x6F14;&#x793A;&#x5730;&#x5740;<a href="https://codesandbox.io/s/7k236m64w6" rel="nofollow noreferrer" target="_blank">&gt;&gt;&#x70B9;&#x6211;&gt;&gt;</a></blockquote><p>&#x719F;&#x6089;&#x6211;&#x7684;&#x670B;&#x53CB;&#x90FD;&#x77E5;&#x9053;&#xFF0C;&#x6211;&#x4E0D;&#x559C;&#x6B22;&#x5199;&#x65E0;&#x7C7B;&#x578B;&#x652F;&#x6301;&#x7684; JavaScript&#xFF0C;&#x6240;&#x4EE5;&#x4ECE; TypeScript 0.9 &#x5F00;&#x59CB;&#x6211;&#x5C31;&#x6DF1;&#x6DF1;&#x5730;&#x7231;&#x4E0A;&#x5B83;&#x4E86;&#x3002;<br>&#x9664;&#x4E86;&#x7C7B;&#x578B;&#x5316;&#x7684; JavaScript&#xFF0C;&#x6211;&#x4E5F;&#x975E;&#x5E38;&#x559C;&#x6B22; React&#xFF0C;React &#x548C; TypeScript &#x7684;&#x7ED3;&#x5408;&#x8BA9;&#x6211;&#x611F;&#x89C9;&#x7F6E;&#x8EAB;&#x5929;&#x5802;:D&#x3002;<br>&#x5728;&#x6574;&#x4E2A;&#x5E94;&#x7528;&#x4E2D;&#xFF0C;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x548C; VDOM &#x7684;&#x65E0;&#x7F1D;&#x8854;&#x63A5;&#xFF0C;&#x8BA9;&#x5F00;&#x53D1;&#x4F53;&#x9A8C;&#x53D8;&#x5F97;&#x5999;&#x4E0D;&#x53EF;&#x8A00;&#xFF01;</p><p>&#x6240;&#x4EE5;&#x672C;&#x6587;&#x60F3;&#x8981;&#x5206;&#x4EAB;&#x4EC0;&#x4E48;&#x4FE1;&#x606F;&#x5462;&#xFF1F;<br>&#x5C3D;&#x7BA1;&#x7F51;&#x4E0A;&#x6709;&#x5F88;&#x591A;&#x5173;&#x4E8E; React &#x7EC4;&#x4EF6;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x4E00;&#x7BC7;&#x4ECB;&#x7ECD;&#x5982;&#x4F55;&#x4F7F;&#x7528; TypeScript &#x6765;&#x5B9E;&#x73B0;&#x3002;<br>&#x4E0E;&#x6B64;&#x540C;&#x65F6;&#xFF0C;&#x6700;&#x65B0;&#x7248;&#x7684; TypeScript 2.8 &#x4E5F;&#x5E26;&#x6765;&#x4E86;&#x4EE4;&#x4EBA;&#x6FC0;&#x52A8;&#x4EBA;&#x5FC3;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6BD4;&#x5982;&#x652F;&#x6301;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#xFF08;Conditional Types&#xFF09;&#x3001;&#x6807;&#x51C6;&#x5E93;&#x4E2D;&#x9884;&#x5B9A;&#x4E49;&#x7684;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#x4EE5;&#x53CA;&#x540C;&#x6001;&#x6620;&#x5C04;&#x7C7B;&#x578B;&#x4FEE;&#x9970;&#x7B26;&#x7B49;&#x7B49;&#xFF0C;&#x8FD9;&#x4E9B;&#x529F;&#x80FD;&#x4F7F;&#x6211;&#x4EEC;&#x80FD;&#x591F;&#x66F4;&#x7B80;&#x4FBF;&#x5730;&#x5199;&#x51FA;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x7684;&#x901A;&#x7528;&#x7EC4;&#x4EF6;&#x6A21;&#x5F0F;&#x3002;</p><p>&#x672C;&#x6587;&#x975E;&#x5E38;&#x957F;&#xFF0C;&#x4F46;&#x662F;&#x8BF7;&#x4E0D;&#x8981;&#x88AB;&#x5413;&#x5230;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4F1A;&#x624B;&#x628A;&#x624B;&#x6559;&#x4F60;&#x638C;&#x63E1;&#x7EC8;&#x6781; React &#x7EC4;&#x4EF6;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF01;</p><blockquote>&#x6587;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x548C;&#x4F8B;&#x5B50;&#x90FD;&#x4F7F;&#x7528; TypeScript 2.8 &#x548C;&#x4E25;&#x683C;&#x6A21;&#x5F0F;</blockquote><h1 id="articleHeader0">&#x51C6;&#x5907;</h1><p>&#x78E8;&#x5200;&#x4E0D;&#x8BEF;&#x780D;&#x67F4;&#x5DE5;&#x3002;&#x9996;&#x5148;&#x6211;&#x4EEC;&#x8981;&#x5B89;&#x88C5;&#x597D; <code>typescript</code> &#x548C; <code>tslib</code>&#xFF0C;&#x4F7F;&#x7528; <code>tslib</code> &#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x751F;&#x6210;&#x7684;&#x4EE3;&#x7801;&#x66F4;&#x52A0;&#x7D27;&#x51D1;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="yarn add -D typescript
# tslib &#x5F25;&#x8865;&#x7F16;&#x8BD1;&#x76EE;&#x6807;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5982;
yarn add tslib" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="bash hljs"><code class="bash">yarn add -D typescript
<span class="hljs-comment"># tslib &#x5F25;&#x8865;&#x7F16;&#x8BD1;&#x76EE;&#x6807;&#x4E0D;&#x652F;&#x6301;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x5982;</span>
yarn add tslib</code></pre><p>&#x7136;&#x540E;&#xFF0C;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>tsc</code> &#x547D;&#x4EE4;&#x6765;&#x521D;&#x59CB;&#x5316;&#x9879;&#x76EE;&#x7684; TypeScript &#x914D;&#x7F6E;&#x4E86;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="# &#x4E3A;&#x9879;&#x76EE;&#x521B;&#x5EFA; tsconfig.json &#xFF0C;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7F16;&#x8BD1;&#x8BBE;&#x7F6E;
yarn tsc --init" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="bash hljs"><code class="bash"><span class="hljs-comment"># &#x4E3A;&#x9879;&#x76EE;&#x521B;&#x5EFA; tsconfig.json &#xFF0C;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x7F16;&#x8BD1;&#x8BBE;&#x7F6E;</span>
yarn tsc --init</code></pre><p>&#x63A5;&#x7740;&#xFF0C;&#x5B89;&#x88C5; <code>react</code>&#xFF0C;<code>react-dom</code> &#x548C;&#x5B83;&#x4EEC;&#x7684;&#x7C7B;&#x578B;&#x6587;&#x4EF6;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="yarn add react react-dom
yarn add -D @types/{react,react-dom}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="bash hljs"><code class="bash">yarn add react react-dom
yarn add -D @types/{react,react-dom}</code></pre><p>&#x975E;&#x5E38;&#x68D2;&#xFF01;&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5F00;&#x59CB;&#x7814;&#x7A76;&#x7EC4;&#x4EF6;&#x6A21;&#x5F0F;&#x4E86;&#xFF0C;&#x4F60;&#x51C6;&#x5907;&#x597D;&#x4E86;&#x4E48;&#xFF1F;</p><h1 id="articleHeader1">&#x65E0;&#x72B6;&#x6001;&#x7EC4;&#x4EF6;</h1><p><strong>&#x65E0;&#x72B6;&#x6001;&#x7EC4;&#x4EF6;</strong>&#xFF08;Stateless Component&#xFF09;&#x5C31;&#x662F;&#x6CA1;&#x6709;&#x72B6;&#x6001;&#xFF08;state&#xFF09;&#x7684;&#x7EC4;&#x4EF6;&#x3002;&#x5927;&#x591A;&#x6570;&#x65F6;&#x5019;&#xFF0C;&#x5B83;&#x4EEC;&#x5C31;&#x662F;<strong>&#x7EAF;&#x51FD;&#x6570;</strong>&#x3002;<br>&#x4E0B;&#x9762;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x4F7F;&#x7528; TypeScript &#x968F;&#x4FBF;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x65E0;&#x72B6;&#x6001;&#x7684;&#x6309;&#x94AE;&#x7EC4;&#x4EF6;&#x3002;</p><p>&#x5C31;&#x50CF;&#x4F7F;&#x7528;&#x7EAF; JavaScript &#x4E00;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5F15;&#x5165; <code>react</code> &#x4EE5;&#x652F;&#x6301; JSX &#x3002;<br>&#xFF08;&#x8BD1;&#x6CE8;&#xFF1A;TypeScript &#x4E2D;&#xFF0C;&#x8981;&#x652F;&#x6301; JSX&#xFF0C;&#x6587;&#x4EF6;&#x62D3;&#x5C55;&#x540D;&#x5FC5;&#x987B;&#x4E3A; <code>.tsx</code>&#xFF09;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="import React from &apos;react&apos;
const Button = ({ onClick: handleClick, children }) =&gt; (
  &lt;button onClick={handleClick}&gt;{children}&lt;/button&gt;
)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">import</span> React <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">{ onClick: handleClick, children }</span>) =&gt;</span> (
  &lt;button onClick={handleClick}&gt;{children}&lt;<span class="hljs-regexp">/button&gt;
)</span></code></pre><p>&#x4E0D;&#x8FC7; tsc &#x7F16;&#x8BD1;&#x5668;&#x62A5;&#x9519;&#x4E86;:(&#x3002;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x660E;&#x786E;&#x5730;&#x544A;&#x8BC9;&#x7EC4;&#x4EF6;&#x5B83;&#x7684;&#x5C5E;&#x6027;&#x662F;&#x4EC0;&#x4E48;&#x7C7B;&#x578B;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;&#x5C5E;&#x6027;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="import React, { MouseEvent, ReactNode } from &apos;react&apos;
type Props = { 
 onClick(e: MouseEvent&lt;HTMLElement&gt;): void
 children?: ReactNode 
}
const Button = ({ onClick: handleClick, children }: Props) =&gt; (
  &lt;button onClick={handleClick}&gt;{children}&lt;/button&gt;
)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">import</span> React, { MouseEvent, ReactNode } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;react&apos;</span>
<span class="hljs-keyword">type</span> Props = { 
 onClick(e: MouseEvent&lt;HTMLElement&gt;): <span class="hljs-built_in">void</span>
 children?: ReactNode 
}
<span class="hljs-keyword">const</span> Button = <span class="hljs-function">(<span class="hljs-params">{ onClick: handleClick, children }: Props</span>) =&gt;</span> (
  &lt;button onClick={handleClick}&gt;{children}&lt;<span class="hljs-regexp">/button&gt;
)</span></code></pre><p>&#x5F88;&#x597D;&#xFF01;&#x8FD9;&#x4E0B;&#x7EC8;&#x4E8E;&#x6CA1;&#x6709;&#x62A5;&#x9519;&#x4E86;&#xFF01;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x505A;&#x5F97;&#x66F4;&#x597D;&#xFF01;</p><p>&#x5728; <code>@types/react</code> &#x7C7B;&#x578B;&#x6A21;&#x5757;&#x4E2D;&#x9884;&#x5B9A;&#x4E86; <code>type SFC&lt;P&gt;</code>&#xFF0C;&#x5B83;&#x662F; <code>interface StatelessComponent&lt;P&gt;</code> &#x7684;&#x7C7B;&#x578B;&#x522B;&#x540D;&#xFF0C;&#x5E76;&#x4E14;&#x5B83;&#x9884;&#x5B9A;&#x4E49;&#x4E86; <code>children</code> &#x3001;<code>displayName</code> &#x548C; <code>defaultProps</code> &#x7B49;&#x5C5E;&#x6027;&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x7528;&#x4E0D;&#x7740;&#x81EA;&#x5DF1;&#x5199;&#xFF0C;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x62FF;&#x6765;&#x7528;&#x3002;</p><p>&#x4E8E;&#x662F;&#xFF0C;&#x6700;&#x7EC8;&#x7684;&#x4EE3;&#x7801;&#x957F;&#x8FD9;&#x6837;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbagtN?w=1548&amp;h=476" src="https://static.alili.tech/img/bVbagtN?w=1548&amp;h=476" alt="Stateless Component" title="Stateless Component" style="cursor:pointer;display:inline"></span></p><h1 id="articleHeader2">&#x72B6;&#x6001;&#x7EC4;&#x4EF6;</h1><p>&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x6709;&#x72B6;&#x6001;&#x7684;&#x8BA1;&#x6570;&#x7EC4;&#x4EF6;&#xFF0C;&#x5E76;&#x5728;&#x5176;&#x4E2D;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x521B;&#x5EFA;&#x7684; <code>Button</code> &#x7EC4;&#x4EF6;&#x3002;</p><p>&#x9996;&#x5148;&#xFF0C;&#x5B9A;&#x4E49;&#x597D;&#x521D;&#x59CB;&#x72B6;&#x6001; <code>initialState</code>&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const initialState = { clicksCount: 0 }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts" style="word-break:break-word;white-space:initial"><span class="hljs-keyword">const</span> initialState = { clicksCount: <span class="hljs-number">0</span> }</code></pre><p>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; TypeScript &#x6765;&#x5BF9;&#x5B83;&#x8FDB;&#x884C;&#x7C7B;&#x578B;&#x63A8;&#x65AD;&#x4E86;&#x3002;</p><p>&#x8FD9;&#x79CD;&#x505A;&#x6CD5;&#x53EF;&#x4EE5;&#x8BA9;&#x6211;&#x4EEC;&#x4E0D;&#x7528;&#x5206;&#x522B;&#x72EC;&#x7ACB;&#x7EF4;&#x62A4;&#x7C7B;&#x578B;&#x548C;&#x5B9E;&#x73B0;&#xFF0C;&#x5982;&#x679C;&#x5B9E;&#x73B0;&#x53D8;&#x66F4;&#x4E86;&#x7C7B;&#x578B;&#x4E5F;&#x4F1A;&#x968F;&#x4E4B;&#x81EA;&#x52A8;&#x6539;&#x53D8;&#xFF0C;&#x5999;&#xFF01;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type State = Readonly&lt;typeof initialState&gt;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts" style="word-break:break-word;white-space:initial"><span class="hljs-keyword">type</span> State = Readonly&lt;<span class="hljs-keyword">typeof</span> initialState&gt;</code></pre><p>&#x540C;&#x65F6;&#xFF0C;&#x8FD9;&#x91CC;&#x4E5F;&#x660E;&#x786E;&#x5730;&#x628A;&#x6240;&#x6709;&#x5C5E;&#x6027;&#x90FD;&#x6807;&#x8BB0;&#x4E3A;&#x53EA;&#x8BFB;&#x3002;&#x5728;&#x4F7F;&#x7528;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x5730;&#x628A;&#x72B6;&#x6001;&#x5B9A;&#x4E49;&#x4E3A;&#x53EA;&#x8BFB;&#xFF0C;&#x5E76;&#x58F0;&#x660E;&#x4E3A; <code>State</code> &#x7C7B;&#x578B;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="readonly state: State = initialState" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts" style="word-break:break-word;white-space:initial">readonly state: State = initialState</code></pre><p>&#x4E3A;&#x4EC0;&#x4E48;&#x58F0;&#x660E;&#x4E3A;&#x53EA;&#x8BFB;&#x5462;&#xFF1F;<br>&#x8FD9;&#x662F;&#x56E0;&#x4E3A; React &#x4E0D;&#x5141;&#x8BB8;&#x76F4;&#x63A5;&#x66F4;&#x65B0; state &#x53CA;&#x5176;&#x5C5E;&#x6027;&#x3002;&#x7C7B;&#x4F3C;&#x4E0B;&#x9762;&#x7684;&#x505A;&#x6CD5;&#x662F;<strong>&#x9519;&#x8BEF;&#x7684;</strong>&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="this.state.clicksCount = 2
this.state = { clicksCount: 2 }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">this</span>.state.clicksCount = <span class="hljs-number">2</span>
<span class="hljs-keyword">this</span>.state = { clicksCount: <span class="hljs-number">2</span> }</code></pre><p>&#x8BE5;&#x505A;&#x6CD5;&#x5728;&#x7F16;&#x8BD1;&#x65F6;&#x4E0D;&#x4F1A;&#x51FA;&#x9519;&#xFF0C;&#x4F46;&#x662F;&#x4F1A;&#x5BFC;&#x81F4;&#x8FD0;&#x884C;&#x65F6;&#x9519;&#x8BEF;&#x3002;&#x901A;&#x8FC7;&#x4F7F;&#x7528; <code>Readonly</code> &#x663E;&#x5F0F;&#x5730;&#x628A;&#x7C7B;&#x578B; <code>type State</code> &#x7684;&#x5C5E;&#x6027;&#x90FD;&#x6807;&#x8BB0;&#x4E3A;&#x53EA;&#x8BFB;&#x5C5E;&#x6027;&#xFF0C;&#x4EE5;&#x53CA;&#x58F0;&#x660E; <code>state</code> &#x4E3A;&#x53EA;&#x8BFB;&#x5BF9;&#x8C61;&#xFF0C;TypeScript &#x53EF;&#x4EE5;&#x5B9E;&#x65F6;&#x5730;&#x628A;&#x9519;&#x8BEF;&#x7528;&#x6CD5;&#x53CD;&#x9988;&#x7ED9;&#x5F00;&#x53D1;&#x8005;&#xFF0C;&#x4ECE;&#x800C;&#x907F;&#x514D;&#x9519;&#x8BEF;&#x3002;</p><p>&#x6BD4;&#x5982;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbaqkj?w=800&amp;h=279" src="https://static.alili.tech/img/bVbaqkj?w=800&amp;h=279" alt="Compile time State type safety" title="Compile time State type safety" style="cursor:pointer"></span></p><p>&#x7531;&#x4E8E;&#x5BB9;&#x5668;&#x7EC4;&#x4EF6; <code>ButtonCounter</code> &#x8FD8;&#x6CA1;&#x6709;&#x4EFB;&#x4F55;&#x5C5E;&#x6027;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x628A; <code>Component</code> &#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x6CDB;&#x578B;&#x53C2;&#x6570;<strong>&#x7EC4;&#x4EF6;&#x5C5E;&#x6027;&#x7C7B;&#x578B;</strong>&#x8BBE;&#x7F6E;&#x4E3A; <code>object</code>&#xFF0C;&#x56E0;&#x4E3A; <code>props</code> &#x5C5E;&#x6027;&#x5728; React &#x4E2D;&#x603B;&#x662F; <code>{}</code>&#x3002;&#x7B2C;&#x4E8C;&#x4E2A;&#x6CDB;&#x578B;&#x53C2;&#x6570;&#x662F;<strong>&#x7EC4;&#x4EF6;&#x72B6;&#x6001;&#x7C7B;&#x578B;</strong>&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x4F7F;&#x7528;&#x6211;&#x4EEC;&#x524D;&#x9762;&#x5B9A;&#x4E49;&#x7684; <code>State</code> &#x7C7B;&#x578B;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbaqk3?w=1000&amp;h=677" src="https://static.alili.tech/img/bVbaqk3?w=1000&amp;h=677" alt="Stateful Component" title="Stateful Component" style="cursor:pointer"></span></p><p>&#x4F60;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x6CE8;&#x610F;&#x5230;&#xFF0C;&#x5728;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x628A;&#x7EC4;&#x4EF6;&#x66F4;&#x65B0;&#x51FD;&#x6570;&#x72EC;&#x7ACB;&#x6210;&#x4E86;&#x7EC4;&#x4EF6;&#x7C7B;&#x5916;&#x90E8;&#x7684;&#x7EAF;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x662F;&#x4E00;&#x79CD;&#x5E38;&#x7528;&#x7684;&#x6A21;&#x5F0F;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x9700;&#x8981;&#x4E86;&#x89E3;&#x4EFB;&#x4F55;&#x7EC4;&#x4EF6;&#x5185;&#x90E8;&#x7EC6;&#x8282;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;&#x5355;&#x72EC;&#x5BF9;&#x8FD9;&#x4E9B;&#x66F4;&#x65B0;&#x51FD;&#x6570;&#x8FDB;&#x884C;&#x6D4B;&#x8BD5;&#x3002;&#x6B64;&#x5916;&#xFF0C;&#x7531;&#x4E8E;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86; TypeScript &#xFF0C;&#x800C;&#x4E14;&#x5DF2;&#x7ECF;&#x628A;&#x7EC4;&#x4EF6;&#x72B6;&#x6001;&#x8BBE;&#x7F6E;&#x4E3A;&#x53EA;&#x8BFB;&#xFF0C;&#x6240;&#x4EE5;&#x5728;&#x8FD9;&#x79CD;&#x7EAF;&#x51FD;&#x6570;&#x4E2D;&#x5BF9;&#x72B6;&#x6001;&#x7684;&#x4FEE;&#x6539;&#x4E5F;&#x4F1A;&#x88AB;&#x53CA;&#x65F6;&#x53D1;&#x73B0;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const decrementClicksCount = (prevState: State) 
                      =&gt; ({ clicksCount: prevState.clicksCount-- })

// Will throw following complile error:
//
// [ts]
// Cannot assign to &apos;clicksCount&apos; because it is a constant or a read-only property." title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">const</span> decrementClicksCount = <span class="hljs-function">(<span class="hljs-params">prevState: State</span>) 
                      =&gt;</span> ({ clicksCount: prevState.clicksCount-- })

<span class="hljs-comment">// Will throw following complile error:</span>
<span class="hljs-comment">//</span>
<span class="hljs-comment">// [ts]</span>
<span class="hljs-comment">// Cannot assign to &apos;clicksCount&apos; because it is a constant or a read-only property.</span></code></pre><p>&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x9177;&#x5462;&#xFF1F;;)</p><h1 id="articleHeader3">&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;</h1><p>&#x73B0;&#x5728;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x62D3;&#x5C55;&#x4E00;&#x4E0B; <code>Button</code> &#x7EC4;&#x4EF6;&#xFF0C;&#x7ED9;&#x5B83;&#x6DFB;&#x52A0;&#x4E00;&#x4E2A; <code>string</code> &#x7C7B;&#x578B;&#x7684; <code>color</code> &#x5C5E;&#x6027;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type Props = { 
    onClick(e: MouseEvent&lt;HTMLElement&gt;): void
    color: string 
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">type</span> Props = { 
    onClick(e: MouseEvent&lt;HTMLElement&gt;): <span class="hljs-built_in">void</span>
    color: <span class="hljs-built_in">string</span> 
}</code></pre><p>&#x5982;&#x679C;&#x60F3;&#x7ED9;&#x7EC4;&#x4EF6;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; <code>Button.defaultProps = {...}</code> &#x5B9E;&#x73B0;&#x3002;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x5C31;&#x9700;&#x8981;&#x628A;&#x7C7B;&#x578B; <code>Props</code> &#x7684; <code>color</code> &#x6807;&#x8BB0;&#x4E3A;&#x53EF;&#x9009;&#x5C5E;&#x6027;&#x3002;&#x50CF;&#x4E0B;&#x9762;&#x8FD9;&#x6837;&#xFF08;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x95EE;&#x53F7;&#xFF09;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type Props = { 
    onClick(e: MouseEvent&lt;HTMLElement&gt;): void
    color?: string 
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">type</span> Props = { 
    onClick(e: MouseEvent&lt;HTMLElement&gt;): <span class="hljs-built_in">void</span>
    color?: <span class="hljs-built_in">string</span> 
}</code></pre><p>&#x6B64;&#x65F6;&#xFF0C;<code>Button</code> &#x7EC4;&#x4EF6;&#x5C31;&#x53D8;&#x6210;&#x4E86;&#x4E0B;&#x9762;&#x7684;&#x6A21;&#x6837;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const Button: SFC&lt;Props&gt; = ({ onClick: handleClick, color, children }) =&gt; (
    &lt;button style="{{" color "}}" onClick={handleClick}&gt;
        {children}
    &lt;/button&gt;
)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">const</span> Button: SFC&lt;Props&gt; = <span class="hljs-function">(<span class="hljs-params">{ onClick: handleClick, color, children }</span>) =&gt;</span> (
    &lt;button style="{{" color "}}" onClick={handleClick}&gt;
        {children}
    &lt;<span class="hljs-regexp">/button&gt;
)</span></code></pre><p>&#x8FD9;&#x79CD;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x5DE5;&#x4F5C;&#x8D77;&#x6765;&#x662F;&#x6CA1;&#x6BDB;&#x75C5;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x5374;&#x5B58;&#x5728;&#x9690;&#x60A3;&#x3002;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x662F;&#x5728;&#x4E25;&#x683C;&#x6A21;&#x5F0F;&#x4E0B;&#xFF0C;&#x6240;&#x4EE5;&#x53EF;&#x9009;&#x5C5E;&#x6027; <code>color</code> &#x7684;&#x7C7B;&#x578B;&#x5176;&#x5B9E;&#x662F;&#x8054;&#x5408;&#x7C7B;&#x578B; <code>undefined | string</code>&#x3002;</p><p>&#x5047;&#x5982;&#x540E;&#x7EED;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7528;&#x5230; <code>color</code>&#xFF0C;&#x90A3;&#x4E48; TypeScript &#x5C31;&#x4F1A;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#xFF0C;&#x56E0;&#x4E3A;&#x7F16;&#x8BD1;&#x5668;&#x5E76;&#x4E0D;&#x77E5;&#x9053; <code>color</code> &#x5DF2;&#x7ECF;&#x88AB;&#x5B9A;&#x4E49;&#x5728; <code>Component.defaultProps</code> &#x4E86;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbaqoW?w=800&amp;h=250" src="https://static.alili.tech/img/bVbaqoW?w=800&amp;h=250" alt="Default Props issue" title="Default Props issue" style="cursor:pointer"></span></p><p>&#x4E3A;&#x4E86;&#x544A;&#x8BC9; TypeScript &#x7F16;&#x8BD1;&#x5668; <code>color</code> &#x5DF2;&#x7ECF;&#x88AB;&#x5B9A;&#x4E49;&#x4E86;&#xFF0C;&#x6709;&#x4EE5;&#x4E0B; 3 &#x79CD;&#x529E;&#x6CD5;&#xFF1A;</p><ul><li>&#x4F7F;&#x7528;<strong><code>!</code> &#x64CD;&#x4F5C;&#x7B26;</strong>&#xFF08;Bang Operator&#xFF09;&#x663E;&#x5F0F;&#x5730;&#x544A;&#x8BC9;&#x7F16;&#x8BD1;&#x5668;&#x5B83;&#x7684;&#x503C;&#x4E0D;&#x4E3A;&#x7A7A;&#xFF0C;&#x50CF;&#x8FD9;&#x6837; <code>&lt;button onClick={handleClick!}&gt;{children}&lt;/button&gt;</code></li><li>&#x4F7F;&#x7528;<strong>&#x4E09;&#x5143;&#x64CD;&#x4F5C;&#x7B26;</strong>&#xFF08;Ternary Operator&#xFF09;&#x544A;&#x8BC9;&#x7F16;&#x8BD1;&#x5668;&#x503C;&#x5B83;&#x7684;&#x503C;&#x4E0D;&#x4E3A;&#x7A7A;&#xFF1A;<code>&lt;button onClick={handleClick ? handleClick: undefined}&gt;{children}&lt;/button&gt;</code></li><li>&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x53EF;&#x590D;&#x7528;&#x7684;<strong>&#x9AD8;&#x9636;&#x51FD;&#x6570;</strong>&#xFF08;High Order Function&#xFF09;<code>withDefaultProps</code>&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x4F1A;&#x66F4;&#x65B0;&#x6211;&#x4EEC;&#x7684;&#x5C5E;&#x6027;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;&#x5E76;&#x4E14;&#x8BBE;&#x7F6E;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#x3002;&#x662F;&#x6211;&#x89C1;&#x8FC7;&#x7684;&#x6700;&#x7EAF;&#x7CB9;&#x7684;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x3002;</li></ul><p>&#x591A;&#x4E8F;&#x4E86; TypeScript 2.8 &#x65B0;&#x589E;&#x7684;&#x9884;&#x5B9A;&#x4E49;&#x6761;&#x4EF6;&#x7C7B;&#x578B;&#xFF0C;<code>withDefaultProps</code> &#x5B9E;&#x73B0;&#x8D77;&#x6765;&#x975E;&#x5E38;&#x7B80;&#x5355;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbaqpX?w=800&amp;h=450" src="https://static.alili.tech/img/bVbaqpX?w=800&amp;h=450" alt="withDefaultProps High order function generic helper" title="withDefaultProps High order function generic helper" style="cursor:pointer"></span></p><blockquote>&#x6CE8;&#x610F;&#xFF1A; <code>Omit</code> &#x5E76;&#x6CA1;&#x6709;&#x6210;&#x4E3A; TypeScript 2.8 &#x9884;&#x5B9A;&#x4E49;&#x7684;&#x6761;&#x4EF6;&#x6620;&#x5C04;&#x7C7B;&#x578B;&#xFF0C;&#x56E0;&#x6B64;&#x9700;&#x8981;&#x81EA;&#x884C;&#x5B9E;&#x73B0;&#xFF1A; <code>declare type Omit&lt;T, K&gt; = Pick&lt;T, Exclude&lt;keyof T, K&gt;&gt;;</code></blockquote><p>&#x4E0B;&#x9762;&#x6211;&#x4EEC;&#x7528;&#x5B83;&#x6765;&#x89E3;&#x51B3;&#x4E0A;&#x9762;&#x7684;&#x95EE;&#x9898;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbaqp5?w=800&amp;h=440" src="https://static.alili.tech/img/bVbaqp5?w=800&amp;h=440" alt="Define default props on our Button component" title="Define default props on our Button component" style="cursor:pointer"></span></p><p>&#x6216;&#x8005;&#x66F4;&#x7B80;&#x5355;&#x7684;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbaqqQ?w=800&amp;h=382" src="https://static.alili.tech/img/bVbaqqQ?w=800&amp;h=382" alt="Define default props on inline with Component implementation" title="Define default props on inline with Component implementation" style="cursor:pointer"></span></p><p>&#x73B0;&#x5728;&#xFF0C;<code>Button</code> &#x7684;&#x7EC4;&#x4EF6;&#x5C5E;&#x6027;&#x5DF2;&#x7ECF;&#x5B9A;&#x4E49;&#x597D;&#xFF0C;&#x53EF;&#x4EE5;&#x88AB;&#x4F7F;&#x7528;&#x4E86;&#x3002;&#x5728;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;&#x4E0A;&#xFF0C;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#x4E5F;&#x88AB;&#x6807;&#x8BB0;&#x4E3A;&#x53EF;&#x9009;&#x5C5E;&#x6027;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x662F;&#x73B0;&#x5B9E;&#x4E0A;&#x4ECD;&#x7136;&#x662F;&#x5FC5;&#x9009;&#x7684;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="{
  onClick(e: MouseEvent&lt;HTMLElement&gt;): void
  color?: string
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts">{
  onClick(e: MouseEvent&lt;HTMLElement&gt;): <span class="hljs-built_in">void</span>
  color?: <span class="hljs-built_in">string</span>
}</code></pre><p><span class="img-wrap"><img data-src="/img/bVbcpq0?w=1410&amp;h=142" src="https://static.alili.tech/img/bVbcpq0?w=1410&amp;h=142" alt="button with default props" title="button with default props" style="cursor:pointer"></span></p><p>&#x5728;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x4E0A;&#x4E5F;&#x662F;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="render(){
  return (
    &lt;ButtonWithDefaultProps 
      onClick={this.handleIncrement}
    &gt;
      Increment
    &lt;/ButtonWithDefaultProps&gt;
  )
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts">render(){
  <span class="hljs-keyword">return</span> (
    &lt;ButtonWithDefaultProps 
      onClick={<span class="hljs-keyword">this</span>.handleIncrement}
    &gt;
      Increment
    &lt;<span class="hljs-regexp">/ButtonWithDefaultProps&gt;
  )
}</span></code></pre><p><code>withDefaultProps</code> &#x4E5F;&#x80FD;&#x7528;&#x5728;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <code>class</code> &#x5B9A;&#x4E49;&#x7684;&#x7EC4;&#x4EF6;&#x4E0A;&#xFF0C;&#x5982;&#x4E0B;&#x56FE;&#x6240;&#x793A;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcprD?w=1320&amp;h=740" src="https://static.alili.tech/img/bVbcprD?w=1320&amp;h=740" alt="inline class" title="inline class" style="cursor:pointer;display:inline"></span></p><blockquote>&#x8FD9;&#x91CC;&#x591A;&#x4E8F;&#x4E86; TS &#x7684;&#x7C7B;&#x7ED3;&#x6784;&#x6E90;&#xFF0C;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x663E;&#x5F0F;&#x5B9A;&#x4E49; <code>Props</code> &#x6CDB;&#x578B;&#x7C7B;&#x578B;</blockquote><p><code>ButtonViaClass</code> &#x7EC4;&#x4EF6;&#x7684;&#x7528;&#x6CD5;&#x4E5F;&#x8FD8;&#x662F;&#x4FDD;&#x6301;&#x4E00;&#x81F4;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="render(){
  return (
    &lt;ButtonViaClass
      onClick={this.handleIncrement}
    &gt;
      Increment
    &lt;/ButtonViaClass&gt;
  )
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts">render(){
  <span class="hljs-keyword">return</span> (
    &lt;ButtonViaClass
      onClick={<span class="hljs-keyword">this</span>.handleIncrement}
    &gt;
      Increment
    &lt;<span class="hljs-regexp">/ButtonViaClass&gt;
  )
}</span></code></pre><p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x4F1A;&#x7F16;&#x5199;&#x4E00;&#x4E2A;&#x53EF;&#x5C55;&#x5F00;&#x7684;&#x83DC;&#x5355;&#x7EC4;&#x4EF6;&#xFF0C;&#x5F53;&#x70B9;&#x51FB;&#x7EC4;&#x4EF6;&#x65F6;&#xFF0C;&#x5B83;&#x4F1A;&#x663E;&#x793A;&#x5B50;&#x7EC4;&#x4EF6;&#x5185;&#x5BB9;&#x3002;&#x6211;&#x4EEC;&#x4F1A;&#x7528;&#x591A;&#x79CD;&#x4E0D;&#x540C;&#x7684;&#x7EC4;&#x4EF6;&#x6A21;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x5B83;&#x3002;</p><h1 id="articleHeader4">&#x6E32;&#x67D3;&#x56DE;&#x8C03;/&#x6E32;&#x67D3;&#x5C5E;&#x6027;&#x6A21;&#x5F0F;</h1><p>&#x8981;&#x60F3;&#x8BA9;&#x4E00;&#x4E2A;&#x7EC4;&#x4EF6;&#x53D8;&#x5F97;&#x53EF;&#x590D;&#x7528;&#xFF0C;&#x6700;&#x7B80;&#x5355;&#x7684;&#x529E;&#x6CD5;&#x662F;&#x628A;&#x7EC4;&#x4EF6;&#x5B50;&#x5143;&#x7D20;&#x53D8;&#x6210;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x6216;&#x8005;&#x65B0;&#x589E;&#x4E00;&#x4E2A; <code>render</code> &#x5C5E;&#x6027;&#x3002;&#x8FD9;&#x4E5F;&#x662F;<strong>&#x6E32;&#x67D3;&#x56DE;&#x8C03;</strong>&#xFF08;Render Callback&#xFF09;&#x53C8;&#x88AB;&#x79F0;&#x4E3A;<strong>&#x5B50;&#x7EC4;&#x4EF6;&#x51FD;&#x6570;</strong>&#xFF08;Function as Child Component&#xFF09;&#x7684;&#x539F;&#x56E0;&#x3002;</p><p>&#x9996;&#x5148;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x62E5;&#x6709; <code>render</code> &#x5C5E;&#x6027;&#x7684; <code>Toggleable</code> &#x7EC4;&#x4EF6;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpso?w=1622&amp;h=1576" src="https://static.alili.tech/img/bVbcpso?w=1622&amp;h=1576" alt="toggleable component" title="toggleable component" style="cursor:pointer"></span></p><p>&#x5B58;&#x5728;&#x4E0D;&#x5C11;&#x7591;&#x60D1;&#xFF1F;</p><p>&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x4E00;&#x6B65;&#x4E00;&#x6B65;&#x770B;&#x5404;&#x4E2A;&#x91CD;&#x8981;&#x90E8;&#x5206;&#x7684;&#x5B9E;&#x73B0;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const initialState = { show: false }
type State = Readonly&lt;typeof initialState&gt;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">const</span> initialState = { show: <span class="hljs-literal">false</span> }
<span class="hljs-keyword">type</span> State = Readonly&lt;<span class="hljs-keyword">typeof</span> initialState&gt;</code></pre><p>&#x8FD9;&#x4E2A;&#x6CA1;&#x4EC0;&#x4E48;&#x65B0;&#x5185;&#x5BB9;&#xFF0C;&#x5C31;&#x8DDF;&#x6211;&#x4EEC;&#x524D;&#x6587;&#x7684;&#x4F8B;&#x5B50;&#x4E00;&#x6837;&#xFF0C;&#x53EA;&#x662F;&#x58F0;&#x660E;&#x72B6;&#x6001;&#x7C7B;&#x578B;&#x3002;</p><p>&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x5B9A;&#x4E49;&#x7EC4;&#x4EF6;&#x5C5E;&#x6027;&#x3002;&#x6CE8;&#x610F;&#xFF1A;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x6620;&#x5C04;&#x7C7B;&#x578B; <code>Partial</code> &#x6765;&#x628A;&#x5C5E;&#x6027;&#x6807;&#x8BB0;&#x4E3A;&#x53EF;&#x9009;&#xFF0C;&#x800C;&#x4E0D;&#x662F;&#x4F7F;&#x7528; <code>?</code> &#x64CD;&#x4F5C;&#x7B26;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type Props = Partial&lt;{
  children: RenderCallback
  render: RenderCallback
}&gt;
type RenderCallback = (args: ToggleableComponentProps) =&gt; JSX.Element
type ToggleableComponentProps = { 
  show: State[&apos;show&apos;]
  toggle: Toggleable[&apos;toggle&apos;] 
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">type</span> Props = Partial&lt;{
  children: RenderCallback
  render: RenderCallback
}&gt;
<span class="hljs-keyword">type</span> RenderCallback = <span class="hljs-function">(<span class="hljs-params">args: ToggleableComponentProps</span>) =&gt;</span> JSX.Element
<span class="hljs-keyword">type</span> ToggleableComponentProps = { 
  show: State[<span class="hljs-string">&apos;show&apos;</span>]
  toggle: Toggleable[<span class="hljs-string">&apos;toggle&apos;</span>] 
}</code></pre><p>&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x540C;&#x65F6;&#x652F;&#x6301;&#x5B50;&#x7EC4;&#x4EF6;&#x51FD;&#x6570;&#x548C;&#x6E32;&#x67D3;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x628A;&#x5B83;&#x4EEC;&#x90FD;&#x6807;&#x8BB0;&#x4E3A;&#x53EF;&#x9009;&#x7684;&#x3002;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x91CD;&#x590D;&#x9020;&#x8F6E;&#x5B50;&#xFF0C;&#x8FD9;&#x91CC;&#x4E3A;&#x6E32;&#x67D3;&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x4E86; <code>RenderCallback</code> &#x7C7B;&#x578B;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type RenderCallback = (args: ToggleableComponentProps) =&gt; JSX.Element" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts" style="word-break:break-word;white-space:initial"><span class="hljs-keyword">type</span> RenderCallback = <span class="hljs-function">(<span class="hljs-params">args: ToggleableComponentProps</span>) =&gt;</span> JSX.Element</code></pre><p>&#x5176;&#x4E2D;&#xFF0C;&#x770B;&#x8D77;&#x6765;&#x53EF;&#x80FD;&#x4EE4;&#x4EBA;&#x7591;&#x60D1;&#x7684;&#x662F;&#x7C7B;&#x578B; <code>type ToggleableComponentProps</code>&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type ToggleableComponentProps = { 
  show: State[&apos;show&apos;]
  toggle: Toggleable[&apos;toggle&apos;] 
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">type</span> ToggleableComponentProps = { 
  show: State[<span class="hljs-string">&apos;show&apos;</span>]
  toggle: Toggleable[<span class="hljs-string">&apos;toggle&apos;</span>] 
}</code></pre><p>&#x8FD9;&#x4E2A;&#x5176;&#x5B9E;&#x662F;&#x7528;&#x5230;&#x4E86; TS &#x7684;&#x7C7B;&#x578B;&#x67E5;&#x8BE2;&#x529F;&#x80FD;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#x6211;&#x4EEC;&#x5C31;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x590D;&#x5B9A;&#x4E49;&#x7C7B;&#x578B;&#x4E86;&#xFF1A;</p><ul><li><code>show: State[&apos;show&apos;]</code>:&#x4F7F;&#x7528;&#x5728;&#x72B6;&#x6001;&#x4E2D;&#x5DF2;&#x7ECF;&#x5B9A;&#x4E49;&#x7684;&#x7C7B;&#x578B;&#x6765;&#x4E3A; <code>show</code> &#x58F0;&#x660E;&#x7C7B;&#x578B;</li><li><code>toggle: Toggleable[&apos;toggle&apos;]</code>:&#x901A;&#x8FC7;&#x7C7B;&#x578B;&#x63A8;&#x65AD;&#x548C;&#x7C7B;&#x7ED3;&#x6784;&#x83B7;&#x53D6;&#x65B9;&#x6CD5;&#x7C7B;&#x578B;&#x3002;&#x4F18;&#x96C5;&#x800C;&#x5F3A;&#x5927;&#xFF01;</li></ul><p>&#x5176;&#x4ED6;&#x90E8;&#x5206;&#x7684;&#x5B9E;&#x73B0;&#x662F;&#x5F88;&#x76F4;&#x89C2;&#x7684;&#xFF0C;&#x6807;&#x51C6;&#x7684;&#x6E32;&#x67D3;&#x5C5E;&#x6027;/&#x5B50;&#x7EC4;&#x4EF6;&#x51FD;&#x6570;&#x6A21;&#x5F0F;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export class Toggleable extends Component&lt;Props, State&gt; {
  // ...
  render() {
    const { children, render } = this.props
    const renderProps = { show: this.state.show, toggle: this.toggle }
    if (render) {
      return render(renderProps)
    }
    return isFunction(children) ? children(renderProps) : null
  }
  // ...
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> Toggleable <span class="hljs-keyword">extends</span> Component&lt;Props, State&gt; {
  <span class="hljs-comment">// ...</span>
  render() {
    <span class="hljs-keyword">const</span> { children, render } = <span class="hljs-keyword">this</span>.props
    <span class="hljs-keyword">const</span> renderProps = { show: <span class="hljs-keyword">this</span>.state.show, toggle: <span class="hljs-keyword">this</span>.toggle }
    <span class="hljs-keyword">if</span> (render) {
      <span class="hljs-keyword">return</span> render(renderProps)
    }
    <span class="hljs-keyword">return</span> isFunction(children) ? children(renderProps) : <span class="hljs-literal">null</span>
  }
  <span class="hljs-comment">// ...</span>
}</code></pre><p>&#x81F3;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x5B50;&#x7EC4;&#x4EF6;&#x51FD;&#x6570;&#x6765;&#x4F7F;&#x7528; <code>Toggleable</code> &#x7EC4;&#x4EF6;&#x4E86;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpug?w=1016&amp;h=608" src="https://static.alili.tech/img/bVbcpug?w=1016&amp;h=608" alt="children as a function" title="children as a function" style="cursor:pointer"></span></p><p>&#x6216;&#x8005;&#x7ED9; <code>render</code> &#x5C5E;&#x6027;&#x4F20;&#x9012;&#x6E32;&#x67D3;&#x51FD;&#x6570;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpuk?w=898&amp;h=608" src="https://static.alili.tech/img/bVbcpuk?w=898&amp;h=608" alt="render prop" title="render prop" style="cursor:pointer"></span></p><p>&#x5F97;&#x76CA;&#x4E8E;&#x5F3A;&#x5927;&#x7684; TS &#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x7F16;&#x7801;&#x7684;&#x65F6;&#x5019;&#x8FD8;&#x53EF;&#x4EE5;&#x6709;&#x4EE3;&#x7801;&#x63D0;&#x793A;&#x548C;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpuz?w=674&amp;h=370" src="https://static.alili.tech/img/bVbcpuz?w=674&amp;h=370" alt="soundness" title="soundness" style="cursor:pointer"></span></p><p>&#x5982;&#x679C;&#x6211;&#x4EEC;&#x60F3;&#x590D;&#x7528;&#x5B83;&#xFF0C;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x7EC4;&#x4EF6;&#x6765;&#x4F7F;&#x7528;&#x5B83;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpuN?w=1196&amp;h=740" src="https://static.alili.tech/img/bVbcpuN?w=1196&amp;h=740" alt="ToggleableMenu" title="ToggleableMenu" style="cursor:pointer;display:inline"></span></p><p>&#x8FD9;&#x4E2A;&#x5168;&#x65B0;&#x7684; <code>ToggleableMenu</code> &#x7EC4;&#x4EF6;&#x73B0;&#x5728;&#x5C31;&#x53EF;&#x4EE5;&#x7528;&#x5728;&#x83DC;&#x5355;&#x7EC4;&#x4EF6;&#x4E2D;&#x4E86;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpu2?w=1468&amp;h=652" src="https://static.alili.tech/img/bVbcpu2?w=1468&amp;h=652" alt="Menu Component" title="Menu Component" style="cursor:pointer;display:inline"></span></p><p>&#x800C;&#x4E14;&#x6548;&#x679C;&#x4E5F;&#x6B63;&#x5982;&#x6211;&#x4EEC;&#x6240;&#x9884;&#x671F;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpu7?w=647&amp;h=479" src="https://static.alili.tech/img/bVbcpu7?w=647&amp;h=479" alt="menu demo" title="menu demo" style="cursor:pointer;display:inline"></span></p><p>&#x8FD9;&#x79CD;&#x65B9;&#x5F0F;&#x975E;&#x5E38;&#x9002;&#x5408;&#x7528;&#x5728;&#x9700;&#x8981;&#x6539;&#x53D8;&#x6E32;&#x67D3;&#x5185;&#x5BB9;&#x672C;&#x8EAB;&#xFF0C;&#x800C;&#x53C8;&#x4E0D;&#x60F3;&#x4F7F;&#x7528;&#x72B6;&#x6001;&#x7684;&#x573A;&#x666F;&#x3002;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x628A;&#x6E32;&#x67D3;&#x903B;&#x8F91;&#x79FB;&#x5230;&#x4E86; <code>ToggleableMenu</code> &#x7684;&#x5B50;&#x7EC4;&#x4EF6;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x540C;&#x65F6;&#x53C8;&#x628A;&#x72B6;&#x6001;&#x903B;&#x8F91;&#x7559;&#x5728; <code>Toggleable</code> &#x7EC4;&#x4EF6;&#x4E2D;&#x3002;</p><h1 id="articleHeader5">&#x7EC4;&#x4EF6;&#x6CE8;&#x5165;</h1><p>&#x4E3A;&#x4E86;&#x8BA9;&#x6211;&#x4EEC;&#x7684;&#x7EC4;&#x4EF6;&#x66F4;&#x52A0;&#x7075;&#x6D3B;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x5F15;&#x5165;<strong>&#x7EC4;&#x4EF6;&#x6CE8;&#x5165;</strong>&#xFF08;Component Injection&#xFF09;&#x6A21;&#x5F0F;&#x3002;</p><p>&#x4F55;&#x4E3A;&#x7EC4;&#x4EF6;&#x6CE8;&#x5165;&#x6A21;&#x5F0F;&#xFF1F;&#x5982;&#x679C;&#x4F60;&#x719F;&#x6089; React-Router &#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x4E48;&#x5728;&#x5B9A;&#x4E49;&#x8DEF;&#x7531;&#x7684;&#x65F6;&#x5019;&#x5C31;&#x662F;&#x5728;&#x4F7F;&#x7528;&#x8FD9;&#x4E2A;&#x6A21;&#x5F0F;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="&lt;Route path=&quot;/foo&quot; component={MyView} /&gt;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts" style="word-break:break-word;white-space:initial">&lt;Route path=<span class="hljs-string">&quot;/foo&quot;</span> component={MyView} /&gt;</code></pre><p>&#x6240;&#x4EE5;&#xFF0C;&#x9664;&#x4E86;&#x4F20;&#x9012; render/children &#x5C5E;&#x6027;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x53EF;&#x4EE5;&#x901A;&#x8FC7; <code>component</code> &#x5C5E;&#x6027;&#x6765;&#x6CE8;&#x5165;&#x7EC4;&#x4EF6;&#x3002;&#x4E3A;&#x6B64;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x628A;&#x884C;&#x5185;&#x6E32;&#x67D3;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x91CD;&#x6784;&#x6210;&#x53EF;&#x590D;&#x7528;&#x7684;&#x65E0;&#x72B6;&#x6001;&#x7EC4;&#x4EF6;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="import { ToggleableComponentProps } from &apos;./toggleable&apos;
type MenuItemProps = { title: string }
const MenuItem: SFC&lt;MenuItemProps &amp; ToggleableComponentProps&gt; = ({
  title,
  toggle,
  show,
  children,
}) =&gt; (
  &lt;&gt;
    &lt;div onClick={toggle}&gt;
      &lt;h1&gt;{title}&lt;/h1&gt;
    &lt;/div&gt;
    {show ? children : null}
  &lt;/&gt;
)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">import</span> { ToggleableComponentProps } <span class="hljs-keyword">from</span> <span class="hljs-string">&apos;./toggleable&apos;</span>
<span class="hljs-keyword">type</span> MenuItemProps = { title: <span class="hljs-built_in">string</span> }
<span class="hljs-keyword">const</span> MenuItem: SFC&lt;MenuItemProps &amp; ToggleableComponentProps&gt; = ({
  title,
  toggle,
  show,
  children,
}) =&gt; (
  &lt;&gt;
    &lt;div onClick={toggle}&gt;
      &lt;h1&gt;{title}&lt;<span class="hljs-regexp">/h1&gt;
    &lt;/</span>div&gt;
    {show ? children : <span class="hljs-literal">null</span>}
  &lt;<span class="hljs-regexp">/&gt;
)</span></code></pre><p>&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;<code>ToggleableMenu</code> &#x4E5F;&#x9700;&#x8981;&#x91CD;&#x6784;&#x4E0B;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type Props = { title: string }
const ToggleableMenu: SFC&lt;Props&gt; = ({ title, children }) =&gt; (
  &lt;Toggleable
    render={({ show, toggle }) =&gt; (
      &lt;MenuItem show={show} toggle={toggle} title={title}&gt;
        {children}
      &lt;/MenuItem&gt;
    )}
  /&gt;
)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">type</span> Props = { title: <span class="hljs-built_in">string</span> }
<span class="hljs-keyword">const</span> ToggleableMenu: SFC&lt;Props&gt; = <span class="hljs-function">(<span class="hljs-params">{ title, children }</span>) =&gt;</span> (
  &lt;Toggleable
    render={<span class="hljs-function">(<span class="hljs-params">{ show, toggle }</span>) =&gt;</span> (
      &lt;MenuItem show={show} toggle={toggle} title={title}&gt;
        {children}
      &lt;<span class="hljs-regexp">/MenuItem&gt;
    )}
  /</span>&gt;
)</code></pre><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5B9A;&#x4E49;&#x65B0;&#x7684; <code>component</code> &#x5C5E;&#x6027;&#x3002;<br>&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x66F4;&#x65B0;&#x4E0B;&#x5C5E;&#x6027;&#x6210;&#x5458;&#xFF1A;</p><ul><li><code>children</code> &#x53EF;&#x4EE5;&#x662F;&#x51FD;&#x6570;&#x6216;&#x8005;&#x662F; <code>ReactNode</code></li><li><code>component</code> &#x662F;&#x65B0;&#x6210;&#x5458;&#xFF0C;&#x5B83;&#x7684;&#x503C;&#x4E3A;&#x7EC4;&#x4EF6;&#xFF0C;&#x8BE5;&#x7EC4;&#x4EF6;&#x7684;&#x5C5E;&#x6027;&#x9700;&#x8981;&#x5B9E;&#x73B0; <code>ToggleableComponentProps</code>&#xFF0C;&#x540C;&#x65F6;&#x5B83;&#x53C8;&#x5FC5;&#x987B;&#x652F;&#x6301;&#x9ED8;&#x8BA4;&#x4E3A; <code>any</code> &#x7684;&#x6CDB;&#x578B;&#x7C7B;&#x578B;&#xFF0C;&#x8FD9;&#x6837;&#x5B83;&#x4E0D;&#x4F1A;&#x4EC5;&#x4EC5;&#x7528;&#x4E8E;&#x5B9E;&#x73B0;&#x4E86; <code>ToggleableComponentProps</code> &#x5C5E;&#x6027;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</li><li><code>props</code> &#x662F;&#x65B0;&#x6210;&#x5458;&#xFF0C;&#x7528;&#x6765;&#x5F80;&#x4E0B;&#x4F20;&#x9012;&#x4EFB;&#x610F;&#x5C5E;&#x6027;&#xFF0C;&#x8FD9;&#x4E5F;&#x662F;&#x4E00;&#x79CD;&#x901A;&#x7528;&#x6A21;&#x5F0F;&#x3002;&#x5B83;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x7C7B;&#x578B;&#x662F; <code>any</code> &#x7684;&#x7D22;&#x5F15;&#x7C7B;&#x578B;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x5176;&#x5B9E;&#x4E22;&#x5931;&#x4E86;&#x4E25;&#x683C;&#x7684;&#x5B89;&#x5168;&#x68C0;&#x67E5;&#x3002;</li></ul><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// &#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x5C5E;&#x6027;&#x7C7B;&#x578B;&#x6765;&#x58F0;&#x660E;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#xFF0C;props &#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#x5BF9;&#x8C61;
const defaultProps = { props: {} as { [name: string]: any } }
type Props = Partial&lt;
  {
    children: RenderCallback | ReactNode
    render: RenderCallback
    component: ComponentType&lt;ToggleableComponentProps&lt;any&gt;&gt;
  } &amp; DefaultProps
&gt;
type DefaultProps = typeof defaultProps" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-comment">// &#x4F7F;&#x7528;&#x4EFB;&#x610F;&#x5C5E;&#x6027;&#x7C7B;&#x578B;&#x6765;&#x58F0;&#x660E;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#xFF0C;props &#x9ED8;&#x8BA4;&#x4E3A;&#x7A7A;&#x5BF9;&#x8C61;</span>
<span class="hljs-keyword">const</span> defaultProps = { props: {} <span class="hljs-keyword">as</span> { [name: <span class="hljs-built_in">string</span>]: <span class="hljs-built_in">any</span> } }
<span class="hljs-keyword">type</span> Props = Partial&lt;
  {
    children: RenderCallback | ReactNode
    render: RenderCallback
    component: ComponentType&lt;ToggleableComponentProps&lt;<span class="hljs-built_in">any</span>&gt;&gt;
  } &amp; DefaultProps
&gt;
<span class="hljs-keyword">type</span> DefaultProps = <span class="hljs-keyword">typeof</span> defaultProps</code></pre><p>&#x63A5;&#x7740;&#xFF0C;&#x9700;&#x8981;&#x628A;&#x65B0;&#x7684; <code>props</code> &#x540C;&#x6B65;&#x5230; <code>ToggleableComponentProps</code>&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x4F7F;&#x7528; <code>props</code> &#x5C5E;&#x6027; <code>&lt;Toggleable props={...}/&gt;</code>&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export type ToggleableComponentProps&lt;P extends object = object&gt; = {
  show: State[&apos;show&apos;]
  toggle: Toggleable[&apos;toggle&apos;]
} &amp; P" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">type</span> ToggleableComponentProps&lt;P <span class="hljs-keyword">extends</span> object = object&gt; = {
  show: State[<span class="hljs-string">&apos;show&apos;</span>]
  toggle: Toggleable[<span class="hljs-string">&apos;toggle&apos;</span>]
} &amp; P</code></pre><p>&#x6700;&#x540E;&#x8FD8;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E0B; <code>render</code> &#x65B9;&#x6CD5;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="render() {
    const { 
     component: InjectedComponent, 
     children, 
     render, 
     props 
    } = this.props
    const renderProps = { 
     show: this.state.show, toggle: this.toggle 
    }
    // &#x5F53;&#x4F7F;&#x7528; component &#x5C5E;&#x6027;&#x65F6;&#xFF0C;children &#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x800C;&#x662F; ReactNode
    if (InjectedComponent) {
      return (
        &lt;InjectedComponent {...props} {...renderProps}&gt;
          {children}
        &lt;/InjectedComponent&gt;
      )
    }
    if (render) {
      return render(renderProps)
    }
    // children as a function comes last
    return isFunction(children) ? children(renderProps) : null
  }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts">render() {
    <span class="hljs-keyword">const</span> { 
     component: InjectedComponent, 
     children, 
     render, 
     props 
    } = <span class="hljs-keyword">this</span>.props
    <span class="hljs-keyword">const</span> renderProps = { 
     show: <span class="hljs-keyword">this</span>.state.show, toggle: <span class="hljs-keyword">this</span>.toggle 
    }
    <span class="hljs-comment">// &#x5F53;&#x4F7F;&#x7528; component &#x5C5E;&#x6027;&#x65F6;&#xFF0C;children &#x4E0D;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x800C;&#x662F; ReactNode</span>
    <span class="hljs-keyword">if</span> (InjectedComponent) {
      <span class="hljs-keyword">return</span> (
        &lt;InjectedComponent {...props} {...renderProps}&gt;
          {children}
        &lt;<span class="hljs-regexp">/InjectedComponent&gt;
      )
    }
    if (render) {
      return render(renderProps)
    }
    /</span><span class="hljs-regexp">/ children as a function comes last
    return isFunction(children) ? children(renderProps) : null
  }</span></code></pre><p>&#x628A;&#x524D;&#x9762;&#x7684;&#x5185;&#x5BB9;&#x90FD;&#x7EFC;&#x5408;&#x8D77;&#x6765;&#xFF0C;&#x5C31;&#x5B9E;&#x73B0;&#x4E86;&#x4E00;&#x4E2A;&#x652F;&#x6301; <code>render</code> &#x5C5E;&#x6027;&#x3001;&#x51FD;&#x6570;&#x5B50;&#x7EC4;&#x4EF6;&#x548C;&#x7EC4;&#x4EF6;&#x6CE8;&#x5165;&#x7684; <code>Toggleable</code> &#x7EC4;&#x4EF6;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpwz?w=1620&amp;h=2280" src="https://static.alili.tech/img/bVbcpwz?w=1620&amp;h=2280" alt="full toggleable component" title="full toggleable component" style="cursor:pointer"></span></p><p>&#x5176;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x5982;&#x4E0B;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpwA?w=1600&amp;h=347" src="https://static.alili.tech/img/bVbcpwA?w=1600&amp;h=347" alt="ToggleableMenu with component injection pattern" title="ToggleableMenu with component injection pattern" style="cursor:pointer;display:inline"></span></p><p>&#x8FD9;&#x91CC;&#x8981;&#x6CE8;&#x610F;&#xFF1A;&#x6211;&#x4EEC;&#x81EA;&#x5B9A;&#x4E49;&#x7684; <code>props</code> &#x5C5E;&#x6027;&#x5E76;&#x6CA1;&#x6709;&#x5B89;&#x5168;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#xFF0C;&#x56E0;&#x4E3A;&#x5B83;&#x88AB;&#x5B9A;&#x4E49;&#x4E3A;&#x7D22;&#x5F15;&#x7C7B;&#x578B; <code>{ [name: string]: any }</code>&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbcpwI?w=853&amp;h=288" src="https://static.alili.tech/img/bVbcpwI?w=853&amp;h=288" alt="We can pass anything to our props prop :(" title="We can pass anything to our props prop :(" style="cursor:pointer"></span></p><p>&#x5728;&#x83DC;&#x5355;&#x7EC4;&#x4EF6;&#x7684;&#x6E32;&#x67D3;&#x4E2D;&#xFF0C;<code>ToggleableMenuViaComponentInjection</code> &#x7EC4;&#x4EF6;&#x7684;&#x4F7F;&#x7528;&#x65B9;&#x5F0F;&#x8DDF;&#x539F;&#x6765;&#x4E00;&#x81F4;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export class Menu extends Component {
  render() {
    return (
      &lt;&gt;
        &lt;ToggleableMenuViaComponentInjection title=&quot;First Menu&quot;&gt;
          Some content
        &lt;/ToggleableMenuViaComponentInjection&gt;
        &lt;ToggleableMenuViaComponentInjection title=&quot;Second Menu&quot;&gt;
          Another content
        &lt;/ToggleableMenuViaComponentInjection&gt;
        &lt;ToggleableMenuViaComponentInjection title=&quot;Third Menu&quot;&gt;
          More content
        &lt;/ToggleableMenuViaComponentInjection&gt;
      &lt;/&gt;
    )
  }
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> Menu <span class="hljs-keyword">extends</span> Component {
  render() {
    <span class="hljs-keyword">return</span> (
      &lt;&gt;
        &lt;ToggleableMenuViaComponentInjection title=<span class="hljs-string">&quot;First Menu&quot;</span>&gt;
          Some content
        &lt;<span class="hljs-regexp">/ToggleableMenuViaComponentInjection&gt;
        &lt;ToggleableMenuViaComponentInjection title=&quot;Second Menu&quot;&gt;
          Another content
        &lt;/</span>ToggleableMenuViaComponentInjection&gt;
        &lt;ToggleableMenuViaComponentInjection title=<span class="hljs-string">&quot;Third Menu&quot;</span>&gt;
          More content
        &lt;<span class="hljs-regexp">/ToggleableMenuViaComponentInjection&gt;
      &lt;/</span>&gt;
    )
  }
}</code></pre><h1 id="articleHeader6">&#x6CDB;&#x578B;&#x7EC4;&#x4EF6;</h1><p>&#x5728;&#x524D;&#x9762;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x7EC4;&#x4EF6;&#x6CE8;&#x5165;&#x6A21;&#x5F0F;&#x65F6;&#xFF0C;&#x6709;&#x4E00;&#x4E2A;&#x5927;&#x95EE;&#x9898;&#x662F; <code>props</code> &#x5C5E;&#x6027;&#x5931;&#x53BB;&#x4E86;&#x4E25;&#x683C;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x3002;&#x5982;&#x4F55;&#x89E3;&#x51B3;&#x8FD9;&#x4E2A;&#x95EE;&#x9898;&#xFF1F;&#x4F60;&#x53EF;&#x80FD;&#x5DF2;&#x7ECF;&#x731C;&#x5230;&#x4E86;&#xFF01;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x628A; <code>Toggleable</code> &#x5B9E;&#x73B0;&#x4E3A;&#x6CDB;&#x578B;&#x7EC4;&#x4EF6;&#x3002;</p><p>&#x9996;&#x5148;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x628A;&#x5C5E;&#x6027;&#x6CDB;&#x578B;&#x5316;&#x3002;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x6CDB;&#x578B;&#x53C2;&#x6570;&#xFF0C;&#x8FD9;&#x6837;&#x7684;&#x8BDD;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x4E0D;&#x9700;&#x8981;&#x4F20; <code>props</code> &#x65F6;&#x5C31;&#x53EF;&#x4EE5;&#x4E0D;&#x7528;&#x663E;&#x5F0F;&#x4F20;&#x9012;&#x8BE5;&#x53C2;&#x6570;&#x4E86;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type Props&lt;P extends object = object&gt; = Partial&lt;
  {
    children: RenderCallback | ReactNode
    render: RenderCallback
    component: ComponentType&lt;ToggleableComponentProps&lt;P&gt;&gt;
  } &amp; DefaultProps&lt;P&gt;
&gt;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">type</span> Props&lt;P <span class="hljs-keyword">extends</span> object = object&gt; = Partial&lt;
  {
    children: RenderCallback | ReactNode
    render: RenderCallback
    component: ComponentType&lt;ToggleableComponentProps&lt;P&gt;&gt;
  } &amp; DefaultProps&lt;P&gt;
&gt;</code></pre><p>&#x6B64;&#x5916;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x4F7F; <code>ToggleableComponentProps</code> &#x6CDB;&#x578B;&#x5316;&#xFF0C;&#x4E0D;&#x8FC7;&#x5B83;&#x73B0;&#x5728;&#x5176;&#x5B9E;&#x5DF2;&#x7ECF;&#x662F;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x5757;&#x4E0D;&#x9700;&#x8981;&#x91CD;&#x5199;&#x3002;</p><p>&#x552F;&#x4E00;&#x9700;&#x8981;&#x6539;&#x52A8;&#x7684;&#x662F; <code>type DefaultProps</code> &#xFF0C;&#x56E0;&#x4E3A;&#x76EE;&#x524D;&#x7684;&#x5B9E;&#x73B0;&#x65B9;&#x5F0F;&#x4E2D;&#xFF0C;&#x5B83;&#x662F;&#x6CA1;&#x6709;&#x529E;&#x6CD5;&#x83B7;&#x53D6;&#x6CDB;&#x578B;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x628A;&#x5B83;&#x6539;&#x4E3A;&#x53E6;&#x4E00;&#x79CD;&#x65B9;&#x5F0F;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="type DefaultProps&lt;P extends object = object&gt; = { props: P }
const defaultProps: DefaultProps = { props: {} }" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">type</span> DefaultProps&lt;P <span class="hljs-keyword">extends</span> object = object&gt; = { props: P }
<span class="hljs-keyword">const</span> defaultProps: DefaultProps = { props: {} }</code></pre><p>&#x9A6C;&#x4E0A;&#x5C31;&#x8981;&#x5B8C;&#x6210;&#x4E86;&#xFF01;</p><p>&#x6700;&#x540E;&#x628A; <code>Toggleable</code> &#x7EC4;&#x4EF6;&#x53D8;&#x6210;&#x6CDB;&#x578B;&#x7EC4;&#x4EF6;&#x3002;&#x540C;&#x6837;&#x5730;&#xFF0C;&#x6211;&#x4EEC;&#x4F7F;&#x7528;&#x4E86;&#x9ED8;&#x8BA4;&#x53C2;&#x6570;&#xFF0C;&#x56E0;&#x4E3A;&#x53EA;&#x6709;&#x5728;&#x4F7F;&#x7528;&#x7EC4;&#x4EF6;&#x6CE8;&#x5165;&#x65F6;&#x624D;&#x9700;&#x8981;&#x4F20;&#x53C2;&#xFF0C;&#x5176;&#x4ED6;&#x60C5;&#x51B5;&#x65F6;&#x5219;&#x4E0D;&#x9700;&#x8981;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export class Toggleable&lt;T = {}&gt; extends Component&lt;Props&lt;T&gt;, State&gt; {}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts" style="word-break:break-word;white-space:initial"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> Toggleable&lt;T = {}&gt; <span class="hljs-keyword">extends</span> Component&lt;Props&lt;T&gt;, State&gt; {}</code></pre><p>&#x5927;&#x529F;&#x544A;&#x6210;&#xFF01;&#x4E0D;&#x8FC7;&#xFF0C;&#x771F;&#x7684;&#x4E48;&#xFF1F;&#x6211;&#x4EEC;&#x5982;&#x4F55;&#x624D;&#x80FD;&#x5728; JSX &#x4E2D;&#x4F7F;&#x7528;&#x6CDB;&#x578B;&#x7C7B;&#x578B;&#xFF1F;</p><p>&#x5F88;&#x9057;&#x61BE;&#xFF0C;&#x5E76;&#x4E0D;&#x80FD;&#x3002;</p><p>&#x6240;&#x4EE5;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x5F15;&#x5165; <code>ofType</code> &#x6CDB;&#x578B;&#x7EC4;&#x4EF6;&#x5DE5;&#x5382;&#x6A21;&#x5F0F;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export class Toggleable&lt;T extends object = object&gt; extends Component&lt;Props&lt;T&gt;, State&gt; {
  static ofType&lt;T extends object&gt;() {
    return Toggleable as Constructor&lt;Toggleable&lt;T&gt;&gt;
  }
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> Toggleable&lt;T <span class="hljs-keyword">extends</span> object = object&gt; <span class="hljs-keyword">extends</span> Component&lt;Props&lt;T&gt;, State&gt; {
  <span class="hljs-keyword">static</span> ofType&lt;T <span class="hljs-keyword">extends</span> object&gt;() {
    <span class="hljs-keyword">return</span> Toggleable <span class="hljs-keyword">as</span> Constructor&lt;Toggleable&lt;T&gt;&gt;
  }
}</code></pre><p>&#x5B8C;&#x6574;&#x7684;&#x5B9E;&#x73B0;&#x7248;&#x672C;&#x5982;&#x4E0B;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpxy?w=1628&amp;h=2456" src="https://static.alili.tech/img/bVbcpxy?w=1628&amp;h=2456" alt="generic props" title="generic props" style="cursor:pointer"></span></p><p>&#x6709;&#x4E86; <code>static ofType</code> &#x9759;&#x6001;&#x65B9;&#x6CD5;&#x4E4B;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x521B;&#x5EFA;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x6CDB;&#x578B;&#x7EC4;&#x4EF6;&#x4E86;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcpxE?w=1600&amp;h=545" src="https://static.alili.tech/img/bVbcpxE?w=1600&amp;h=545" alt="ofType" title="ofType" style="cursor:pointer"></span></p><p>&#x4E00;&#x5207;&#x90FD;&#x8DDF;&#x4E4B;&#x524D;&#x4E00;&#x6837;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x6B21;&#x6211;&#x4EEC;&#x7684; <code>props</code> &#x6709;&#x4E86;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#xFF01;</p><p><span class="img-wrap"><img data-src="/img/bVbcpxR?w=853&amp;h=288" src="https://static.alili.tech/img/bVbcpxR?w=853&amp;h=288" alt="type safe" title="type safe" style="cursor:pointer"></span></p><h1 id="articleHeader7">&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;</h1><p>&#x65E2;&#x7136;&#x6211;&#x4EEC;&#x7684; <code>Toggleable</code> &#x7EC4;&#x4EF6;&#x5DF2;&#x7ECF;&#x5B9E;&#x73B0;&#x4E86; <code>render</code> &#x5C5E;&#x6027;&#xFF0C;&#x90A3;&#x4E48;&#x5B9E;&#x73B0;&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#xFF08;High Order Component, HOC&#xFF09;&#x5C31;&#x5F88;&#x5BB9;&#x6613;&#x4E86;&#x3002;&#x6E32;&#x67D3;&#x56DE;&#x8C03;&#x6A21;&#x5F0F;&#x7684;&#x6700;&#x5927;&#x597D;&#x5904;&#x4E4B;&#x4E00;&#x5C31;&#x662F;&#xFF0C;&#x5B83;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x7528;&#x4E8E;&#x5B9E;&#x73B0; HOC&#x3002;</p><p>&#x4E0B;&#x9762;&#x8BA9;&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x8FD9;&#x4E2A; HOC&#x3002;</p><p>&#x6211;&#x4EEC;&#x9700;&#x8981;&#x65B0;&#x589E;&#x4EE5;&#x4E0B;&#x5185;&#x5BB9;&#xFF1A;</p><ul><li><code>displayName</code>&#xFF08;&#x7528;&#x4E8E;&#x8C03;&#x8BD5;&#x5DE5;&#x5177;&#x5C55;&#x793A;&#xFF0C;&#x4FBF;&#x4E8E;&#x9605;&#x8BFB;&#xFF09;</li><li><code>WrappedComponent</code> &#xFF08;&#x7528;&#x4E8E;&#x8BBF;&#x95EE;&#x539F;&#x7EC4;&#x4EF6;&#xFF0C;&#x4FBF;&#x4E8E;&#x6D4B;&#x8BD5;&#xFF09;</li><li>&#x4F7F;&#x7528; <code>hoist-non-react-statics</code> &#x5305;&#x7684; <code>hoistNonReactStatics</code> &#x65B9;&#x6CD5;</li></ul><p><span class="img-wrap"><img data-src="/img/bVbctca?w=1788&amp;h=1708" src="https://static.alili.tech/img/bVbctca?w=1788&amp;h=1708" alt="hoc implemention" title="hoc implemention" style="cursor:pointer"></span></p><p>&#x8FD9;&#x6837;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x4EE5; HOC &#x7684;&#x65B9;&#x5F0F;&#x6765;&#x521B;&#x5EFA; <code>Toggleable</code> &#x83DC;&#x5355;&#x9879;&#x4E86;&#xFF0C; &#x800C;&#x4E14;&#x4ECD;&#x7136;&#x4FDD;&#x6301;&#x4E86;&#x5BF9;&#x5C5E;&#x6027;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const ToggleableMenuViaHOC = withToggleable(MenuItem)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts" style="word-break:break-word;white-space:initial"><span class="hljs-keyword">const</span> ToggleableMenuViaHOC = withToggleable(MenuItem)</code></pre><p><span class="img-wrap"><img data-src="/img/bVbctcE?w=812&amp;h=293" src="https://static.alili.tech/img/bVbctcE?w=812&amp;h=293" alt="Proper type annotation" title="Proper type annotation" style="cursor:pointer"></span></p><h1 id="articleHeader8">&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;</h1><p>&#x538B;&#x8F74;&#x5927;&#x620F;&#x6765;&#x4E86;&#xFF01;<br>&#x6211;&#x4EEC;&#x6765;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;&#x7236;&#x7EC4;&#x4EF6;&#x8FDB;&#x884C;&#x9AD8;&#x5EA6;&#x914D;&#x7F6E;&#x7684; <code>Toggleable</code> &#xFF0C;&#x8FD9;&#x79CD;&#x662F;&#x4E00;&#x79CD;&#x975E;&#x5E38;&#x5F3A;&#x5927;&#x7684;&#x6A21;&#x5F0F;&#x3002;</p><p>&#x53EF;&#x80FD;&#x6709;&#x4EBA;&#x4F1A;&#x95EE;&#xFF0C;&#x53D7;&#x63A7;&#x7EC4;&#x4EF6;&#xFF08;Controlled Component&#xFF09;&#x662F;&#x4EC0;&#x4E48;&#xFF1F;&#x5728;&#x8FD9;&#x91CC;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x6211;&#x60F3;&#x8981;&#x540C;&#x65F6;&#x63A7;&#x5236; <code>Menu</code> &#x7EC4;&#x4EF6;&#x4E2D;&#x6240;&#x6709; <code>ToggleableMenu</code> &#x7684;&#x5185;&#x5BB9;&#x662F;&#x5426;&#x663E;&#x793A;&#xFF0C;&#x770B;&#x770B;&#x4E0B;&#x9762;&#x7684;&#x52A8;&#x6001;&#x4F60;&#x5E94;&#x8BE5;&#x5C31;&#x77E5;&#x9053;&#x662F;&#x4EC0;&#x4E48;&#x4E86;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbctdm?w=656&amp;h=512" src="https://static.alili.tech/img/bVbctdm?w=656&amp;h=512" alt="controlled component" title="controlled component" style="cursor:pointer"></span></p><p>&#x4E3A;&#x4E86;&#x5B9E;&#x73B0;&#x8BE5;&#x76EE;&#x6807;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x4FEE;&#x6539;&#x4E0B; <code>ToggleableMenu</code> &#x7EC4;&#x4EF6;&#xFF0C;&#x4FEE;&#x6539;&#x540E;&#x7684;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbctdu?w=2000&amp;h=1400" src="https://static.alili.tech/img/bVbctdu?w=2000&amp;h=1400" alt="ToggleableMenu" title="ToggleableMenu" style="cursor:pointer"></span></p><p>&#x7136;&#x540E;&#xFF0C;&#x6211;&#x4EEC;&#x8FD8;&#x9700;&#x8981;&#x5728; <code>Menu</code> &#x4E2D;&#x65B0;&#x589E;&#x4E00;&#x4E2A;&#x72B6;&#x6001;&#xFF0C;&#x5E76;&#x4E14;&#x628A;&#x5B83;&#x4F20;&#x9012;&#x7ED9; <code>ToggleableMenu</code> &#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbctdF?w=1938&amp;h=1224" src="https://static.alili.tech/img/bVbctdF?w=1938&amp;h=1224" alt="Stateful Menu component" title="Stateful Menu component" style="cursor:pointer"></span></p><p>&#x6700;&#x540E;&#xFF0C;&#x8FD8;&#x9700;&#x8981;&#x4FEE;&#x6539; <code>Toggleable</code> &#x6700;&#x540E;&#x4E00;&#x6B21;&#xFF0C;&#x8BA9;&#x5B83;&#x53D8;&#x5F97;&#x66F4;&#x52A0;&#x65E0;&#x654C;&#x548C;&#x7075;&#x6D3B;&#x3002;<br>&#x4FEE;&#x6539;&#x5185;&#x5BB9;&#x5982;&#x4E0B;&#xFF1A;</p><ol><li>&#x65B0;&#x589E; <code>show</code> &#x5C5E;&#x6027;&#x5230; <code>Props</code></li><li>&#x66F4;&#x65B0;&#x9ED8;&#x8BA4;&#x5C5E;&#x6027;&#xFF08;&#x56E0;&#x4E3A; <code>show</code> &#x662F;&#x53EF;&#x9009;&#x7684;&#xFF09;</li><li>&#x66F4;&#x65B0;&#x9ED8;&#x8BA4;&#x72B6;&#x6001;&#xFF0C;&#x4F7F;&#x7528;&#x5C5E;&#x6027; <code>show</code> &#x7684;&#x503C;&#x6765;&#x521D;&#x59CB;&#x5316;&#x72B6;&#x6001; <code>show</code>&#xFF0C;&#x56E0;&#x4E3A;&#x6211;&#x4EEC;&#x5E0C;&#x671B;&#x8BE5;&#x503C;&#x53EA;&#x80FD;&#x6765;&#x81EA;&#x4E8E;&#x5176;&#x7236;&#x7EC4;&#x4EF6;</li><li>&#x4F7F;&#x7528; <code>componentWillReceiveProps</code> &#x6765;&#x5229;&#x7528;&#x516C;&#x5F00;&#x5C5E;&#x6027;&#x66F4;&#x65B0;&#x72B6;&#x6001;</li></ol><p><strong>1 &amp; 2</strong> &#x5BF9;&#x5E94;&#x7684;&#x4FEE;&#x6539;:</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const initialState = { show: false }
const defaultProps: DefaultProps = { ...initialState, props: {} }

type State = Readonly&lt;typeof initialState&gt;
type DefaultProps&lt;P extends object = object&gt; = { props: P } &amp; Pick&lt;State, &apos;show&apos;&gt;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">const</span> initialState = { show: <span class="hljs-literal">false</span> }
<span class="hljs-keyword">const</span> defaultProps: DefaultProps = { ...initialState, props: {} }

<span class="hljs-keyword">type</span> State = Readonly&lt;<span class="hljs-keyword">typeof</span> initialState&gt;
<span class="hljs-keyword">type</span> DefaultProps&lt;P <span class="hljs-keyword">extends</span> object = object&gt; = { props: P } &amp; Pick&lt;State, <span class="hljs-string">&apos;show&apos;</span>&gt;</code></pre><p><strong>3 &amp; 4</strong> &#x5BF9;&#x5E94;&#x7684;&#x4FEE;&#x6539;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export class Toggleable&lt;T = {}&gt; extends Component&lt;Props&lt;T&gt;, State&gt; {
  static readonly defaultProps: Props = defaultProps
  // Bang operator used, I know I know ...
  state: State = { show: this.props.show! }

  componentWillReceiveProps(nextProps: Props&lt;T&gt;) {
    const currentProps = this.props
    
    if (nextProps.show !== currentProps.show) {
      this.setState({ show: Boolean(nextProps.show) })
    }
  }
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="typescript hljs"><code class="ts"><span class="hljs-keyword">export</span> <span class="hljs-keyword">class</span> Toggleable&lt;T = {}&gt; <span class="hljs-keyword">extends</span> Component&lt;Props&lt;T&gt;, State&gt; {
  <span class="hljs-keyword">static</span> readonly defaultProps: Props = defaultProps
  <span class="hljs-comment">// Bang operator used, I know I know ...</span>
  state: State = { show: <span class="hljs-keyword">this</span>.props.show! }

  componentWillReceiveProps(nextProps: Props&lt;T&gt;) {
    <span class="hljs-keyword">const</span> currentProps = <span class="hljs-keyword">this</span>.props
    
    <span class="hljs-keyword">if</span> (nextProps.show !== currentProps.show) {
      <span class="hljs-keyword">this</span>.setState({ show: <span class="hljs-built_in">Boolean</span>(nextProps.show) })
    }
  }
}</code></pre><p>&#x81F3;&#x6B64;&#xFF0C;&#x7EC8;&#x6781; <code>Toggleable</code> &#x7EC4;&#x4EF6;&#x8BDE;&#x751F;&#x4E86;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbcteC?w=1688&amp;h=2720" src="https://static.alili.tech/img/bVbcteC?w=1688&amp;h=2720" alt="final Toggleable" title="final Toggleable" style="cursor:pointer"></span></p><p>&#x540C;&#x65F6;&#xFF0C;&#x4F7F;&#x7528; <code>Toggleable</code> &#x7684; <code>withToggleable</code> &#x4E5F;&#x8FD8;&#x8981;&#x505A;&#x4E9B;&#x8F7B;&#x5FAE;&#x8C03;&#x6574;&#xFF0C;&#x4EE5;&#x4FBF;&#x4F20;&#x9012; <code>show</code> &#x5C5E;&#x6027;&#x548C;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbcteQ?w=1620&amp;h=1400" src="https://static.alili.tech/img/bVbcteQ?w=1620&amp;h=1400" alt="withToggleable Hoc with controllable functionality" title="withToggleable Hoc with controllable functionality" style="cursor:pointer;display:inline"></span></p><h1 id="articleHeader9">&#x603B;&#x7ED3;</h1><p>&#x4F7F;&#x7528; TS &#x6765;&#x5B9E;&#x73B0;&#x5BF9; React &#x7EC4;&#x4EF6;&#x8FDB;&#x884C;&#x6B63;&#x786E;&#x7684;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#x5176;&#x5B9E;&#x662F;&#x76F8;&#x5F53;&#x96BE;&#x7684;&#x3002;&#x4F46;&#x662F;&#x968F;&#x7740; TS 2.8 &#x65B0;&#x529F;&#x80FD;&#x7684;&#x53D1;&#x5E03;&#xFF0C;&#x6211;&#x4EEC;&#x51E0;&#x4E4E;&#x53EF;&#x4EE5;&#x968F;&#x610F;&#x4F7F;&#x7528;&#x901A;&#x7528;&#x7684; React &#x7EC4;&#x4EF6;&#x6A21;&#x5F0F;&#x6765;&#x5B9E;&#x73B0;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</p><p>&#x5728;&#x672C;&#x7BC7;&#x8D85;&#x957F;&#x6587;&#x4E2D;&#xFF0C;&#x591A;&#x4E8F;&#x4E86; TS&#xFF0C;&#x6211;&#x4EEC;&#x5B66;&#x4E60;&#x4E86;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x5177;&#x6709;&#x591A;&#x79CD;&#x6A21;&#x5F0F;&#x4E14;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x7684;&#x7EC4;&#x4EF6;&#x3002;</p><p>&#x7EFC;&#x5408;&#x6765;&#x770B;&#xFF0C;&#x5176;&#x5B9E;&#x6700;&#x5F3A;&#x5927;&#x7684;&#x6A21;&#x5F0F;&#x975E;&#x5C5E;&#x6027;&#x6E32;&#x67D3;&#xFF08;Render Prop&#xFF09;&#x83AB;&#x5C5E;&#xFF0C;&#x6709;&#x4E86;&#x5B83;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x4E0D;&#x8D39;&#x5439;&#x7070;&#x4E4B;&#x529B;&#x5C31;&#x53EF;&#x4EE5;&#x5B9E;&#x73B0;&#x7EC4;&#x4EF6;&#x6CE8;&#x5165;&#x548C;&#x9AD8;&#x9636;&#x7EC4;&#x4EF6;&#x3002;</p><p>&#x6587;&#x4E2D;&#x6240;&#x6709;&#x7684;&#x793A;&#x8303;&#x4EE3;&#x7801;&#x6258;&#x7BA1;&#x4E8E;<a href="https://github.com/Hotell/blogposts/tree/master/2018-02/ultimate-react-component-patterns/src" rel="nofollow noreferrer" target="_blank">&#x4F5C;&#x8005;&#x7684; GitHub &#x4ED3;&#x5E93;</a>&#x3002;</p><p>&#x6700;&#x540E;&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x70B9;&#x8981;&#x5F3A;&#x8C03;&#x7684;&#x662F;&#xFF0C;&#x672C;&#x6587;&#x4E2D;&#x6D89;&#x53CA;&#x7684;&#x7C7B;&#x578B;&#x5B89;&#x5168;&#x6A21;&#x677F;&#x53EF;&#x80FD;&#x53EA;&#x9002;&#x7528;&#x4E8E;&#x4F7F;&#x7528; VDOM/JSX &#x7684;&#x5E93;&#xFF1A;</p><ul><li>&#x4F7F;&#x7528;&#x8BED;&#x8A00;&#x670D;&#x52A1;&#x7684; Angular &#x6A21;&#x677F;&#x4E5F;&#x5177;&#x5907;&#x7C7B;&#x578B;&#x68C0;&#x67E5;&#xFF0C;&#x4F46;&#x662F;&#x5728;&#x6709;&#x4E9B;&#x5730;&#x65B9;&#x4E5F;&#x8FD8;&#x662F;&#x4F1A;&#x5931;&#x6548;&#xFF0C;&#x6BD4;&#x5982; <code>ngFor</code> &#x4E2D;</li><li>Vue &#x6A21;&#x677F;&#x76EE;&#x524D;&#x4E5F;&#x8FD8;&#x6CA1;&#x6709;&#x7C7B;&#x4F3C; Angular &#xFF0C;&#x6240;&#x4EE5;&#x5B83;&#x7684;&#x6A21;&#x677F;&#x548C;&#x6570;&#x636E;&#x7ED1;&#x5B9A;&#x5B9E;&#x9645;&#x4E0A;&#x662F;&#x9B54;&#x672F;&#x5B57;&#x7B26;&#x4E32;&#x3002;&#x4E0D;&#x8FC7;&#x8FD9;&#x53EF;&#x80FD;&#x5728;&#x672A;&#x6765;&#x4F1A;&#x6539;&#x53D8;&#x3002;&#x867D;&#x7136;&#x4E5F;&#x53EF;&#x4EE5;&#x5BF9;&#x6A21;&#x677F;&#x5B57;&#x7B26;&#x4E32;&#x4F7F;&#x7528; VDOM&#xFF0C;&#x4E0D;&#x8FC7;&#x7528;&#x8D77;&#x6765;&#x5E94;&#x8BE5;&#x4F1A;&#x5F88;&#x7B28;&#x91CD;&#xFF0C;&#x56E0;&#x4E3A;&#x6709;&#x592A;&#x591A;&#x5C5E;&#x6027;&#x7C7B;&#x578B;&#x5B9A;&#x4E49;&#x3002;&#xFF08;<a href="https://github.com/snabbdom/snabbdom" rel="nofollow noreferrer" target="_blank">snabdom</a> &#x8868;&#x793A;&#xFF1A;&#x602A;&#x6211;&#x54AF;&#xFF09;&#x3002;</li></ul>
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
React + TS 2.8：终极组件设计模式指南

## 原文链接
[https://segmentfault.com/a/1190000015326439](https://segmentfault.com/a/1190000015326439)


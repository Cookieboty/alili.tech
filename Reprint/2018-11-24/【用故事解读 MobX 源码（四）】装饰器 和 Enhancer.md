---
title: '【用故事解读 MobX 源码（四）】装饰器 和 Enhancer' 
date: 2018-11-24 2:30:10
hidden: true
slug: s6fvniwssqp
categories: [reprint]
---

{{< raw >}}
<p><strong>================&#x524D;&#x8A00;===================</strong></p><ul><li><strong>&#x521D;&#x8877;</strong>&#xFF1A;&#x4EE5;&#x7CFB;&#x5217;&#x6545;&#x4E8B;&#x7684;&#x65B9;&#x5F0F;&#x5C55;&#x73B0; MobX &#x6E90;&#x7801;&#x903B;&#x8F91;&#xFF0C;&#x5C3D;&#x53EF;&#x80FD;&#x4EE5;&#x6613;&#x61C2;&#x7684;&#x65B9;&#x5F0F;&#x8BB2;&#x89E3;&#x6E90;&#x7801;&#xFF1B;</li><li><p><strong>&#x672C;&#x7CFB;&#x5217;&#x6587;&#x7AE0;</strong>&#xFF1A;</p><ul><li>&#x300A;<a href="https://segmentfault.com/a/1190000013682735">&#x3010;&#x7528;&#x6545;&#x4E8B;&#x89E3;&#x8BFB; MobX&#x6E90;&#x7801;&#xFF08;&#x4E00;&#xFF09;&#x3011; autorun</a>&#x300B;</li><li>&#x300A;<a href="https://segmentfault.com/a/1190000014238836" target="_blank">&#x3010;&#x7528;&#x6545;&#x4E8B;&#x89E3;&#x8BFB; MobX&#x6E90;&#x7801;&#xFF08;&#x4E8C;&#xFF09;&#x3011; computed</a>&#x300B;</li><li>&#x300A;<a href="https://segmentfault.com/a/1190000014726483">&#x3010;&#x7528;&#x6545;&#x4E8B;&#x89E3;&#x8BFB; MobX&#x6E90;&#x7801;&#xFF08;&#x4E09;&#xFF09;&#x3011; shouldCompute</a>&#x300B;</li><li>&#x300A;<a href="https://segmentfault.com/a/1190000015481998" target="_blank">&#x3010;&#x7528;&#x6545;&#x4E8B;&#x89E3;&#x8BFB; MobX &#x6E90;&#x7801;&#xFF08;&#x56DB;&#xFF09;&#x3011;&#x88C5;&#x9970;&#x5668; &#x548C; Enhancer</a>&#x300B;</li><li>&#x300A;<a href="https://segmentfault.com/a/1190000015875144">&#x3010;&#x7528;&#x6545;&#x4E8B;&#x89E3;&#x8BFB; MobX &#x6E90;&#x7801;&#xFF08;&#x4E94;&#xFF09;&#x3011; Observable</a>&#x300B;</li></ul></li><li><strong>&#x6587;&#x7AE0;&#x7F16;&#x6392;</strong>&#xFF1A;&#x6BCF;&#x7BC7;&#x6587;&#x7AE0;&#x5206;&#x6210;&#x4E24;&#x5927;&#x6BB5;&#xFF0C;&#x7B2C;&#x4E00;&#x5927;&#x6BB5;&#x4EE5;&#x7B80;&#x5355;&#x7684;&#x4FA6;&#x63A2;&#x7CFB;&#x5217;&#x6545;&#x4E8B;&#x7684;&#x5F62;&#x5F0F;&#x8BB2;&#x89E3;&#xFF08;<strong>&#x6240;&#x6D89;&#x53CA;&#x4EBA;&#x7269;&#x3001;&#x573A;&#x666F;&#x90FD;&#x4EE5; MobX &#x4E2D;&#x7684;&#x6982;&#x5FF5;&#x4E3A;&#x539F;&#x578B;&#x521B;&#x5EFA;</strong>&#xFF09;&#xFF0C;&#x7B2C;&#x4E8C;&#x5927;&#x6BB5;&#x5219;&#x662F;&#x76F8;&#x5BF9;&#x4E8E;&#x7684;&#x6E90;&#x7801;&#x8BB2;&#x89E3;&#x3002;</li><li><strong>&#x672C;&#x6587;&#x57FA;&#x4E8E; MobX 4 &#x6E90;&#x7801;&#x8BB2;&#x89E3;</strong></li></ul><p><strong>=======================================</strong></p><p>&#x6309;&#x7167;&#x6B65;&#x9AA4;&#xFF0C;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x5E94;&#x8BE5;&#x5199; &#x89C2;&#x5BDF;&#x503C;&#xFF08;<a href="https://cn.mobx.js.org/refguide/observable.html" rel="nofollow noreferrer" target="_blank">Observable</a>&#xFF09;&#x7684;&#xFF0C;&#x4E0D;&#x8FC7;&#x5728;&#x64B0;&#x5199;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x53D1;&#x73B0;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x5148;&#x641E;&#x660E;&#x767D;&#x88C5;&#x9970;&#x5668;&#x548C; Enhancer&#xFF08;&#x5BF9;&#x8FD9;&#x4E2A;&#x5355;&#x8BCD;&#x964C;&#x751F;&#x7684;&#xFF0C;&#x5148;&#x4E0D;&#x8981;&#x7740;&#x6025;&#xFF0C;&#x7EE7;&#x7EED;&#x5F80;&#x4E0B;&#x770B;&#xFF09; &#xFF0C;&#x76F4;&#x63A5;&#x53BB;&#x89E3;&#x91CA;&#x89C2;&#x5BDF;&#x503C;&#xFF08;Observable&#xFF09;&#x4F1A;&#x5F88;&#x8D39;&#x52B2;&#x3002;<strong>&#x56E0;&#x4E3A;&#x5728; MobX &#x4E2D;&#x662F;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x5B9E;&#x73B0;&#x89C2;&#x5BDF;&#x503C;&#x7684;</strong>&#xFF0C;&#x6240;&#x4EE5;&#x8BF4;&#x8981;&#x5148;&#x638C;&#x63E1;&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x624D;&#x80FD;&#x8FDB;&#x4E00;&#x6B65;&#x53BB;&#x7406;&#x89E3;&#x89C2;&#x5BDF;&#x503C;&#x3002;</p><p>&#x6240;&#x4EE5;&#x8FD9;&#x662F;&#x4E00;&#x7BC7; &#x201C;&#x63D2;&#x961F;&#x201D; &#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x7528;&#x4E8E;&#x53BB;&#x7406;&#x89E3; MobX &#x4E2D;&#x7684;&#x88C5;&#x9970;&#x5668;&#x548C; Enhancer &#x6982;&#x5FF5;&#x3002;</p><h1 id="articleHeader0">A. &#x672C;&#x6587;&#x76EE;&#x6807;</h1><p>&#x672C;&#x6587;&#x4E3B;&#x8981;&#x89E3;&#x51B3;&#x6211;&#x4E2A;&#x4EBA;&#x5728;&#x6E90;&#x7801;&#x9605;&#x8BFB;&#x4E2D;&#x7684;&#x7591;&#x60D1;&#xFF1A;</p><ul><li>&#x5728;&#x5B98;&#x65B9;&#x6587;&#x6863; <a href="https://cn.mobx.js.org/best/decorators.html" rel="nofollow noreferrer" target="_blank">&#x5982;&#x4F55;(&#x4E0D;)&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;</a> &#x4E2D;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;&#x8BF4;&#x5F00;&#x542F; <a href="https://cn.mobx.js.org/refguide/observable-decorator.html" rel="nofollow noreferrer" target="_blank">@observable</a>&#x3001;<a href="https://cn.mobx.js.org/refguide/computed-decorator.html" rel="nofollow noreferrer" target="_blank">@computer</a> &#x7B49;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#xFF0C;&#x662F;&#x548C;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <a href="https://cn.mobx.js.org/best/decorators.html" rel="nofollow noreferrer" target="_blank">decorate</a> &#x662F;&#x7B49;&#x6548;&#x7684;&#xFF1F;</li><li>&#x5728; MobX &#x6E90;&#x7801;&#x4E2D;&#x65F6;&#x5E38;&#x51FA;&#x73B0;&#x7684; <code>Enhancer</code> &#x5230;&#x5E95;&#x662F;&#x4E2A;&#x4EC0;&#x4E48;&#x6982;&#x5FF5;&#xFF1F;&#x5B83;&#x5728; MobX &#x4F53;&#x7CFB;&#x4E2D;&#x53D1;&#x6325;&#x600E;&#x6837;&#x7684;&#x4F5C;&#x7528;&#xFF1F;&#x5B83;&#x548C;&#x88C5;&#x9970;&#x5668;&#x53C8;&#x662F;&#x600E;&#x4E48;&#x6837;&#x7684;&#x4E00;&#x5C42;&#x5173;&#x7CFB;&#xFF1F;</li></ul><p>&#x5982;&#x679C;&#x4F60;&#x4E5F;&#x6709;&#x8FD9;&#x6837;&#x7684;&#x7591;&#x60D1;&#xFF0C;&#x4E0D;&#x59A8;&#x7EE7;&#x7EED;&#x9605;&#x8BFB;&#x672C;&#x6587;&#xFF0C;&#x6B22;&#x8FCE;&#x4E00;&#x8D77;&#x8BA8;&#x8BBA;&#x3002;</p><p>&#x81F3;&#x4E8E; &#x89C2;&#x5BDF;&#x503C;&#xFF08;<a href="https://cn.mobx.js.org/refguide/observable.html" rel="nofollow noreferrer" target="_blank">Observable</a>&#xFF09;&#xFF0C;&#x5728;&#x672C;&#x6587;&#x4E2D;&#x4F60;&#x53EA;&#x8981;&#x638C;&#x63E1;&#x4F4F; <a href="https://cn.mobx.js.org/refguide/observable.html" rel="nofollow noreferrer" target="_blank">&#x5B98;&#x65B9;&#x6587;&#x6863; observable</a> &#x7684;&#x7528;&#x6CD5;&#x5C31;&#x8DB3;&#x591F;&#x4E86;&#xFF0C;&#x6BD4;&#x5982;&#xFF08;&#x793A;&#x4F8B;&#x6458;&#x81EA;&#x5B98;&#x65B9;&#x6587;&#x6863;&#xFF09;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const person = observable({
    firstName: &quot;Clive Staples&quot;,
    lastName: &quot;Lewis&quot;
});
person.firstName = &quot;C.S.&quot;;

const temperature = observable.box(20);
temperature.set(25);" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js"><span class="hljs-keyword">const</span> person = observable({
    <span class="hljs-attr">firstName</span>: <span class="hljs-string">&quot;Clive Staples&quot;</span>,
    <span class="hljs-attr">lastName</span>: <span class="hljs-string">&quot;Lewis&quot;</span>
});
person.firstName = <span class="hljs-string">&quot;C.S.&quot;</span>;

<span class="hljs-keyword">const</span> temperature = observable.box(<span class="hljs-number">20</span>);
temperature.set(<span class="hljs-number">25</span>);</code></pre><p>&#x5BF9;&#x4E8E; <code>observable</code> &#x65B9;&#x6CD5;&#x7684;&#x6E90;&#x7801;&#x89E3;&#x6790;&#x5C06;&#x5728;&#x4E0B;&#x4E00;&#x7BC7;&#x4E2D;&#x8BE6;&#x7EC6;&#x5C55;&#x5F00;&#xFF0C;&#x6B64;&#x7BC7;&#x6587;&#x7AE0;&#x4E0D;&#x4F1A;&#x505A;&#x8FC7;&#x591A;&#x7684;&#x8BA8;&#x8BBA;&#x3002;</p><h1 id="articleHeader1">B. &#x5B66;&#x4F1A;&#x88C5;&#x9970;&#x5668;</h1><h2 id="articleHeader2">1&#x3001;&#x88C5;&#x9970;&#x5668;&#x57FA;&#x7840;&#x77E5;&#x8BC6;</h2><p>&#x548C;&#x5176;&#x4ED6;&#x8BED;&#x8A00;&#xFF08;Python&#x3001;Java&#xFF09;&#x4E00;&#x6837;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x662F;&#x501F;&#x52A9; <code>@</code> &#x7B26;&#x53F7;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x73B0;&#x5728;&#x95EE;&#x9898;&#x5C31;&#x5F52;&#x7ED3;&#x5230;&#x5982;&#x4F55;&#x7528; JS &#x53BB;&#x5B9E;&#x73B0; <code>@</code> &#x8BED;&#x6CD5;&#x3002;</p><p>&#x5BF9;&#x4E8E;&#x8FD8;&#x4E0D;&#x719F;&#x6089;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x7684;&#x8BFB;&#x8005;&#xFF0C;&#x8FD9;&#x91CC;&#x63A8;&#x8350;&#x6587;&#x7AE0; &#x300A;<a href="http://taobaofed.org/blog/2015/11/16/es7-decorator/" rel="nofollow noreferrer" target="_blank">ES7 Decorator &#x88C5;&#x9970;&#x8005;&#x6A21;&#x5F0F;</a>&#x300B;&#xFF0C;&#x4EE5;&#x94A2;&#x94C1;&#x4FA0;&#x4E3A;&#x4F8B;&#xFF0C;&#x901A;&#x8FC7;&#x88C5;&#x5907;&#x7279;&#x6B8A;&#x7684;&#x88C5;&#x5907;&#x5C31;&#x80FD;&#x5C06;&#x666E;&#x901A;&#x4EBA;&#x53D8;&#x6210;&#x94A2;&#x94C1;&#x4FA0;&#xFF0C;&#x7B80;&#x5355;&#x6982;&#x62EC;&#x8D77;&#x6765;&#x5C31;&#x662F;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/bVbfdGq?w=313&amp;h=400" src="https://static.alili.tech/img/bVbfdGq?w=313&amp;h=400" alt="clipboard.png" title="clipboard.png" style="cursor:pointer;display:inline"></span></p><p>&#x88C5;&#x9970;&#x5668;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#x7684;&#x7406;&#x5FF5;&#x5C31;&#x548C;&#x4E0A;&#x9762;&#x90A3;&#x6837;&#x7684;&#x6734;&#x7D20;&#xFF0C;&#x5728;&#x4E0D;&#x6539;&#x9020; <strong>&#x6258;&#x5C3C;&#xB7;&#x53F2;&#x5854;&#x514B;&#xFF08;Tony Stark&#xFF09;</strong> &#x672C;&#x4F53;&#x7684;&#x524D;&#x63D0;&#x4E0B;&#xFF0C;&#x901A;&#x8FC7;&#x52A0;&#x88C5; <strong>&#x76D4;&#x7532;</strong>&#x3001;<strong>&#x98DE;&#x884C;&#x5668;</strong> &#x7684;&#x65B9;&#x5F0F;&#x589E;&#x5F3A; Tony &#x7684;&#x80FD;&#x529B;&#xFF0C;&#x4ECE;&#x800C;&#x201C;&#x53D8;&#x6210;&#x201D;&#x94A2;&#x94C1;&#x4FA0;&#x3002;</p><p>&#x6709;&#x5173;&#x88C5;&#x9970;&#x5668;&#x4F7F;&#x7528;&#x7684;&#x6587;&#x7AE0;&#xFF0C;&#x8FD8;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x8FD9;&#x4E24;&#x7BC7;&#x53C2;&#x8003;&#x6587;&#x7AE0; <a href="https://github.com/rccoder/blog/issues/23" rel="nofollow noreferrer" target="_blank">&#x63A2;&#x5BFB; ECMAScript &#x4E2D;&#x7684;&#x88C5;&#x9970;&#x5668; Decorator</a>&#x3001;<a href="https://www.cnblogs.com/whitewolf/p/details-of-ES7-JavaScript-Decorators.html" rel="nofollow noreferrer" target="_blank">&#x7EC6;&#x8BF4;ES7 JavaScript Decorators</a></p><p>&#x6587;&#x7AE0;&#x90FD;&#x6BD4;&#x8F83;&#x65E9;&#xFF0C;&#x5F53;&#x65F6;&#x5199;&#x6587;&#x7AE0;&#x7684;&#x4F5C;&#x8005;&#x90FD;&#x8BA4;&#x4E3A;&#x5728;&#x65B0;&#x7684; ES7 &#x91CC;&#x4F1A;&#x63A8;&#x51FA;&#x6807;&#x51C6;&#x7684; <code>@</code> &#x8BED;&#x6CD5;&#xFF0C;&#x7136;&#x800C;&#x4E8B;&#x540E;&#x8BC1;&#x660E;&#x5B98;&#x65B9;&#x5E76;&#x6CA1;&#x6709;&#x8FD9;&#x4E2A;&#x610F;&#x613F;&#x3002;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x76EE;&#x524D;&#x7684; ECMAScript 2015 &#x6807;&#x51C6;&#xFF0C;&#x751A;&#x81F3;&#x5230; ECMAScript 2018 &#x6807;&#x51C6;&#x5B98;&#x65B9;&#x90FD;&#x6CA1;&#x6709;&#x63D0;&#x4F9B; <code>@</code> &#x8BED;&#x6CD5;&#x7684;&#x652F;&#x6301;&#xFF0C;&#x6211;&#x4EEC;&#x5728;&#x5176;&#x4ED6;&#x6587;&#x7AE0;&#x4E2D;&#x770B;&#x5230;&#x7684; <code>@</code> &#x8BED;&#x6CD5;&#x90FD;&#x662F;&#x901A;&#x8FC7; babel &#x63D2;&#x4EF6;&#x6765;&#x5B9E;&#x73B0;&#x7684;&#x3002;</p><p>&#x4E0A;&#x9762;&#x63D0;&#x53CA;&#x7684;&#x53C2;&#x8003;&#x6587;&#x7AE0;&#x90FD;&#x662F;&#x5C5E;&#x4E8E;&#x5E94;&#x7528;&#x7C7B;&#x578B;&#x7684;&#xFF0C;&#x5C31;&#x662F;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#xFF08;&#x5373;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <code>@</code> &#x8BED;&#x6CD5;&#xFF09;&#x6765;&#x5C55;&#x793A;&#x88C5;&#x9970;&#x5668;&#x7684;&#x5B9E;&#x9645;&#x5E94;&#x7528;&#xFF0C;&#x800C;&#x5BF9;&#x4E8E;&#x5982;&#x4F55;&#x5B9E;&#x73B0; <code>@</code> &#x8BED;&#x6CD5;&#x5E76;&#x6CA1;&#x6709;&#x63D0;&#x53CA; &#x2014;&#x2014; &#x90A3;&#x5C31;&#x662F;&#x5982;&#x4F55;&#x7528; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="nofollow noreferrer" target="_blank">Object.defineProperty</a> &#x6765;&#x5B9E;&#x73B0; <code>@</code> &#x8BED;&#x6CD5;&#x3002;</p><p>&#x9053;&#x7406;&#x5927;&#x5BB6;&#x90FD;&#x61C2;&#xFF0C;&#x90A3;&#x4E48;&#x5230;&#x5E95;&#x5982;&#x4F55;&#x624D;&#x80FD;&#x81EA;&#x5DF1;&#x52A8;&#x624B;&#x53BB;&#x5B9E;&#x73B0; <code>@</code> &#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x5462;&#xFF1F;</p><h2 id="articleHeader3">2&#x3001;&#x9996;&#x5148;&#x4F60;&#x8981;&#x7406;&#x89E3;&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;&#xFF08;descriptor&#xFF09;</h2><p>&#x5728; JS &#x4E2D;&#xFF0C;&#x6211;&#x4EEC;&#x501F;&#x52A9; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="nofollow noreferrer" target="_blank">Object.defineProperty</a> &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x88C5;&#x9970;&#x5668;&#x8BBE;&#x8BA1;&#x6A21;&#x5F0F;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x7B7E;&#x540D;&#x5982;&#x4E0B;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="Object.defineProperty(obj, prop, descriptor)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js" style="word-break:break-word;white-space:initial"><span class="hljs-built_in">Object</span>.defineProperty(obj, prop, descriptor)</code></pre><p>&#x5176;&#x4E2D;&#x6700;&#x6838;&#x5FC3;&#x7684;&#x5176;&#x5B9E;&#x662F; <code>descriptor</code> &#x2014;&#x2014; <strong>&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;</strong> &#x3002;</p><p>&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;&#x603B;&#x5171;&#x5206;&#x4E24;&#x79CD;&#xFF1A;<strong>&#x6570;&#x636E;&#x63CF;&#x8FF0;&#x7B26;</strong>&#xFF08;Data descriptor&#xFF09;&#x548C; <strong>&#x8BBF;&#x95EE;&#x5668;&#x63CF;&#x8FF0;&#x7B26;</strong>&#xFF08;Accessor descriptor&#xFF09;&#x3002;</p><p><strong>&#x63CF;&#x8FF0;&#x7B26;&#x5FC5;&#x987B;&#x662F;&#x4E24;&#x79CD;&#x5F62;&#x5F0F;&#x4E4B;&#x4E00;&#xFF0C;&#x4F46;&#x4E0D;&#x80FD;&#x540C;&#x65F6;&#x662F;&#x4E24;&#x8005;</strong>&#x3002;</p><p>&#x6BD4;&#x5982; <strong>&#x6570;&#x636E;&#x63CF;&#x8FF0;&#x7B26;</strong>&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="Object.getOwnPropertyDescriptor(user,&apos;name&apos;);

// &#x8F93;&#x51FA;
/**
{
  &quot;value&quot;: &quot;&#x5F20;&#x4E09;&quot;,
  &quot;writable&quot;: true,
  &quot;enumerable&quot;: true,
  &quot;configurable&quot;: true
}
**/
" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js"><span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(user,<span class="hljs-string">&apos;name&apos;</span>);

<span class="hljs-comment">// &#x8F93;&#x51FA;</span>
<span class="hljs-comment">/**
{
  &quot;value&quot;: &quot;&#x5F20;&#x4E09;&quot;,
  &quot;writable&quot;: true,
  &quot;enumerable&quot;: true,
  &quot;configurable&quot;: true
}
**/</span>
</code></pre><p>&#x8FD8;&#x6709; <strong>&#x8BBF;&#x95EE;&#x5668;&#x63CF;&#x8FF0;&#x7B26;</strong>&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var anim = { 
  get age() { return 5; } 
};
Object.getOwnPropertyDescriptor(anim, &quot;age&quot;);
// &#x8F93;&#x51FA;
/**
{
   configurable: true,
   enumerable: true,
   get: /*the getter function*/,
   set: undefined
 }
**/" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> anim = { 
  get age() { <span class="hljs-keyword">return</span> <span class="hljs-number">5</span>; } 
};
<span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(anim, <span class="hljs-string">&quot;age&quot;</span>);
<span class="hljs-comment">// &#x8F93;&#x51FA;</span>
<span class="hljs-comment">/**
{
   configurable: true,
   enumerable: true,
   get: /*the getter function*/</span>,
   <span class="hljs-attr">set</span>: <span class="hljs-literal">undefined</span>
 }
**<span class="hljs-regexp">/</span></code></pre><p>&#x5177;&#x4F53;&#x53EF;&#x53C2;&#x8003; StackOverflow &#x4E0A;&#x7684;&#x95EE;&#x7B54; <a href="https://stackoverflow.com/questions/9167181/what-is-a-descriptor" rel="nofollow noreferrer" target="_blank">What is a descriptor? </a>&#xFF1B;</p><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x4E00;&#x8D77;&#x6765;&#x770B;&#x4E00;&#x4E0B; babel &#x4E2D;&#x5230;&#x5E95;&#x662F;&#x5982;&#x4F55;&#x5B9E;&#x73B0; <code>@</code> &#x8BED;&#x6CD5;&#x7684;&#xFF1F;</p><h2 id="articleHeader4">3&#x3001;&#x642D;&#x5EFA;&#x88C5;&#x9970;&#x5668;&#x7684; babel &#x793A;&#x4F8B;</h2><p>&#x5728;&#x7406;&#x89E3;&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x53BB;&#x770B;&#x770B; babel &#x5BF9;&#x4E8E;&#x88C5;&#x9970;&#x5668; <code>@</code> &#x8BED;&#x6CD5;&#x7684;&#x5185;&#x90E8;&#x5B9E;&#x73B0;&#x4E86;&#x3002;</p><p>&#x5C31;&#x62FF; MobX <a href="https://cn.mobx.js.org/refguide/observable-decorator.html" rel="nofollow noreferrer" target="_blank">&#x5B98;&#x65B9;&#x7684;&#x793A;&#x4F8B;</a> &#x6765;&#x8BB2;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="import { observable, computed, action } from &quot;mobx&quot;;

class OrderLine {
    @observable price = 0;
    @observable amount = 1;

    @computed get total() {
        return this.price * this.amount;
    }
    
    @action.bound
    increment() {
        this.amount++ // &apos;this&apos; &#x6C38;&#x8FDC;&#x90FD;&#x662F;&#x6B63;&#x786E;&#x7684;
    }
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js"><span class="hljs-keyword">import</span> { observable, computed, action } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderLine</span> </span>{
    @observable price = <span class="hljs-number">0</span>;
    @observable amount = <span class="hljs-number">1</span>;

    @computed get total() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.price * <span class="hljs-keyword">this</span>.amount;
    }
    
    @action.bound
    increment() {
        <span class="hljs-keyword">this</span>.amount++ <span class="hljs-comment">// &apos;this&apos; &#x6C38;&#x8FDC;&#x90FD;&#x662F;&#x6B63;&#x786E;&#x7684;</span>
    }
}</code></pre><p>&#x6211;&#x4EEC;&#x5E76;&#x4E0D;&#x662F;&#x771F;&#x6B63;&#x60F3;&#x8981;&#x8FD0;&#x884C;&#x4E0A;&#x9762;&#x90A3;&#x6BB5;&#x4EE3;&#x7801;&#xFF0C;&#x800C;&#x662F;&#x60F3;&#x770B;&#x4E00;&#x4E0B; babel &#x901A;&#x8FC7;&#x88C5;&#x9970;&#x5668;&#x63D2;&#x4EF6;&#xFF0C;&#x628A;&#x4E0A;&#x9762;&#x90A3;&#x6BB5;&#x4EE3;&#x7801;&#x4E2D;&#x7684; <code>@</code> &#x8BED;&#x6CD5;&#x8F6C;&#x6362;&#x6210;&#x4EC0;&#x4E48;&#x6837;&#x5B50;&#x4E86;&#x3002;</p><p><strong>&#x8FD0;&#x884C;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x9700;&#x8981;&#x642D;&#x5EFA; babel &#x73AF;&#x5883;&#xFF0C;&#x6240;&#x4EE5;&#x76F4;&#x63A5;&#x6254;&#x5230;&#x6D4F;&#x89C8;&#x5668;&#x8FD0;&#x884C;&#x4F1A;&#x62A5;&#x9519;&#x7684;</strong>&#x3002;&#x6309;&#x7167;&#x5B98;&#x65B9;&#x6587;&#x6863; <a href="https://cn.mobx.js.org/best/decorators.html" rel="nofollow noreferrer" target="_blank">&#x5982;&#x4F55;(&#x4E0D;)&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;</a> &#x4E2D;&#x7684;&#x63D0;&#x793A;&#xFF0C;&#x9700;&#x8981;&#x501F;&#x52A9; <a href="https://www.npmjs.com/package/babel-preset-mobx" rel="nofollow noreferrer" target="_blank">babel-preset-mobx</a> &#x63D2;&#x4EF6;&#xFF0C;&#x8FD9;&#x662F;&#x4E00;&#x4E2A;&#x9884;&#x8BBE;&#xFF08;preset&#xFF0C;&#x76F8;&#x5F53;&#x4E8E; babel &#x63D2;&#x4EF6;&#x96C6;&#x5408;&#xFF09;&#xFF0C;&#x771F;&#x6B63;&#x548C;&#x88C5;&#x9970;&#x5668;&#x6709;&#x5173;&#x7684;&#x662F;&#x63D2;&#x4EF6;&#x662F; <a href="https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy" rel="nofollow noreferrer" target="_blank">babel-plugin-transform-decorators-legacy</a>&#x3002;</p><h2 id="articleHeader5">4&#x3001;&#x6709;&#x4E24;&#x79CD;&#x65B9;&#x5F0F;&#x770B;&#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x7684;&#x4EE3;&#x7801;</h2><h3 id="articleHeader6">4.1&#x3001; &#x65B9;&#x6CD5;&#x4E00;&#xFF0C;&#x4F7F;&#x7528; babel &#x5728;&#x7EBF;&#x5DE5;&#x5177;</h3><p>&#x653E;&#x5230; <a href="https://babeljs.io/repl/#?babili=false&amp;browsers=%3E%202%25&amp;build=&amp;builtIns=false&amp;code_lz=JYWwDg9gTgLgBAbzhARgZwKZQG4EMUA2GANHAMYTgCuMGAJnAL5wBmUlcARCKgB6cBuAFBCyBXGjRwA8lDpYAMsAB2GRELia4AAVSYc-InDBRgZNQF44ABmFaderHkJrcPKsvhWAjMI1btCmpaBgBzDHgYCBhcAgAKAEp1e3soCKooZTgYAAtgNAA6EzM1ACpsvMK3CA8YOy1Gf00mnVwyGGAIZQKUGuU6FpUyNJAMT0TklM1c_ILq2oBqBbgAehW4AHIZtA24QA4bQB34wF-EwHozQGNrQDsPQBC3FsbGIA&amp;debug=false&amp;forceAllTransforms=false&amp;shippedProposals=false&amp;circleciRepo=&amp;evaluate=true&amp;fileSize=false&amp;lineWrap=false&amp;presets=es2015%2Cstage-1&amp;prettier=false&amp;targets=Electron-1.5&amp;version=6.26.0&amp;envVersion=1.6.2" rel="nofollow noreferrer" target="_blank">babel &#x5728;&#x7EBF;&#x5DE5;&#x5177;</a>&#xFF0C;&#x7C98;&#x8D34;&#x73B0;&#x6709;&#x7684;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x4F1A;&#x62A5;&#x9519;&#xFF0C;&#x4E0D;&#x8FC7; babel &#x7ED9;&#x51FA;&#x4E86;&#x53CB;&#x597D;&#x7684;&#x63D0;&#x793A;&#xFF0C;&#x56E0;&#x4E3A;&#x4F7F;&#x7528;&#x5230;&#x4E86;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#xFF0C;&#x9700;&#x8981;&#x5B89;&#x88C5; <a href="https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy" rel="nofollow noreferrer" target="_blank">babel-plugin-transform-decorators-legacy</a>&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482002?w=888&amp;h=782" src="https://static.alili.tech/img/remote/1460000015482002?w=888&amp;h=782" alt="decorator" title="decorator" style="cursor:pointer"></span></p><p>&#x6211;&#x4EEC;&#x70B9;&#x51FB;&#x5DE6;&#x4E0B;&#x65B9;&#x7684; <strong>Add Plugin</strong> &#x6309;&#x94AE;&#xFF0C;&#x5728;&#x5F39;&#x51FA;&#x7684;&#x641C;&#x7D22;&#x6846;&#x91CC;&#x8F93;&#x5165;&#x5173;&#x952E;&#x5B57; <strong>decorators-legacy</strong>&#xFF0C;&#x9009;&#x62E9;&#x8FD9;&#x4E2A;&#x63D2;&#x4EF6;&#x5C31;&#x53EF;&#x4EE5;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482003?w=1063&amp;h=755" src="https://static.alili.tech/img/remote/1460000015482003?w=1063&amp;h=755" alt="keywords" title="keywords" style="cursor:pointer"></span></p><p>&#x9009;&#x5B8C;&#x63D2;&#x4EF6;&#x4E4B;&#x540E;&#xFF0C;&#x4EE3;&#x7801;&#x5C31;&#x4F1A;&#x6210;&#x529F;&#x8F6C;&#x8BD1;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482004?w=1439&amp;h=773" src="https://static.alili.tech/img/remote/1460000015482004?w=1439&amp;h=773" alt="transform" title="transform" style="cursor:pointer"></span></p><p>&#x5E95;&#x4E0B;&#x4F1A;&#x63D0;&#x793A; <strong>require is not defined</strong> &#x9519;&#x8BEF;&#xFF0C;&#x8FD9;&#x4E2A;&#x9519;&#x8BEF;&#x5E76;&#x4E0D;&#x5F71;&#x54CD;&#x4F60;&#x5206;&#x6790;&#x88C5;&#x9970;&#x5668;&#x7684;&#x8BED;&#x6CD5;&#xFF0C;&#x56E0;&#x4E3A;&#x6709; <code>@</code> &#x7B26;&#x53F7;&#x90E8;&#x5206;&#x90FD;&#x5DF2;&#x7ECF;&#x8F6C;&#x6362;&#x6210; ES5 &#x8BED;&#x6CD5;&#x4E86;&#xFF0C;&#x53EA;&#x662F;&#x8FD9;&#x4E2A;&#x62A5;&#x9519;&#x65E0;&#x6CD5;&#x8BA9;&#x8FD9;&#x6BB5;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x8D77;&#x6765;&#x3002;</p><blockquote>&#x8FD9;&#x662F;&#x56E0;&#x4E3A; Babel &#x53EA;&#x662F;&#x5C06;&#x6700;&#x65B0;&#x7684; ES6 &#x8BED;&#x6CD5;&#x201C;&#x7FFB;&#x8BD1;&#x201D;&#x6210;&#x5404;&#x5927;&#x6D4F;&#x89C8;&#x5668;&#x652F;&#x6301;&#x6BD4;&#x8F83;&#x597D;&#x7684; ES5 &#x8BED;&#x6CD5;&#xFF0C;&#x4F46;&#x6A21;&#x5757;&#x5316;&#x5199;&#x6CD5;&#xFF08;<code>require</code>&#x8BED;&#x53E5;&#xFF09;&#x672C;&#x8EAB;&#x5C31;&#x4E0D;&#x662F; ECMAScript &#x7684;&#x6807;&#x51C6;&#xFF0C;&#x800C;&#x662F;&#x4EA7;&#x751F;&#x4E86;&#x5176;&#x4ED6;&#x7684;&#x6A21;&#x5757;&#x5316;&#x5199;&#x6CD5;&#x6807;&#x51C6;&#xFF0C;&#x4F8B;&#x5982; CommonJS&#xFF0C;AMD,UMD&#x3002;&#x56E0;&#x6B64; Babel &#x8F6C;&#x7801;&#x6A21;&#x5757;&#x5316;&#x5199;&#x6CD5;&#x540E;&#x5728;&#x6D4F;&#x89C8;&#x5668;&#x4E2D;&#x8FD8;&#x662F;&#x65E0;&#x6CD5;&#x8FD0;&#x884C;&#xFF0C;&#x6B64;&#x65F6;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x653E;&#x5230; Webpack &#x8FD9;&#x79CD;&#x81EA;&#x52A8;&#x5316;&#x6784;&#x5EFA;&#x5DE5;&#x5177;&#x73AF;&#x5883;&#x4E2D;&#xFF0C;&#x6B64;&#x65F6; Webpack &#x662F;&#x652F;&#x6301;&#x6A21;&#x5757;&#x5316;&#x5199;&#x6CD5;&#x7684;</blockquote><p>&#x5982;&#x679C;&#x6709;&#x5F3A;&#x8FEB;&#x75C7;&#x7684;&#x540C;&#x5B66;&#xFF0C;&#x975E;&#x5F97;&#x60F3;&#x8981;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#x8FD0;&#x884C;&#x8D77;&#x6765;&#xFF0C;&#x53EF;&#x4EE5;&#x53C2;&#x8003;&#x4E0B;&#x8FF0;&#x7684; <strong>&#x65B9;&#x6CD5;&#x4E8C;</strong>&#x3002;</p><h3 id="articleHeader7">4.2&#x3001;&#x65B9;&#x6CD5;&#x4E8C;&#xFF0C;&#x4F7F;&#x7528; demo &#x5DE5;&#x7A0B;</h3><p>&#x5B98;&#x65B9;&#x63D0;&#x4F9B;&#x4E86; <a href="https://github.com/mobxjs/mobx-react-boilerplate" rel="nofollow noreferrer" target="_blank">mobx-react-boilerplate</a>&#xFF0C;clone &#x4E0B;&#x6765;&#x4E4B;&#x540E;&#x76F4;&#x63A5;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="npm install
npm start" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js">npm install
npm start</code></pre><blockquote>&#x8BF4;&#x660E;&#xFF1A;package.json &#x4E2D;&#x7684; <code>dependencies</code> &#x5B57;&#x6BB5;&#x6BD4;&#x8F83;&#x9648;&#x65E7;&#x4E86;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x5DF1;&#x624B;&#x52A8;&#x66F4;&#x65B0;&#x5230;&#x6700;&#x65B0;&#x7248;&#x672C;</blockquote><p>&#x6253;&#x5F00;&#x63A7;&#x5236;&#x53F0;&#x5C31;&#x53EF;&#x4EE5;&#x770B;&#x5230; <strong>bundle.js</strong> &#x6587;&#x4EF6;&#x4E86;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482005?w=787&amp;h=280" src="https://static.alili.tech/img/remote/1460000015482005?w=787&amp;h=280" alt="bundle" title="bundle" style="cursor:pointer"></span></p><p>&#x8FD9;&#x6837;&#xFF0C;&#x6211;&#x4EEC;&#x5C31;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5728; index.js &#x4E2D;&#x7C98;&#x8D34;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x56E0;&#x4E3A;&#x57FA;&#x4E8E; Webpack &#x6253;&#x5305;&#xFF0C;&#x6240;&#x4EE5;&#x793A;&#x4F8B;&#x4EE3;&#x7801;&#x662F;&#x53EF;&#x4EE5;&#x8FD0;&#x884C;&#x7684;&#x3002;</p><h2 id="articleHeader8">5&#x3001;&#x5206;&#x6790;&#x8F6C;&#x6362;&#x4E4B;&#x540E;&#x7684;&#x4EE3;&#x7801;&#x903B;&#x8F91;</h2><p>&#x4E0A;&#x8FF0;&#x4E24;&#x79CD;&#x65B9;&#x6CD5;&#x56E0;&#x4E3A;&#x90FD;&#x662F;&#x4F7F;&#x7528;&#x540C;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#x8F6C;&#x6362;&#x63D2;&#x4EF6; <a href="https://github.com/loganfsmyth/babel-plugin-transform-decorators-legacy" rel="nofollow noreferrer" target="_blank">babel-plugin-transform-decorators-legacy</a>&#xFF0C;&#x6240;&#x4EE5;<strong>&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x90E8;&#x5206;&#x8F6C;&#x6362;&#x540E;&#x7684;&#x4EE3;&#x7801;&#x662F;&#x4E00;&#x6837;&#x7684;</strong>&#x3002;</p><p>&#x6BD4;&#x5982;&#x9488;&#x5BF9; <code>price</code> &#x5C5E;&#x6027;&#x7684;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="@observable price = 0;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js" style="word-break:break-word;white-space:initial">@observable price = <span class="hljs-number">0</span>;</code></pre><p>&#x7ECF;&#x8FC7; babel &#x8F6C;&#x8BD1;&#x4E4B;&#x540E;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var _descriptor = _applyDecoratedDescriptor(
    _class.prototype,
    &apos;price&apos;,
    [_mobx.observable],
    {
      enumerable: true,
      initializer: function initializer() {
        return 0;
      }
    }
  )" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js"><span class="hljs-keyword">var</span> _descriptor = _applyDecoratedDescriptor(
    _class.prototype,
    <span class="hljs-string">&apos;price&apos;</span>,
    [_mobx.observable],
    {
      <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
      <span class="hljs-attr">initializer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initializer</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
      }
    }
  )</code></pre><p>&#x800C;&#x5BF9;&#x4E8E; <code>total</code> &#x65B9;&#x6CD5;&#x7684;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="@computed get total() {
    return this.price * this.amount;
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js">@computed get total() {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.price * <span class="hljs-keyword">this</span>.amount;
}</code></pre><p>&#x7ECF;&#x8FC7; babel &#x8F6C;&#x8BD1;&#x4E4B;&#x540E;&#x5219;&#x4E3A;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="_applyDecoratedDescriptor(
  _class.prototype,
  &apos;total&apos;,
  [_mobx.computed],
  Object.getOwnPropertyDescriptor(_class.prototype, &apos;total&apos;),
  _class.prototype
);" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js">_applyDecoratedDescriptor(
  _class.prototype,
  <span class="hljs-string">&apos;total&apos;</span>,
  [_mobx.computed],
  <span class="hljs-built_in">Object</span>.getOwnPropertyDescriptor(_class.prototype, <span class="hljs-string">&apos;total&apos;</span>),
  _class.prototype
);</code></pre><p><span class="img-wrap"><img data-src="/img/remote/1460000015482006?w=699&amp;h=384" src="https://static.alili.tech/img/remote/1460000015482006?w=699&amp;h=384" alt="apply" title="apply" style="cursor:pointer"></span></p><p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5173;&#x952E;&#x662F;&#x4F7F;&#x7528;&#x4E86; <code>_applyDecoratedDescriptor</code> &#x65B9;&#x6CD5;&#x3002;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x7740;&#x91CD;&#x5206;&#x6790;&#x8FD9;&#x4E2A;&#x65B9;&#x6CD5;&#x3002;</p><h2 id="articleHeader9">6&#x3001;&#x5173;&#x952E;&#x662F; <code>_applyDecoratedDescriptor</code> &#x65B9;&#x6CD5;</h2><p>&#x8BE5;&#x51FD;&#x6570;&#x7B7E;&#x540D;&#x4E3A;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function _applyDecoratedDescriptor(
  target,
  property,
  decorators,
  descriptor,
  context
)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">_applyDecoratedDescriptor</span>(<span class="hljs-params">
  target,
  property,
  decorators,
  descriptor,
  context
</span>)</span></code></pre><p>&#x5177;&#x4F53;&#x7684;&#x7528;&#x6CD5;&#xFF0C;&#x4EE5; <code>price</code> &#x5C5E;&#x6027;&#x4E3A;&#x4F8B;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x83B7;&#x53D6;&#x5BF9;&#x5E94;&#x7684;&#x5B9E;&#x53C2;&#xFF1A;</p><ul><li><strong>target</strong>&#xFF1A;<code>_class.prototype</code> &#xFF0C;&#x5373; <code>OrderLine.prototype</code></li><li><strong>property</strong>&#xFF1A;&#x5373;&#x5B57;&#x7B26;&#x4E32; <code>&quot;price&quot;</code></li><li><strong>decorators</strong>&#xFF1A;&#x5728;&#x8FD9;&#x91CC;&#x662F; <code>[_mobx.observable]</code>&#xFF08;&#x4E0D;&#x540C;&#x7684;&#x4FEE;&#x9970;&#x7B26;&#x88C5;&#x9970;&#x5668;&#x662F;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#xFF0C;&#x6BD4;&#x5982;&#x4F7F;&#x7528; <code>@computed</code> &#x4FEE;&#x9970;&#x7684; <code>total</code> &#x65B9;&#x6CD5;&#xFF0C;&#x5C31;&#x662F; <code>[_mobx.computed]</code>&#xFF09;&#xFF0C;&#x662F;&#x957F;&#x5EA6;&#x4E3A; 1 &#x7684;&#x6570;&#x7EC4;&#xFF0C;&#x5177;&#x4F53;&#x7684; <code>observable</code> &#x65B9;&#x6CD5;&#x5C06;&#x5728;&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x8BE6;&#x7EC6;&#x8BB2;&#xFF0C;&#x5C31;&#x662F; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/api/observable.ts#L68" rel="nofollow noreferrer" target="_blank">createObservable</a></li><li><strong>descriptor</strong>&#xFF1A;&#x5373;&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;&#xFF0C;&#x5C5E;&#x6027;&#x6210;&#x5458;&#xFF08;&#x6BD4;&#x5982; <code>price</code>&#xFF09;&#x4F1A;&#x6709; <code>initializer</code> &#x5C5E;&#x6027;&#xFF0C;&#x800C;&#x65B9;&#x6CD5;&#x6210;&#x5458;&#xFF08;&#x6BD4;&#x5982; <code>total</code>&#xFF09; &#x5219;&#x4E0D;&#x4F1A;&#x6709;&#x8FD9;&#x4E2A;&#x5C5E;&#x6027;&#xFF0C;&#x7528;&#x8FD9;&#x4E2A;&#x6765;&#x533A;&#x5206;&#x8FD9;&#x4E24;&#x79CD;&#x4E0D;&#x540C;&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</li></ul><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="{
  enumerable: true,
  initializer: function initializer() {
    return 0;
  }
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js">{
  <span class="hljs-attr">enumerable</span>: <span class="hljs-literal">true</span>,
  <span class="hljs-attr">initializer</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">initializer</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-number">0</span>;
  }
}</code></pre><ul><li><strong>context</strong>&#xFF1A;&#x5C31;&#x662F;&#x8FD0;&#x884C;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x4E00;&#x822C;&#x6765;&#x8BB2;&#x5BF9;&#x6570;&#x636E;&#x5C5E;&#x6027;&#x7684;&#x88C5;&#x9970;&#x5219;&#x4E3A; <code>null</code>&#xFF0C;&#x5BF9;&#x65B9;&#x6CD5;&#x5C5E;&#x6027;&#x5219;&#x662F; <code>_class.prototype</code>&#xFF1B;</li></ul><p>&#x770B;&#x5B8C;&#x51FD;&#x6570;&#x7B7E;&#x540D;&#xFF0C;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x770B;&#x51FD;&#x6570;&#x5185;&#x5BB9;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482007?w=1297&amp;h=841" src="https://static.alili.tech/img/remote/1460000015482007?w=1297&amp;h=841" alt="_applyDecoratedDescriptor" title="_applyDecoratedDescriptor" style="cursor:pointer"></span></p><p>&#x8FD9;&#x51E0;&#x884C;&#x4EE3;&#x7801;&#x6CA1;&#x5565;&#x96BE;&#x5EA6;&#xFF0C;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x719F;&#x6089;&#x7684; <strong>&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;</strong> &#x76F8;&#x5173;&#x7684;&#x5185;&#x5BB9;&#xFF1A;</p><ul><li>&#x56FE;&#x4E2D;&#x6807;&#x6CE8; &#x2460; &#xFF0C;&#x8868;&#x793A;&#x8FD4;&#x56DE;&#x7684; <code>desc</code> &#x53D8;&#x91CF;&#x5C31;&#x662F;&#x6211;&#x4EEC;&#x719F;&#x6089;&#x7684; <strong>&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;</strong>&#x3002;&#x56E0;&#x6B64;&#xFF0C;&#x8BE5; <code>_applyDecoratedDescriptor</code> &#x7684;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x6839;&#x636E;&#x5165;&#x53C2;&#x8FD4;&#x56DE;&#x5177;&#x4F53;&#x7684;&#x63CF;&#x8FF0;&#x7B26;&#x3002;</li><li>&#x5982;&#x679C;&#x662F;&#x5C5E;&#x6027;&#x6210;&#x5458;&#xFF08;&#x6BD4;&#x5982;<code>price</code>&#xFF09;&#xFF0C;&#x5C31;&#x5C06;&#x8FD4;&#x56DE;&#x7684;&#x63CF;&#x8FF0;&#x7B26;&#x5C31;&#x53EF;&#x4EE5;&#x4F20;&#x7ED9; <code>_initDefineProp</code> &#xFF08;&#x76F8;&#x5F53;&#x4E8E; <code>Object.defineProperty</code>&#xFF09;&#x5E94;&#x7528;&#x5230;&#x539F;&#x6765;&#x7684;&#x5C5E;&#x6027;&#x4E2D;&#x53BB;&#x4E86;&#xFF0C;&#x4ECE;&#x800C;&#x8D77;&#x5230;&#x4E86; <strong>&#x88C5;&#x9970;</strong> &#x4F5C;&#x7528;&#x3002;</li></ul><p><span class="img-wrap"><img data-src="/img/remote/1460000015482008?w=717&amp;h=604" src="https://static.alili.tech/img/remote/1460000015482008?w=717&amp;h=604" alt="applyDecorated" title="applyDecorated" style="cursor:pointer"></span></p><ul><li>&#x56FE;&#x4E2D;&#x6807;&#x6CE8; &#x2461; &#xFF0C;&#x8868;&#x793A;&#x5BF9;&#x4E8E;&#x65B9;&#x6CD5;&#x6210;&#x5458;&#xFF08;&#x6BD4;&#x5982; <code>total</code>&#xFF09;&#x5219;&#x76F4;&#x63A5;&#x5E94;&#x7528; <code>Object.defineProperty</code> &#x65B9;&#x6CD5;&#xFF08;&#x5F53;&#x662F;&#x65B9;&#x6CD5;&#x6210;&#x5458;&#x65F6;&#xFF0C;<code>desc</code> &#x662F;&#x6CA1;&#x6709; <code>initializer</code> &#x5C5E;&#x6027;&#x7684;&#xFF09;&#xFF0C;&#x540C;&#x65F6;&#x4EE4; desc = null&#xFF0C;&#x4ECE;&#x540E;&#x7EED;&#x7684;&#x5E94;&#x7528;&#x6765;&#x770B;&#x5E76;&#x4E0D;&#x4F1A;&#x548C; <code>_initDefineProp</code> &#x65B9;&#x6CD5;&#x642D;&#x914D;&#x4F7F;&#x7528;</li></ul><p>&#x5BF9;&#x4E8E;&#x56FE;&#x4E2D;&#x6807;&#x6CE8; &#x2462; &#xFF0C;&#x6211;&#x4EEC;&#x5177;&#x4F53;&#x770B;<code>decorators</code> &#x5728;&#x5176;&#x4E2D;&#x53D1;&#x6325;&#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x5178;&#x578B;&#x7684;&#x51FD;&#x6570;&#x5F0F;&#x7F16;&#x7A0B;&#x624B;&#x6CD5;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482009?w=1362&amp;h=272" src="https://static.alili.tech/img/remote/1460000015482009?w=1362&amp;h=272" alt="decorators" title="decorators" style="cursor:pointer;display:inline"></span></p><ul><li>&#x9996;&#x5148;&#x6574;&#x4F53;&#x4E0A;&#x6765;&#x770B;&#xFF0C;&#x662F;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x8BED;&#x53E5;&#x3002;&#x5047;&#x5982;&#x6211;&#x4EEC;&#x4F20;&#x5165;&#x7684; <code>decorators</code> &#x662F; <strong>[a, b, c]</strong>&#xFF0C;&#x90A3;&#x4E48;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x76F8;&#x5F53;&#x4E8E;&#x5E94;&#x7528;&#x516C;&#x5F0F; <code>a(b(c(property)))</code>&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x88C5;&#x9970;&#x5668; <code>c</code> &#x5148;&#x88C5;&#x9970;&#x5C5E;&#x6027; <code>property</code>&#xFF0C;&#x968F;&#x540E;&#x518D;&#x53E0;&#x52A0;&#x88C5;&#x9970;&#x5668; <code>b</code> &#x7684;&#x4F5C;&#x7528;&#xFF0C;&#x6700;&#x540E;&#x53E0;&#x52A0;&#x88C5;&#x9970;&#x5668; <code>a</code>&#x3002;&#x4EE5; <code>price</code> &#x5C5E;&#x6027;&#x4E3A;&#x4F8B;&#xFF0C;&#x7531;&#x4E8E;&#x53EA;&#x6709;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#xFF08;<strong>@observable</strong>&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x5E94;&#x7528;&#x4E86; <code>[_mobx.observable]</code> &#x8FD9;&#x4E00;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#x3002;</li><li>&#x5176;&#x6B21;&#x5C40;&#x90E8;&#x6765;&#x770B;&#xFF0C;&#x88C5;&#x9970;&#x5668;&#x5177;&#x4F53;&#x5E94;&#x7528;&#x8868;&#x8FBE;&#x5F0F;&#x662F; <code>decorator(target, property, desc)</code> &#xFF0C;&#x5176;&#x51FD;&#x6570;&#x7B7E;&#x540D;&#x548C; <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty" rel="nofollow noreferrer" target="_blank">Object.defineProperty</a> &#x662F;&#x4E00;&#x6A21;&#x4E00;&#x6837;&#x3002;&#x901A;&#x8FC7;&#x56FE;&#x4E2D;&#x6807;&#x6CE8; &#x2462; &#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#xFF0C;&#x5F53;&#x6211;&#x4EEC;&#x5199;&#x88C5;&#x9970;&#x5668;&#x51FD;&#x6570;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x51FD;&#x6570;&#x7684;&#x5B9A;&#x4E49;&#x5165;&#x53C2;&#x5FC5;&#x987B;&#x662F; <code>(target, name, descriptor)</code> &#x8FD9;&#x6837;&#x7684;&#xFF0C;&#x540C;&#x65F6;&#x8BE5;&#x51FD;&#x6570;&#x5FC5;&#x987B;&#x8981;&#x8FD4;&#x56DE;&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;&#x3002;&#xFF08;&#x53EF;&#x4EE5;&#x505C;&#x4E0B;&#x6765;&#x53BB;&#x7FFB;&#x7FFB;&#x770B;&#x81EA;&#x5DF1;&#x5199;&#x88C5;&#x9970;&#x5668;&#x51FD;&#x6570;&#x7684;&#x90A3;&#x4E9B;&#x4F8B;&#x5B50;&#xFF09;</li></ul><p>&#x81F3;&#x6B64;&#x6211;&#x4EEC;&#x5DF2;&#x7ECF;&#x638C;&#x63E1;&#x4E86; babel &#x8F6C;&#x6362; <code>@</code> &#x8BED;&#x6CD5;&#x7684;&#x7CBE;&#x9AD3; &#x2014;&#x2014; &#x521B;&#x5EFA;&#x4E86; <code>_applyDecoratedDescriptor</code> &#x65B9;&#x6CD5;&#xFF0C;&#x4ECE;&#x800C;&#x4F9D;&#x6B21;&#x5E94;&#x7528;&#x4F60;&#x6240;&#x5B9A;&#x4E49;&#x7684;&#x88C5;&#x9970;&#x5668;&#x65B9;&#x6CD5;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x660E;&#x767D;&#x4E86;&#x81EA;&#x5B9A;&#x4E49;&#x7684;&#x88C5;&#x9970;&#x5668;&#x65B9;&#x6CD5;&#x7684;&#x51FD;&#x6570;&#x7B7E;&#x540D;&#x5FC5;&#x987B;&#x662F; <code>(target, name, descriptor)</code> &#x7684;&#x3002;</p><p>&#x603B;&#x7ED3;&#x4E00;&#x4E0B;&#x8FD9;&#x4E2A; babel &#x63D2;&#x4EF6;&#x5BF9;&#x4E8E;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5; <code>@</code> &#x6240;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#xFF1A;</p><ol><li>&#x901A;&#x8FC7; ast &#x5206;&#x6790;&#xFF0C;&#x5C06; <code>@</code> &#x8BED;&#x6CD5;&#x8F6C;&#x6362;&#x6210; <code>_applyDecoratedDescriptor</code> &#x65B9;&#x6CD5;&#x7684;&#x5E94;&#x7528;</li><li><code>_applyDecoratedDescriptor</code> &#x65B9;&#x6CD5;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x5E94;&#x7528;&#x88C5;&#x9970;&#x5668;&#x7684;&#x8FC7;&#x7A0B;</li></ol><p>&#x90A3;&#x4E48;&#x63A5;&#x4E0B;&#x6765;&#x6211;&#x4EEC;&#x56DE;&#x5230;&#x4E3B;&#x9898;&#xFF0C;mobx &#x5982;&#x679C;&#x4E0D;&#x4F7F;&#x7528; babel &#x8F6C;&#x8BD1;&#xFF0C;&#x90A3;&#x8BE5;&#x5982;&#x4F55;&#x5B9E;&#x73B0;&#x7C7B;&#x4F3C;&#x4E8E;&#x4E0A;&#x8FF0;&#x88C5;&#x9970;&#x5668;&#x7684;&#x8BED;&#x6CD5;&#x5462;&#xFF1F;</p><h2 id="articleHeader10">7&#x3001;&#x4E0D;&#x7528;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#xFF0C;mobx &#x63D0;&#x4F9B;&#x4E86;&#x7B49;&#x4EF7;&#x5199;&#x6CD5;</h2><p>&#x5F88;&#x663E;&#x7136;&#xFF0C;MobX &#x4E0D;&#x80FD;&#x5B9E;&#x73B0;&#xFF08;&#x4E5F;&#x6CA1;&#x6709;&#x5FC5;&#x8981;&#xFF09;ast &#x5206;&#x6790;&#x5C06; <code>@</code> &#x8BED;&#x6CD5;&#x8F6C;&#x6362;&#x6389;&#x7684;&#x529F;&#x80FD;&#xFF0C;&#x6240;&#x4EE5;&#x53EA;&#x80FD;&#x63D0;&#x4F9B; <strong>&#x5FAA;&#x73AF;&#x5E94;&#x7528;&#x88C5;&#x9970;&#x5668;</strong> &#x7684;&#x8FD9;&#x65B9;&#x9762;&#x7684;&#x529F;&#x80FD;&#x3002;</p><p>&#x4E3A;&#x8FBE;&#x5230;&#x8FD9;&#x4E2A;&#x76EE;&#x7684;&#xFF0C;MobX 4.x &#x7248;&#x672C;&#x76F8;&#x5BF9; 3.x &#x7B49;&#x4EE5;&#x524D;&#x7248;&#x672C;&#x591A;&#x4E86; <a href="https://cn.mobx.js.org/refguide/api.html#decorate" rel="nofollow noreferrer" target="_blank">decorate</a> API &#x65B9;&#x6CD5;&#x3002;</p><p>&#x5B98;&#x65B9;&#x6587;&#x6863; <a href="https://cn.mobx.js.org/best/decorators.html" rel="nofollow noreferrer" target="_blank">&#x5982;&#x4F55;(&#x4E0D;)&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;</a> &#x6240;&#x8A00;&#xFF0C;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668; <code>@</code> &#x8BED;&#x6CD5;&#x7B49;&#x4EF7;&#x4E8E;&#x4F7F;&#x7528; <code>decorate</code> &#x65B9;&#x6CD5;&#xFF0C;&#x5373;&#x6539;&#x5199;&#x6210;&#x5982;&#x4E0B;&#x5F62;&#x5F0F;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="
import { observable, computed, decorate, action } from &quot;mobx&quot;;

class OrderLine {
    price = 0;
    amount = 1;

    get total() {
        return this.price * this.amount;
    }
}
decorate(OrderLine, {
    price: observable,
    amount: observable,
    total: computed,
    increment: action.bound
})" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js">
<span class="hljs-keyword">import</span> { observable, computed, decorate, action } <span class="hljs-keyword">from</span> <span class="hljs-string">&quot;mobx&quot;</span>;

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">OrderLine</span> </span>{
    price = <span class="hljs-number">0</span>;
    amount = <span class="hljs-number">1</span>;

    get total() {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.price * <span class="hljs-keyword">this</span>.amount;
    }
}
decorate(OrderLine, {
    <span class="hljs-attr">price</span>: observable,
    <span class="hljs-attr">amount</span>: observable,
    <span class="hljs-attr">total</span>: computed,
    <span class="hljs-attr">increment</span>: action.bound
})</code></pre><blockquote>3.x &#x4EE5;&#x524D;&#x7684;&#x7248;&#x672C;&#x56E0;&#x4E3A;&#x6CA1;&#x6709; <code>decorate</code> &#x65B9;&#x6CD5;&#xFF0C;&#x6240;&#x4EE5;&#x662F;&#x501F;&#x52A9; <code>extendObservable</code> &#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x5177;&#x4F53;&#x89C1;&#x6587;&#x6863; <a href="https://github.com/SangKa/MobX-Docs-CN/tree/3.0.0/docs#%E6%8F%92%E6%9B%B2-%E5%9C%A8es5es6%E5%92%8Cesnext%E7%8E%AF%E5%A2%83%E4%B8%8B%E4%BD%BF%E7%94%A8-mobx" rel="nofollow noreferrer" target="_blank">&#x5728;ES5&#x3001;ES6&#x548C;ES.next&#x73AF;&#x5883;&#x4E0B;&#x4F7F;&#x7528; MobX</a></blockquote><p>&#x6211;&#x4EEC;&#x7FFB;&#x5F00; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/api/decorate.ts#L11" rel="nofollow noreferrer" target="_blank">decorate &#x6E90;&#x7801;</a>&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x58F0;&#x660E;&#x662F;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="decorate(thing, decorators)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js" style="word-break:break-word;white-space:initial">decorate(thing, decorators)</code></pre><ul><li><code>thing</code>&#xFF1A;&#x9700;&#x8981;&#x88AB;&#x88C5;&#x9970;&#x7684;&#x539F;&#x59CB;&#x5BF9;&#x8C61;&#xFF1B;</li><li><code>decorators</code>&#xFF1A;&#x88C5;&#x9970;&#x5668;&#x914D;&#x7F6E;&#x5BF9;&#x8C61;&#xFF0C;&#x662F;&#x4E00;&#x4E2A; <strong>key/value</strong> &#x5F62;&#x5F0F;&#x7684;&#x5BF9;&#x8C61;&#xFF0C; <strong>key &#x662F;&#x5C5E;&#x6027;&#x540D;&#xFF0C;value &#x5C31;&#x662F;&#x5177;&#x4F53;&#x7684;&#x88C5;&#x9970;&#x5668;&#x51FD;&#x6570;</strong>&#xFF08;&#x6BD4;&#x5982; <code>observable</code>&#x3001;<code>computed</code> &#x548C; <code>action.bound</code> &#x8FD9;&#x6837;&#x5177;&#x4F53;&#x7684;&#x88C5;&#x9970;&#x5668;&#x6709;&#x6548;&#x51FD;&#x6570;&#xFF09;</li></ul><p>&#x6458;&#x51FA;&#x6838;&#x5FC3;&#x8BED;&#x53E5;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482010?w=1311&amp;h=506" src="https://static.alili.tech/img/remote/1460000015482010?w=1311&amp;h=506" alt="decorate" title="decorate" style="cursor:pointer"></span></p><p>&#x53EF;&#x4EE5;&#x770B;&#x53BB;&#x7684;&#x786E;&#x5C31;&#x662F;&#x4E00;&#x4E2A; <code>for</code> &#x5FAA;&#x73AF;&#xFF0C;&#x7136;&#x540E;&#x4F9D;&#x6B21;&#x5E94;&#x7528; <code>decorator</code>&#xFF0C;&#x8FD9;&#x6070;&#x597D;&#x5C31;&#x662F; babel &#x63D2;&#x4EF6;&#x8F6C;&#x6362;&#x540E; <code>_applyDecoratedDescriptor</code> &#x65B9;&#x6CD5;&#x6240;&#x505A;&#x7684;&#x4E8B;&#x60C5;&#xFF0C;&#x56E0;&#x6B64;&#x4E24;&#x8005;&#x662F;&#x7B49;&#x6548;&#x7684;&#x3002;</p><p>&#x8FD9;&#x6837;&#xFF0C;&#x5C31;&#x89E3;&#x7B54;&#x4E86;&#x672C;&#x6587;&#x5F00;&#x7BC7;&#x63D0;&#x51FA;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x7591;&#x95EE;&#x3002; <a href="https://cn.mobx.js.org/refguide/observable-decorator.html" rel="nofollow noreferrer" target="_blank">@observable</a>&#x3001;<a href="https://cn.mobx.js.org/refguide/computed-decorator.html" rel="nofollow noreferrer" target="_blank">@computer</a> &#x7B49;&#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#xFF0C;&#x662F;&#x548C;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <a href="https://cn.mobx.js.org/best/decorators.html" rel="nofollow noreferrer" target="_blank">decorate</a> &#x662F;&#x7B49;&#x6548;&#x7B49;&#x4EF7;&#x7684;&#x3002;</p><p>&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x662F;&#x4E0D;&#x662F;&#x89C9;&#x5F97;&#x6709;&#x70B9;&#x513F;&#x4E0D;&#x53EF;&#x601D;&#x8BAE;&#xFF1F;&#x55EF;&#xFF0C;&#x4E8B;&#x5B9E;&#x4E0A;&#x88C5;&#x9970;&#x5668;&#x5E94;&#x7528;&#x7684;&#x8FC7;&#x7A0B;&#x5C31;&#x8FD9;&#x4E48;&#x7684;&#x7B80;&#x5355;&#x3002;&#x4F60;&#x4E5F;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x5C06;&#x8FD9;&#x4E2A; <a href="https://cn.mobx.js.org/refguide/api.html#decorate" rel="nofollow noreferrer" target="_blank">decorate</a> API &#x65B9;&#x6CD5;&#x76F4;&#x63A5;&#x63D0;&#x53D6;&#x5230;&#x81EA;&#x5DF1;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x4F7F;&#x7528;&#xFF0C;&#x7ED9;&#x4F60;&#x7684;&#x9879;&#x76EE;&#x589E;&#x52A0;&#x65B0;&#x7684; feature&#x3002;</p><p>&#x89E3;&#x7B54;&#x5B8C;&#x7B2C;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF0C;&#x6211;&#x4EEC;&#x7EE7;&#x7EED;&#x8BB2;&#x672C;&#x6587;&#x5F00;&#x5934;&#x63D0;&#x51FA;&#x7684;&#x53E6;&#x4E00;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;MobX &#x4E2D;&#x7684; <code>enhancer</code> &#x662F;&#x4EC0;&#x4E48;&#x6982;&#x5FF5;&#xFF1F;</p><h1 id="articleHeader11">C. &#x7406;&#x89E3; Enhancer</h1><h2 id="articleHeader12">1&#x3001;<strong>Enhancer</strong> &#x6982;&#x5FF5;</h2><p><strong>Enhancer</strong> &#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x662F; MobX &#x81EA;&#x5DF1;&#x63D0;&#x51FA;&#x7684;&#x4E00;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;&#x521A;&#x63A5;&#x89E6;&#x5230;&#x7684;&#x7528;&#x6237;&#x5927;&#x591A;&#x6570;&#x4F1A;&#x5148;&#x8499;&#x5708;&#x4E00;&#x4F1A;&#x513F;&#x3002;</p><p>&#x5B66;&#x4E60;&#x8FC7; MobX 3.x &#x53CA;&#x4EE5;&#x524D;&#x7248;&#x672C;&#x7684;&#x4EBA;&#x53EF;&#x80FD;&#x4F1A;&#x9047;&#x5230; <strong>Modifier</strong> &#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#xFF0C;<code>Enhancer</code> &#x5176;&#x5B9E;&#x5C31;&#x662F; <code>Modifier</code>&#x3002;</p><p><strong>Modifier</strong> &#x5728; MobX 3 &#x4E4B;&#x524D;&#x7684;&#x7248;&#x672C;&#x91CC;&#x5B98;&#x65B9;&#x6709;&#x4E13;&#x95E8;&#x7684; <a href="https://github.com/SangKa/MobX-Docs-CN/blob/3.0.0/docs/refguide/modifiers.md" rel="nofollow noreferrer" target="_blank">&#x6587;&#x6863;</a> &#x89E3;&#x8BF4;&#x3002;&#x4E0D;&#x8FC7;&#x5230; MobX 4.x &#x4E4B;&#x540E;&#x5B98;&#x65B9;&#x5C31;&#x5220;&#x9664;&#x4E86;&#x8FD9;&#x7BC7;&#x6587;&#x6863;&#x3002;&#x597D;&#x5728;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x662F;&#x5185;&#x90E8;&#x4F7F;&#x7528;&#x7684;&#xFF0C;&#x4FEE;&#x6539;&#x540D;&#x5B57;&#x5BF9;&#x5916;&#x90E8;&#x8C03;&#x7528;&#x8005;&#x6CA1;&#x6709;&#x5565;&#x5F71;&#x54CD;&#x3002;</p><p><code>Enhancer</code> &#x4ECE;&#x5B57;&#x9762;&#x4E0A;&#x7406;&#x89E3;&#x662F; <strong>&#x589E;&#x5F3A;&#x5668;</strong>&#xFF0C;&#x5176;&#x4F5C;&#x7528;&#x5C31;&#x662F;&#x7ED9;&#x539F;&#x6709;&#x7684;&#x5BF9;&#x8C61; <strong>&#x589E;&#x52A0;&#x989D;&#x5916;&#x7684;&#x529F;&#x80FD;</strong> &#x2014;&#x2014; &#x8FD9;&#x4E0D;&#x5C31;&#x662F;&#x88C5;&#x9970;&#x5668;&#x7684;&#x4F5C;&#x7528;&#x4E48;&#xFF1F;&#x6CA1;&#x9519;&#xFF0C;&#x5B83;&#x662F;&#x8F85;&#x52A9; MobX &#x4E2D;&#x7684; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x529F;&#x80FD;&#x7684;&#x3002;&#x7ED3;&#x5408;&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x4F1A;&#x66F4;&#x52A0;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x8FD9;&#x4E2A;&#x6982;&#x5FF5;&#x3002;</p><h2 id="articleHeader13">2&#x3001;Enhancer &#x548C; <code>@observable</code> &#x7684;&#x6574;&#x4F53;&#x5173;&#x7CFB;</h2><p>MobX &#x4E0D;&#x662F;&#x6709;&#x5F88;&#x591A;&#x79CD;&#x88C5;&#x9970;&#x5668;&#x4E48;&#xFF0C;&#x6BD4;&#x5982; <code>@observable</code>&#x3001;<code>@compute</code> &#x548C; <code>@action</code>&#xFF0C;&#x6CE8;&#x610F; <code>Enhancer</code> &#x53EA;&#x548C; <code>@observable</code> &#x6709;&#x5173;&#x7CFB;&#xFF0C;&#x548C; <code>@compute</code> &#x548C; <code>@action</code> &#x662F;&#x6CA1;&#x5565;&#x5173;&#x7CFB;&#x7684;&#x3002;&#x8FD9;&#x662F;&#x56E0;&#x4E3A; <code>Enhancer</code> &#x662F;&#x4E3A;&#x89C2;&#x5BDF;&#x503C;&#xFF08;observable&#xFF09;&#x670D;&#x52A1;&#x7684;&#xFF0C;&#x548C;&#x8BA1;&#x7B97;&#x503C;&#xFF08;computedValue&#xFF09;&#x548C;&#x52A8;&#x4F5C;&#xFF08;Action&#xFF09;&#x6CA1;&#x5173;&#x7CFB;&#x3002;</p><p><code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x4E2D;&#x771F;&#x6B63;&#x8D77;&#x4F5C;&#x7528;&#x7684;&#x51FD;&#x6570;&#x5C31;&#x662F; <strong>Enhancer</strong> &#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5C06; <strong>Enhancer</strong> &#x7406;&#x89E3;&#x6210; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x6709;&#x6548;&#x7684;&#x90A3;&#x90E8;&#x5206;&#x3002;&#x53EF;&#x4EE5;&#x7528; &quot;&#x836F;&#x7269;&#x80F6;&#x56CA;&#x1F48A;&quot; &#x6765;&#x7406;&#x89E3; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x548C; <strong>Enhancer</strong> &#x7684;&#x5173;&#x7CFB;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015875147" src="https://static.alili.tech/img/remote/1460000015875147" alt="&#x5F62;&#x8C61;&#x7684;&#x7C7B;&#x6BD4;" title="&#x5F62;&#x8C61;&#x7684;&#x7C7B;&#x6BD4;" style="cursor:pointer"></span></p><ul><li><code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x5C31;&#x50CF;&#x662F;&#x80F6;&#x56CA;&#x7684;&#x5916;&#x58F3;&#xFF0C;&#x5185;&#x91CC;&#x643A;&#x5E26;&#x7684;&#x836F;&#x7269;&#x6210;&#x5206;&#x5C31;&#x662F; <strong>Enhancer</strong>&#xFF0C;&#x56E0;&#x4E3A;&#x771F;&#x6B63;&#x8D77;&#x6548;&#x679C;&#x7684;&#x90E8;&#x5206;&#x662F; <strong>Enhancer</strong></li><li>&#x5E73;&#x65F6;&#x6211;&#x4EEC;&#x6240;&#x63A5;&#x89E6;&#x5230;&#x7684; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x4EC5;&#x4EC5;&#x662F;&#x8D77;&#x5230;&#x5305;&#x88C5;&#x3001;&#x4F20;&#x8F93;&#x5230;&#x6307;&#x5B9A;&#x76EE;&#x7684;&#x5730;&#x7684;&#x4F5C;&#x7528;&#x3002;</li><li>&#x4ECE;&#x53E6;&#x4E00;&#x4E2A;&#x89D2;&#x5EA6;&#x6765;&#x8BB2;&#xFF0C;&#x5728; mobx &#x4EE3;&#x7801;&#x5B9E;&#x73B0;&#x4E2D;&#xFF0C;<strong>Enhancer</strong> &#x662F;&#x5B9E;&#x73B0; Observable &#x89C2;&#x5BDF;&#x503C;&#x5FC5;&#x4E0D;&#x53EF;&#x5C11;&#x7684;&#x4E00;&#x90E8;&#x5206;&#xFF0C;&#x6CA1;&#x6709;&#x5B83;&#x5C31;&#x5B9E;&#x73B0;&#x4E0D;&#x4E86;&#x89C2;&#x5BDF;&#x503C;&#x529F;&#x80FD;&#xFF0C;&#x4E5F;&#x5C31;&#x6784;&#x5EFA;&#x4E0D;&#x8D77; MobX &#x4F53;&#x7CFB;&#x4E86;&#xFF1B;&#x800C;&#x5982;&#x679C;&#x7F3A;&#x5931; <code>@observable</code> &#x76F8;&#x5173;&#x7684;&#x4EE3;&#x7801;&#xFF0C;&#x9876;&#x591A;&#x662F;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x88C5;&#x9970;&#x5668;&#x529F;&#x80FD;&#x800C;&#x5DF2;&#x3002;</li><li>&#x8FD9;&#x91CC;&#x8FD8;&#x8981;&#x7279;&#x522B;&#x5F3A;&#x8C03;&#x4E00;&#x4E0B;&#xFF0C;<strong>&#x8FD9;&#x91CC;&#x7279;&#x6307; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x662F;&#x8FD9;&#x79CD;&#x60C5;&#x51B5;&#xFF0C;&#x5176;&#x4ED6;&#x7684;&#x88C5;&#x9970;&#x5668;&#xFF08;&#x5305;&#x62EC; <code>@compute</code> &#x548C; <code>@action</code> &#x8FD9;&#x6837;&#x7684;&#x88C5;&#x9970;&#x5668;&#x4EE5;&#x53CA;&#x81EA;&#x5DF1;&#x5199;&#x7684;&#x88C5;&#x9970;&#x5668;&#xFF09;&#x90FD;&#x4E0D;&#x5728;&#x6B64;&#x8BA8;&#x8BBA;&#x8303;&#x7574;</strong></li></ul><p>&#x5728; MobX &#x4E2D;<strong>&#x6709; 4 &#x79CD; Enhancer</strong>&#xFF0C;&#x5728; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/types/modifiers.ts" rel="nofollow noreferrer" target="_blank">types/modifier.ts</a> &#x4E2D;&#x6709;&#x5B9A;&#x4E49;&#xFF1A;</p><ul><li>deepEnhancer&#xFF1A;&#x9ED8;&#x8BA4;&#x7684;&#xFF0C;&#x4E5F;&#x662F;&#x6700;&#x5E38;&#x7528;&#x7684;&#xFF0C;&#x5B83;&#x4F1A;&#x9012;&#x5F52;&#x5730;&#x5728;&#x53EF;&#x89C2;&#x5BDF;&#x5BF9;&#x8C61;&#x7684;&#x5C5E;&#x6027;&#x6216;&#x53EF;&#x89C2;&#x5BDF;&#x6570;&#x7EC4;&#x3001;Map &#x7684;&#x5143;&#x7D20;&#x4E0A;&#x8C03;&#x7528;&#xFF1B;</li><li>shallowEnhancer&#xFF1A;&#x4E0D;&#x5BF9;&#x4F20;&#x5165;&#x7684;&#x503C;&#x8FDB;&#x884C;&#x8F6C;&#x6362;&#xFF0C;&#x76F4;&#x63A5;&#x8FD4;&#x56DE;</li><li>referenceEnhancer&#xFF1A;&#x53EA;&#x8F6C;&#x6362; Object, Array, Map &#x672C;&#x8EAB;&#xFF0C;&#x4E0D;&#x5BF9;&#x5176;&#x5C5E;&#x6027;&#xFF08;&#x6216;&#x5143;&#x7D20;&#xFF09;&#x8F6C;&#x6362;</li><li>refStructEnhancer&#xFF1A;&#x7ED3;&#x6784;&#x5185;&#x5BB9;&#x503C;&#x53D1;&#x751F;&#x6539;&#x53D8;&#x7684;&#x65F6;&#x5019;&#x624D;&#x8FDB;&#x884C;&#x6570;&#x636E;&#x66F4;&#x65B0;</li></ul><p>&#x4E0D;&#x7406;&#x89E3;&#x7684;&#x8BDD;&#x53EF;&#x4EE5;&#x53C2;&#x8003; <a href="https://zhuanlan.zhihu.com/p/31706219" rel="nofollow noreferrer" target="_blank">Mobx &#x6E90;&#x7801;&#x89E3;&#x8BFB;&#xFF08;&#x4E09;&#xFF09; Modifier</a> &#x6587;&#x7AE0;&#xFF0C;&#x6709;&#x8BE6;&#x7EC6;&#x7684;&#x793A;&#x4F8B;&#x89E3;&#x8BF4;&#xFF0C;&#x672C;&#x6587;&#x5C31;&#x4E0D;&#x5C55;&#x5F00;&#x4E86;&#x3002;</p><p>&#x63A5;&#x4E0B;&#x6765;&#xFF0C;&#x6211;&#x4EEC;&#x9700;&#x8981;&#x89E3;&#x51B3;&#x7684;&#x662F;&#x6709;&#x4E24;&#x4E2A;&#x95EE;&#x9898;&#xFF1A;</p><ol><li><strong>Enhancer</strong> &#x662F;&#x5982;&#x4F55;&#x548C; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x4EA7;&#x751F;&#x8054;&#x7CFB;&#x7684;&#xFF1F;</li><li><strong>Enhancer</strong> &#x771F;&#x6B63;&#x8D77;&#x4F5C;&#x7528;&#x662F;&#x5728;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#xFF1F;</li></ol><h2 id="articleHeader14">3&#x3001;Enhancer &#x662F;&#x5982;&#x4F55;&#x8FD0;&#x7528;&#x5230; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x4E2D;&#x7684;&#xFF1F;</h2><p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x8BB2;&#x89E3;&#x8D77;&#x6765;&#x6709;&#x70B9;&#x513F;&#x7ED5;&#x3002;&#x4F46;&#x6211;&#x8FD8;&#x662F;&#x5C3D;&#x53EF;&#x80FD;&#x8BB2;&#x5F97;&#x660E;&#x767D;&#x4E00;&#x4E9B;&#x5427;&#x3002;</p><p>&#x8FD4;&#x56DE;&#x770B;&#x4E0A;&#x9762;&#x793A;&#x4F8B;&#x4E2D;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="@observable price = 0;" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js" style="word-break:break-word;white-space:initial">@observable price = <span class="hljs-number">0</span>;</code></pre><p>&#x8BE5;&#x88C5;&#x9970;&#x8BED;&#x6CD5;&#x6700;&#x7EC8;&#x4F1A;&#x6362;&#x6210; <code>_mobx.observable</code> &#x65B9;&#x6CD5;&#x7684;&#x8C03;&#x7528;&#x3002;</p><p>&#x6211;&#x4EEC;&#x770B;&#x4E00;&#x4E0B; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/api/observable.ts#L201" rel="nofollow noreferrer" target="_blank">observable &#x6E90;&#x7801;</a> &#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const observable: IObservableFactory &amp;
    IObservableFactories &amp; {
        enhancer: IEnhancer&lt;any&gt;
    } = createObservable as any" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js"><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> observable: IObservableFactory &amp;
    IObservableFactories &amp; {
        <span class="hljs-attr">enhancer</span>: IEnhancer&lt;any&gt;
    } = createObservable <span class="hljs-keyword">as</span> any</code></pre><p>&#x4F1A;&#x53D1;&#x73B0; <code>observable</code> &#x662F;&#x51FD;&#x6570;&#xFF0C;&#x5176;&#x51FD;&#x6570;&#x5185;&#x5BB9;&#x5C31;&#x662F; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/api/observable.ts#L68" rel="nofollow noreferrer" target="_blank">createObservable</a>&#x3002;</p><p>&#x56E0;&#x6B64;&#x4E0A;&#x9762;&#x793A;&#x4F8B;&#x4E2D;&#x8F6C;&#x4E49;&#x540E;&#x7684;&#x4EE3;&#x7801;&#x76F8;&#x5F53;&#x4E8E;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="return createObservable(OrderLine.prototype, &apos;price&apos;, desc);" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js" style="word-break:break-word;white-space:initial"><span class="hljs-keyword">return</span> createObservable(OrderLine.prototype, <span class="hljs-string">&apos;price&apos;</span>, desc);</code></pre><p>&#x7EE7;&#x7EED;&#x770B;&#x8FD9;&#x4E2A; <code>createObservable</code> &#x5927;&#x4F53;&#x903B;&#x8F91;&#x8D70;&#x5411;&#xFF0C;&#x8BE5;&#x65B9;&#x6CD5;&#x4F9D;&#x636E; <strong>&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F;&#x5426; string &#x7C7B;&#x578B;</strong> &#x800C;&#x8D77;&#x5230;&#x4E0D;&#x540C;&#x7684;&#x4F5C;&#x7528;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482012?w=699&amp;h=294" src="https://static.alili.tech/img/remote/1460000015482012?w=699&amp;h=294" alt="two way" title="two way" style="cursor:pointer;display:inline"></span></p><ul><li>&#x5982;&#x679C;&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x4E0D;&#x662F; string &#x7C7B;&#x578B;&#xFF0C;&#x4F1A;&#x8D70;&#x56FE;&#x4E2D;&#x6240;&#x793A; &#x2460; &#x7684;&#x903B;&#x8F91;&#xFF0C;&#x76F8;&#x5F53;&#x4E8E; <strong>&#x8F6C;&#x6362;&#x51FD;&#x6570;</strong>&#xFF0C;&#x5C06;&#x666E;&#x901A;&#x5C5E;&#x6027;&#x8F6C;&#x6362;&#x6210; Observable &#x5BF9;&#x8C61;&#xFF1B;&#x8FD9;&#x90E8;&#x5206;&#x903B;&#x8F91;&#x6211;&#x4EEC;&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x4F1A;&#x7740;&#x91CD;&#x8BB2;&#x5230;&#xFF0C;&#x8FD9;&#x91CC;&#x6682;&#x4E14;&#x7565;&#x8FC7;&#xFF1B;</li><li>&#x5982;&#x679C;<strong>&#x7B2C;&#x4E8C;&#x4E2A;&#x53C2;&#x6570;&#x662F; string &#x7C7B;&#x578B;</strong> &#xFF0C;&#x90A3;&#x4E48;&#x5C31;&#x662F;&#x672C;&#x6587;&#x6240;&#x8FF0;&#x8D77;&#x5230; <strong>&#x88C5;&#x9970;&#x5668;</strong> &#x4F5C;&#x7528;&#xFF0C;&#x6B64;&#x65F6;&#x65B9;&#x6CD5;&#x7B2C;&#x4E8C;&#x4E2A;&#x5165;&#x53C2;&#x5FC5;&#x987B;&#x662F; <code>string</code>&#xFF0C;&#x4ECE;&#x800C;&#x4F1A;&#x8C03;&#x7528; <code>deepDecorator.apply(null, arguments)</code>&#xFF0C;&#x8FD9;&#x662F;&#x6211;&#x4EEC;&#x8FD9;&#x7BC7;&#x6587;&#x7AE0;&#x8981;&#x7EE7;&#x7EED;&#x8BB2;&#x7684;&#x5185;&#x5BB9;&#x3002;</li></ul><p>&#x63A2;&#x7A76;&#x4E00;&#x4E0B; <code>deepDecorator</code> &#x7684;&#x6765;&#x5386;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="const deepDecorator = createDecoratorForEnhancer(deepEnhancer)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js" style="word-break:break-word;white-space:initial"><span class="hljs-keyword">const</span> deepDecorator = createDecoratorForEnhancer(deepEnhancer)</code></pre><p>&#x901A;&#x8FC7;&#x7ED9; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/api/observabledecorator.ts#L11" rel="nofollow noreferrer" target="_blank">createDecoratorForEnhancer</a> &#x65B9;&#x6CD5;&#x4F20;&#x5165; <code>deepEnhancer</code> &#x5C31;&#x53EF;&#x4EE5;&#x4E86;&#x3002;&#x4ECE;&#x8FD9;&#x4E2A; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/api/observabledecorator.ts#L11" rel="nofollow noreferrer" target="_blank">createDecoratorForEnhancer</a> &#x65B9;&#x6CD5;&#x7684;&#x540D;&#x5B57;&#x5C31;&#x80FD;&#x77E5;&#x9053;&#x5176;&#x542B;&#x4E49;&#xFF0C;<strong>&#x57FA;&#x4E8E; enhancer &#x521B;&#x5EFA;&#x88C5;&#x9970;&#x5668;</strong>&#xFF0C;&#x662F;&#x4E0D;&#x662F;&#x6709;&#x70B9;&#x795E;&#x5947;&#xFF0C;&#x76F4;&#x63A5;&#x7528; <strong>Enhancer</strong> &#x5C31;&#x80FD;&#x521B;&#x5EFA;&#x5230;&#x5BF9;&#x5E94;&#x7684;&#x88C5;&#x9970;&#x5668;&#x4E86;&#xFF01;MobX &#x4E2D;&#x5176;&#x4ED6; enhancer &#x4E5F;&#x662F;&#x57FA;&#x4E8E;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x521B;&#x5EFA;&#x76F8;&#x5E94;&#x7684;&#x88C5;&#x9970;&#x5668;&#x7684;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482013?w=733&amp;h=159" src="https://static.alili.tech/img/remote/1460000015482013?w=733&amp;h=159" alt="create" title="create" style="cursor:pointer;display:inline"></span></p><p>&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5C31;&#x662F; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5; &#x548C; enhancer &#x4EA7;&#x751F;&#x8054;&#x7CFB;&#x7684;&#x5730;&#x65B9;&#x3002;</p><h2 id="articleHeader15">4&#x3001;<strong>Enhancer</strong> &#x771F;&#x6B63;&#x8D77;&#x4F5C;&#x7528;&#x662F;&#x5728;&#x4EC0;&#x4E48;&#x5730;&#x65B9;&#xFF1F;</h2><p>&#x7EE7;&#x7EED;&#x7814;&#x7A76; <code>createDecoratorForEnhancer</code> &#x65B9;&#x6CD5;&#x5C31;&#x80FD;&#x63A2;&#x77E5; <strong>Enhancer</strong> &#x8D77;&#x4F5C;&#x7528;&#x7684;&#x5730;&#x65B9;&#x3002;</p><p>&#x4E0D;&#x8FC7;&#x63A5;&#x4E0B;&#x6765;&#x7684;&#x51FD;&#x6570;&#x5206;&#x89E3;&#xFF0C;&#x6D89;&#x53CA;&#x5230;&#x5404;&#x79CD;&#x95ED;&#x5305;&#x6765;&#x56DE;&#x6574;&#xFF0C;&#x5F88;&#x5BB9;&#x6613;&#x628A;&#x4EBA;&#x7ED5;&#x6655;&#x3002;&#x8FD9;&#x91CC;&#x505A;&#x4E86;&#x4E00;&#x526F;&#x7B80;&#x5355;&#x7684;&#x8C03;&#x7528;&#x987A;&#x5E8F;&#x56FE;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015482014?w=1426&amp;h=946" src="https://static.alili.tech/img/remote/1460000015482014?w=1426&amp;h=946" alt="create" title="create" style="cursor:pointer"></span></p><ul><li><code>createDecoratorForEnhancer</code> &#x91CC;&#x9762;&#x4F1A;&#x8C03;&#x7528; <code>createPropDecorator</code> &#x548C;</li><li><code>createPropDecorator</code> &#x65B9;&#x6CD5;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#x4F1A;&#x8C03;&#x7528; <code>defineObservableProperty</code> &#x65B9;&#x6CD5;&#xFF0C;<code>createPropDecorator</code> &#x662F;&#x4E00;&#x4E2A;&#x95ED;&#x5305;&#xFF0C;&#x6240;&#x4EE5; <code>defineObservableProperty</code> &#x80FD;&#x5728;&#x4F5C;&#x7528;&#x57DF;&#x4E2D;&#x83B7;&#x77E5; <code>enhancer</code> &#x53D8;&#x91CF;</li><li>&#x5728; <code>defineObservableProperty</code> &#x4E2D;&#x4F1A;&#x7EE7;&#x7EED;&#x8C03;&#x7528; <code>new ObservableValue</code> &#x521B;&#x5EFA;&#x89C2;&#x5BDF;&#x503C;&#xFF0C;&#x521B;&#x5EFA;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4F1A;&#x5C06; <code>enhancer</code> &#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4F20;&#x9012;&#x8FDB;&#x53BB;&#x3002;</li></ul><p>&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x5C55;&#x5F00;&#x8BB2;&#x89E3;&#xFF0C;&#x770B;&#x5F97;&#x5F88;&#x6655;&#x4E5F;&#x4E0D;&#x7528;&#x5728;&#x610F;&#xFF0C;&#x6709;&#x4E2A;&#x5927;&#x6982;&#x4E86;&#x89E3;&#x5C31;&#x884C;&#x3002;&#x611F;&#x5174;&#x8DA3;&#x7684;&#x8BFB;&#x8005;&#xFF0C;&#x53EF;&#x4EE5;&#x6328;&#x4E2A;&#x5728;&#x6E90;&#x7801;&#x4E2D;&#x67E5;&#x627E;&#x4E0A;&#x8FF0;&#x7684;&#x51FD;&#x6570;&#x540D;&#x5B57;&#xFF0C;&#x611F;&#x53D7;&#x4ED6;&#x4EEC;&#x4E92;&#x76F8;&#x8C03;&#x7528;&#x7684;&#x5173;&#x7CFB;&#xFF0C;&#x5916;&#x52A0;&#x518D;&#x770B;&#x4E00;&#x4E0B; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/types/observableobject.ts#L247" rel="nofollow noreferrer" target="_blank">defineObservableProperty</a> &#x6E90;&#x7801;&#x5C31;&#x53EF;&#x4EE5;&#x3002;</p><p>&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x7740;&#x91CD;&#x5206;&#x6790;&#x89C2;&#x5BDF;&#x503C;&#xFF08;Observable&#xFF09;&#x8FC7;&#x7A0B;&#x7684;&#x65F6;&#x5019;&#xFF0C;&#x8FD8;&#x4F1A;&#x6D89;&#x53CA;&#x8FD9;&#x90E8;&#x5206;&#x903B;&#x8F91;&#xFF0C;&#x8FD9;&#x91CC;&#x6211;&#x4EEC;&#x77E5;&#x9053;&#x5927;&#x81F4;&#x7684;&#x7ED3;&#x8BBA;&#x5C31;&#x884C;&#xFF1A;<strong>&#x6700;&#x7EC8;&#x7684; <code>enhancer</code> &#x4F1A;&#x4F20;&#x9012;&#x7ED9; <code>ObservableValue</code> &#x6784;&#x9020;&#x51FD;&#x6570;&#xFF0C;&#x4ECE;&#x800C;&#x5F71;&#x54CD;&#x89C2;&#x5BDF;&#x503C;&#x521B;&#x5EFA;&#x8FC7;&#x7A0B;</strong>&#x3002;</p><p>&#x5177;&#x4F53;&#x7684;&#x5F71;&#x54CD;&#x5728; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/types/observablevalue.ts#L44" rel="nofollow noreferrer" target="_blank"><code>ObservableValue</code></a> &#x7684;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#x5C31;&#x4F53;&#x73B0;&#x51FA;&#x6765;&#xFF0C;&#x76F4;&#x63A5;&#x5F71;&#x54CD;&#x89C2;&#x5BDF;&#x503C;&#x5BF9;&#x8C61;&#x4E2D;&#x7684; <code>value</code> &#x5C5E;&#x6027;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="this.value = enhancer(value, undefined, name)" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="javascript hljs"><code class="js" style="word-break:break-word;white-space:initial"><span class="hljs-keyword">this</span>.value = enhancer(value, <span class="hljs-literal">undefined</span>, name)</code></pre><p><span class="img-wrap"><img data-src="/img/remote/1460000015482015?w=836&amp;h=440" src="https://static.alili.tech/img/remote/1460000015482015?w=836&amp;h=440" alt="observable" title="observable" style="cursor:pointer"></span></p><p>&#x518D;&#x7ED3;&#x5408; <a href="https://github.com/mobxjs/mobx/blob/4.1.1/src/types/modifiers.ts" rel="nofollow noreferrer" target="_blank">types/modifier.ts</a> &#x4E2D;&#x6709;&#x5404;&#x79CD; <strong>Enhancer</strong> &#x7684;&#x5177;&#x4F53;&#x5185;&#x5BB9;&#xFF0C;&#x5C31;&#x80FD;&#x5927;&#x81F4;&#x4E86;&#x89E3; enhancer &#x662F;&#x5982;&#x4F55;&#x8D77;&#x5230; <strong>&#x8F6C;&#x6362;&#x6570;&#x503C;</strong> &#x7684;&#x4F5C;&#x7528;&#x7684;&#xFF0C;&#x518D;&#x5206;&#x6790;&#x4E0B;&#x53BB;&#x5C31;&#x662F;&#x89C2;&#x5BDF;&#x503C;&#xFF08;<a href="https://cn.mobx.js.org/refguide/observable.html" rel="nofollow noreferrer" target="_blank">Observable</a>&#xFF09;&#x7684;&#x5185;&#x5BB9;&#x4E86;&#xFF0C;&#x56E0;&#x4E3A;&#x91CC;&#x9762;&#x6D89;&#x53CA;&#x5230; <strong>&#x9012;&#x5F52;&#x8F6C;&#x6362;</strong> &#x7684;&#x903B;&#x8F91;&#xFF0C;&#x6240;&#x4EE5;&#x6211;&#x7EDF;&#x4E00;&#x4F1A;&#x653E;&#x5728;&#x4E0B;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x4E2D;&#x5C55;&#x5F00;&#x8BB2;&#x89E3;&#x3002;</p><h1 id="articleHeader16">&#x672C;&#x6587;&#x5C0F;&#x7ED3;</h1><p>&#x5728;&#x4E0D;&#x7528; babel &#x8F6C;&#x4E49;&#x7684;&#x60C5;&#x51B5;&#x4E0B;&#xFF0C;mobx &#x901A;&#x8FC7;&#x63D0;&#x4F9B;<a href="https://cn.mobx.js.org/refguide/api.html#decorate" rel="nofollow noreferrer" target="_blank">decorate</a> API &#x5B9E;&#x73B0;&#x7B49;&#x4EF7;&#x88C5;&#x9970;&#x5668;&#x529F;&#x80FD;&#xFF0C;&#x539F;&#x7406;&#x4E5F;&#x5F88;&#x7B80;&#x5355;&#xFF1A;</p><ul><li>&#x88C5;&#x9970;&#x5668;&#x65B9;&#x6CD5;&#x7684;&#x51FD;&#x6570;&#x7B7E;&#x540D;&#x5FC5;&#x987B;&#x662F; <code>(target, property, desc)</code>&#xFF08;&#x67D0;&#x79CD;&#x610F;&#x4E49;&#x4E0A;&#x5DF2;&#x7ECF;&#x6210;&#x89C4;&#x8303;&#x4E86;&#xFF09;</li><li>&#x5148;&#x4ECE;&#x5BF9;&#x8C61;&#x4E2D;&#x83B7;&#x53D6;&#x5C5E;&#x6027;&#x6210;&#x5458;&#xFF08;&#x6216;&#x65B9;&#x6CD5;&#x6210;&#x5458;&#xFF09;&#x7684;&#x539F;&#x59CB; <strong>&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;</strong></li><li>&#x5C06;&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;&#x4F20;&#x7ED9;&#x88C5;&#x9970;&#x5668;&#x65B9;&#x6CD5;&#xFF0C;&#x83B7;&#x53D6;&#x66F4;&#x6539;&#x540E;&#x7684; <strong>&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26;</strong></li><li>&#x901A;&#x8FC7; <code>Object.defineProperty</code> &#x5C06;&#x66F4;&#x6539;&#x540E;&#x7684;&#x5C5E;&#x6027;&#x63CF;&#x8FF0;&#x7B26; &#x201C;&#x5B89;&#x88C5;&#x201D; &#x56DE;&#x539F;&#x59CB;&#x5BF9;&#x8C61;</li><li>&#x82E5;&#x6709;&#x591A;&#x4E2A;&#x88C5;&#x9970;&#x5668;&#xFF0C;&#x5C31;&#x5FAA;&#x73AF;&#x4E0A;&#x8FF0;&#x8FC7;&#x7A0B;&#x3002;</li></ul><p>&#x6982;&#x62EC;&#x8D77;&#x6765;&#x5C31;&#x662F; <strong>&#x5FAA;&#x73AF;&#x5E94;&#x7528;&#x88C5;&#x9970;&#x5668;&#x65B9;&#x6CD5;</strong>&#xFF0C;&#x5C31;&#x662F;&#x90A3;&#x4E48;&#x7B80;&#x5355;&#x7C97;&#x66B4;&#x6709;&#x6548;&#x3002;</p><blockquote>&#x53EF;&#x4EE5;&#x770B;&#x4E00;&#x4E0B;&#x5B98;&#x65B9;&#x9488;&#x5BF9;&#x88C5;&#x9970;&#x5668;&#x7684;<a href="https://cn.mobx.js.org/best/decorators.html" rel="nofollow noreferrer" target="_blank">&#x514D;&#x8D23;&#x58F0;&#x660E;</a></blockquote><p>&#x81F3;&#x4E8E; <strong>Enhancer</strong>&#xFF0C;&#x5B83;&#x53EA;&#x5F71;&#x54CD;&#x89C2;&#x5BDF;&#x503C;&#xFF08;Observable&#xFF09;&#x7684;&#x751F;&#x6210;&#xFF0C;&#x4E0D;&#x540C;&#x7684; <strong>Enhancer</strong> &#x4F1A;&#x5F62;&#x6210;&#x4E0D;&#x540C;&#x79CD;&#x7C7B;&#x7684;&#x89C2;&#x5BDF;&#x503C;&#xFF08;Observable&#xFF09;&#xFF1B;</p><p>&#x6B63;&#x662F;&#x56E0;&#x4E3A; <strong>Enhancer</strong> &#x53EA;&#x5F71;&#x54CD;&#x89C2;&#x5BDF;&#x503C;&#xFF08;Observable&#xFF09;&#xFF0C;&#x6240;&#x4EE5;&#x548C;&#x5B83;&#x76F8;&#x5173;&#x7684;&#x88C5;&#x9970;&#x5668;&#x53EA;&#x6709; <code>@observable</code>&#xFF0C;&#x4E0E; <code>@computed</code> &#x4EE5;&#x53CA; <code>@action</code> &#x7B49;&#x88C5;&#x9970;&#x5668;&#x65E0;&#x5173;&#xFF08;&#x4E0D;&#x8FC7;&#x88C5;&#x9970;&#x5668;&#x65B9;&#x6CD5;&#x7684;&#x5B9A;&#x4E49;&#x90FD;&#x5927;&#x540C;&#x5C0F;&#x5F02;&#xFF0C;&#x53EA;&#x662F;&#x6709;&#x6548;&#x6210;&#x5206;&#x4E0D;&#x4E00;&#x6837;&#x7F62;&#x4E86;&#xFF09;&#x3002;</p><p><strong>Enhancer</strong> &#x662F;&#x5982;&#x4F55;&#x548C; <code>@observable</code> &#x88C5;&#x9970;&#x5668;&#x8BED;&#x6CD5;&#x4EA7;&#x751F;&#x8054;&#x7CFB;&#x7684;&#x5462;&#xFF1F;&#x7B54;&#x6848;&#x662F; <code>@observable</code> &#x8F6C;&#x4E49;&#x540E;&#x5B9E;&#x9645;&#x4E0A;&#x5C31;&#x662F;&#x8C03;&#x7528; <code>deepDecorator</code> &#x51FD;&#x6570;&#xFF0C;&#x800C;&#x8BE5;&#x51FD;&#x6570;&#x9700;&#x8981; <code>deepEnhancer</code> &#x4F5C;&#x4E3A; &#x201C;&#x539F;&#x6750;&#x6599;&#x201D; &#x624D;&#x80FD;&#x751F;&#x6210;&#x7684;&#xFF0C;&#x8FD8;&#x662F;&#x4EE5; <strong>&#x836F;&#x7269;&#x80F6;&#x56CA;</strong> &#x4E3A;&#x4F8B;&#x6765;&#x7406;&#x89E3;&#xFF0C;<code>@observable</code> &#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x58F3;&#xFF0C;&#x8D77;&#x5230;&#x8FD0;&#x8F93;&#x5305;&#x88C5;&#x4F5C;&#x7528;&#xFF0C;&#x771F;&#x6B63;&#x8D77;&#x4F5C;&#x7528;&#x7684;&#x4ECD;&#x65E7;&#x662F;&#x91CC;&#x9762;&#x7684; <strong>Enhancer</strong>&#x3002;</p><p><strong>Enhancer</strong> &#x771F;&#x6B63;&#x8D77;&#x4F5C;&#x7528;&#x5730;&#x65B9;&#xFF0C;&#x662F;&#x5728;&#x4E8E;&#x7ECF;&#x8FC7;&#x4E00;&#x8DEF;&#x7684;&#x95ED;&#x5305;&#x8F6C;&#x6362;&#x6C89;&#x6DC0;&#xFF0C;&#x6700;&#x7EC8;&#x4F1A; <strong>&#x4EE5;&#x53C2;&#x6570;&#x7684;&#x65B9;&#x5F0F;</strong> &#x4F20;&#x9012;&#x7ED9; <code>new Observable</code> &#x8FD9;&#x4E2A;&#x6784;&#x9020;&#x51FD;&#x6570;&#x4E2D;&#xFF0C;&#x5F71;&#x54CD;&#x6240;&#x751F;&#x6210;&#x7684;&#x89C2;&#x5BDF;&#x503C;&#x3002;</p><p>&#x672C;&#x7AE0;&#x6240;&#x8BB2;&#x7684;&#x5185;&#x5BB9;&#x7A0D;&#x5FAE;&#x67AF;&#x71E5;&#x4E00;&#x4E9B;&#xFF0C;&#x4E5F;&#x5E76;&#x975E;&#x662F; MobX &#x51E0;&#x5927;&#x6838;&#x5FC3;&#x6982;&#x5FF5;&#xFF08;Reaction&#x3001;Observable&#x3001;ComputedValue&#xFF09;&#xFF0C;&#x7136;&#x800C;&#x6240;&#x8BB2;&#x7684;&#x88C5;&#x9970;&#x5668;&#x77E5;&#x8BC6;&#x4E00;&#x65B9;&#x9762;&#x662F;&#x7406;&#x89E3; <code>@</code> &#x8BED;&#x6CD5;&#xFF0C;&#x53E6;&#x4E00;&#x65B9;&#x9762;&#x4E5F;&#x66F4;&#x597D;&#x5730;&#x9610;&#x8FF0; <strong>Enhancer</strong> &#x7684;&#x6982;&#x5FF5;&#xFF0C;&#x8FD9;&#x4E9B;&#x90FD;&#x662F;&#x4E3A;&#x4E86;&#x7ED9;&#x540E;&#x7EED;&#x8981;&#x8BB2;&#x7684;&#x89C2;&#x5BDF;&#x503C;&#xFF08;Observable&#xFF09;&#x6253;&#x57FA;&#x7840;&#x3002;&#x800C;&#x4E14;&#x7ECF;&#x8FC7;&#x8FD9;&#x4E00;&#x7BC7;&#x6587;&#x7AE0;&#x7684;&#x8BB2;&#x89E3;&#xFF0C;&#x4F60;&#x53EF;&#x4EE5;&#x5145;&#x5206;&#x4F53;&#x4F1A;&#x5230;&#x88C5;&#x9970;&#x5668;&#x7684;&#x6982;&#x5FF5;&#x662F;&#x5982;&#x6B64;&#x5730;&#x6DF1;&#x5165;&#x5230; MobX &#x4F53;&#x7CFB;&#x4E2D;&#xFF0C;&#x5DF2;&#x4FE8;&#x7136;&#x6210;&#x4E3A; MobX &#x4F53;&#x7CFB;&#x4E2D;&#x4E0D;&#x53EF;&#x5206;&#x5272;&#x7684;&#x4E00;&#x90E8;&#x5206;&#x3002;</p>
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
【用故事解读 MobX 源码（四）】装饰器 和 Enhancer

## 原文链接
[https://segmentfault.com/a/1190000015481998](https://segmentfault.com/a/1190000015481998)


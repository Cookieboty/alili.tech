---
title: '俄罗斯方块' 
date: 2018-12-08 2:30:30
hidden: true
slug: 8idbu55nqmq
categories: [reprint]
---

{{< raw >}}

                    
<p>小时候想玩没的玩的小游戏，现在自己写一个.<br>简单实现 俄罗斯方块 初级版 ，有空实现个三维的。</p>
<p>本身实现代码都比较简单，不对代码作说明了。</p>
<h2 id="articleHeader0"><strong>1、效果原理图片</strong></h2>
<p><span class="img-wrap"><img data-src="/img/bV60rv?w=320&amp;h=528" src="https://static.alili.tech/img/bV60rv?w=320&amp;h=528" alt="效果图" title="效果图" style="cursor: pointer; display: inline;"></span><br><span class="img-wrap"><img data-src="/img/bV60ry?w=242&amp;h=490" src="https://static.alili.tech/img/bV60ry?w=242&amp;h=490" alt="坐标图" title="坐标图" style="cursor: pointer; display: inline;"></span><br><span class="img-wrap"><img data-src="/img/bV60rz?w=1835&amp;h=439" src="https://static.alili.tech/img/bV60rz?w=1835&amp;h=439" alt="模块数据分析图" title="模块数据分析图" style="cursor: pointer; display: inline;"></span></p>
<h2 id="articleHeader1"><strong>2、直接上代码</strong></h2>
<p>1、index.html</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<!DOCTYPE html>
<html>
<head>
    <meta http-equiv=&quot;Content-Type&quot; content=&quot;text/html;charset=UTF-8&quot;>
    <title>rasian square</title>
    <style type=&quot;text/css&quot;>
        *{margin: 0;padding: 0;}
        table{display: block;margin: 20px auto;width: 200px;}
        table,td{border: 1px solid #999999;border-collapse: collapse;}
        td{width: 20px;height: 20px;line-height: 20px;text-align: center;}
        .center{text-align: center;}
    </style>
</head>
<body>
    <div class=&quot;center&quot;>
        得分:<span id=&quot;score&quot;>0</span>
    </div>
    <table></table>
    <div class=&quot;center&quot;>
        <button onclick=&quot;start()&quot;>开始</button>
        <button onclick=&quot;reload()&quot;>重新开始</button>
        <button onclick=&quot;rotate()&quot;>旋转</button>
    </div>
    <script type=&quot;text/javascript&quot; src=&quot;./js/common.js&quot;></script>
    <script type=&quot;text/javascript&quot; src=&quot;./js/data.js&quot;></script>
    <script type=&quot;text/javascript&quot; src=&quot;./js/game.js&quot;></script>
    <script type=&quot;text/javascript&quot; src=&quot;./js/block.js&quot;></script>
    <script type=&quot;text/javascript&quot;>
        var rows = 20,
            verticals = 10,
            speed = 200,
            datas = Array.prototype.slice.call(Object.keys(data)),
            g = new Game(rows, verticals),
            block,
            fixedData = [],
            scores = 0;
        function start() {
            block = new square[datas[Math.floor(Math.random()*datas.length)]](speed);
            var timer = setInterval(function(){
                //触底
                for(var i = 0;i < 4;i++) {
                    if(block.body[i][&quot;x&quot;] >= rows - 1) {
                        fixedData = fixedData.concat(block.body);
                        clearInterval(block.move);
                        block = new square[datas[Math.floor(Math.random()*datas.length)]](speed);
                    };
                    for(var j = 0;j < fixedData.length; j++) {
                        //积累超出画布，游戏结束
                        if(block.body[i][&quot;x&quot;] + 1 == fixedData[j][&quot;x&quot;] &amp;&amp; block.body[i][&quot;y&quot;] == fixedData[j][&quot;y&quot;] &amp;&amp; block.body[i][&quot;x&quot;] < 0) {
                            clearInterval(block.move);
                            clearInterval(timer);
                        };
                        //碰到已有块
                        if(block.body[i][&quot;x&quot;] + 1 == fixedData[j][&quot;x&quot;] &amp;&amp; block.body[i][&quot;y&quot;] == fixedData[j][&quot;y&quot;]) {
                            fixedData = fixedData.concat(block.body);
                            clearInterval(block.move);
                            block = new square[datas[Math.floor(Math.random()*datas.length)]](speed);
                        }
                    };
                };
                score();
                var renderData = fixedData.concat(block.body);
                g.render(renderData);
            },speed);
        };
        function rotate() {
            clearInterval(block.move);
            block.rotate();
            for(var i = 0;i < 4;i++) {
                if(block.body[i][&quot;y&quot;] < 0 || block.body[i][&quot;y&quot;] >= verticals || block.body[i][&quot;x&quot;] >= rows) {
                    block.body = block.preBody;
                };
            };
            block.move = setInterval(function(){block.down()}, speed);
        };
        function reload() {
            window.location.reload();
        };
        function judgeLeftOrRight(direction) {
            for(var i = 0;i < 4;i++) {
                if(direction == 'left' ? block.body[i][&quot;y&quot;] <= 0 : block.body[i][&quot;y&quot;] >= verticals - 1 ) {
                    return true;
                };
                for(var j = 0;j < fixedData.length; j++) {
                    if(block.body[i][&quot;x&quot;] == fixedData[j][&quot;x&quot;] &amp;&amp; (direction == 'left' ? block.body[i][&quot;y&quot;] - 1 : block.body[i][&quot;y&quot;] + 1) == fixedData[j][&quot;y&quot;]) {
                        return true;
                    }
                };
            };
            return false;
        };
        function moveLeftOrRight(direction) {
            clearInterval(block.move);
            for(var i = 0;i < 4;i++) {
                direction == 'left' ? block.body[i].y -= 1 : block.body[i].y += 1;
            };
            block.move = setInterval(function(){block.down()}, speed);
        };
        function score() {
            var map = {};
            for(var j = 0;j < fixedData.length; j++) {
                var temp = fixedData[j][&quot;x&quot;];
                if(map[temp]) {
                    map[temp] += 1;
                }else{
                    map[temp] = 1;
                }
            };
            for(key in map) {
                if(map[key] == verticals) {
                    fixedData = fixedData.filter(function(item) {
                        return item.x != key;
                    });
                    for(var j = 0;j < fixedData.length; j++) {
                        if(fixedData[j][&quot;x&quot;] < key) {
                            fixedData[j][&quot;x&quot;] += 1;
                        }
                    };
                    scores += 100;
                    document.getElementById(&quot;score&quot;).innerHTML = scores;
                }
            };
        };
        document.onkeydown = function(event){
            event = event || window.event;
            if(event.keyCode == 37) { //left
                if(!judgeLeftOrRight('left')) {
                    moveLeftOrRight('left');
                }
            } else if (event.keyCode == 39) { //right
                if(!judgeLeftOrRight('right')) {
                    moveLeftOrRight('right');
                }
            } else if (event.keyCode == 32) { //space
                rotate();
            }
        };
    </script>
</body>
</html>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs xml"><code><span class="hljs-meta">&lt;!DOCTYPE html&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">html</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">head</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">"Content-Type"</span> <span class="hljs-attr">content</span>=<span class="hljs-string">"text/html;charset=UTF-8"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">title</span>&gt;</span>rasian square<span class="hljs-tag">&lt;/<span class="hljs-name">title</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">style</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/css"</span>&gt;</span><span class="css">
        *{<span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;<span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;}
        <span class="hljs-selector-tag">table</span>{<span class="hljs-attribute">display</span>: block;<span class="hljs-attribute">margin</span>: <span class="hljs-number">20px</span> auto;<span class="hljs-attribute">width</span>: <span class="hljs-number">200px</span>;}
        <span class="hljs-selector-tag">table</span>,<span class="hljs-selector-tag">td</span>{<span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid <span class="hljs-number">#999999</span>;<span class="hljs-attribute">border-collapse</span>: collapse;}
        <span class="hljs-selector-tag">td</span>{<span class="hljs-attribute">width</span>: <span class="hljs-number">20px</span>;<span class="hljs-attribute">height</span>: <span class="hljs-number">20px</span>;<span class="hljs-attribute">line-height</span>: <span class="hljs-number">20px</span>;<span class="hljs-attribute">text-align</span>: center;}
        <span class="hljs-selector-class">.center</span>{<span class="hljs-attribute">text-align</span>: center;}
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">style</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">head</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">body</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"center"</span>&gt;</span>
        得分:<span class="hljs-tag">&lt;<span class="hljs-name">span</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"score"</span>&gt;</span>0<span class="hljs-tag">&lt;/<span class="hljs-name">span</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">table</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">table</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"center"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"start()"</span>&gt;</span>开始<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"reload()"</span>&gt;</span>重新开始<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">onclick</span>=<span class="hljs-string">"rotate()"</span>&gt;</span>旋转<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./js/common.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./js/data.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./js/game.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"./js/block.js"</span>&gt;</span><span class="undefined"></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"text/javascript"</span>&gt;</span><span class="javascript">
        <span class="hljs-keyword">var</span> rows = <span class="hljs-number">20</span>,
            verticals = <span class="hljs-number">10</span>,
            speed = <span class="hljs-number">200</span>,
            datas = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">Object</span>.keys(data)),
            g = <span class="hljs-keyword">new</span> Game(rows, verticals),
            block,
            fixedData = [],
            scores = <span class="hljs-number">0</span>;
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">start</span>(<span class="hljs-params"></span>) </span>{
            block = <span class="hljs-keyword">new</span> square[datas[<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()*datas.length)]](speed);
            <span class="hljs-keyword">var</span> timer = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
                <span class="hljs-comment">//触底</span>
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">4</span>;i++) {
                    <span class="hljs-keyword">if</span>(block.body[i][<span class="hljs-string">"x"</span>] &gt;= rows - <span class="hljs-number">1</span>) {
                        fixedData = fixedData.concat(block.body);
                        clearInterval(block.move);
                        block = <span class="hljs-keyword">new</span> square[datas[<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()*datas.length)]](speed);
                    };
                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;j &lt; fixedData.length; j++) {
                        <span class="hljs-comment">//积累超出画布，游戏结束</span>
                        <span class="hljs-keyword">if</span>(block.body[i][<span class="hljs-string">"x"</span>] + <span class="hljs-number">1</span> == fixedData[j][<span class="hljs-string">"x"</span>] &amp;&amp; block.body[i][<span class="hljs-string">"y"</span>] == fixedData[j][<span class="hljs-string">"y"</span>] &amp;&amp; block.body[i][<span class="hljs-string">"x"</span>] &lt; <span class="hljs-number">0</span>) {
                            clearInterval(block.move);
                            clearInterval(timer);
                        };
                        <span class="hljs-comment">//碰到已有块</span>
                        <span class="hljs-keyword">if</span>(block.body[i][<span class="hljs-string">"x"</span>] + <span class="hljs-number">1</span> == fixedData[j][<span class="hljs-string">"x"</span>] &amp;&amp; block.body[i][<span class="hljs-string">"y"</span>] == fixedData[j][<span class="hljs-string">"y"</span>]) {
                            fixedData = fixedData.concat(block.body);
                            clearInterval(block.move);
                            block = <span class="hljs-keyword">new</span> square[datas[<span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random()*datas.length)]](speed);
                        }
                    };
                };
                score();
                <span class="hljs-keyword">var</span> renderData = fixedData.concat(block.body);
                g.render(renderData);
            },speed);
        };
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">rotate</span>(<span class="hljs-params"></span>) </span>{
            clearInterval(block.move);
            block.rotate();
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">4</span>;i++) {
                <span class="hljs-keyword">if</span>(block.body[i][<span class="hljs-string">"y"</span>] &lt; <span class="hljs-number">0</span> || block.body[i][<span class="hljs-string">"y"</span>] &gt;= verticals || block.body[i][<span class="hljs-string">"x"</span>] &gt;= rows) {
                    block.body = block.preBody;
                };
            };
            block.move = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{block.down()}, speed);
        };
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">reload</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-built_in">window</span>.location.reload();
        };
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">judgeLeftOrRight</span>(<span class="hljs-params">direction</span>) </span>{
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">4</span>;i++) {
                <span class="hljs-keyword">if</span>(direction == <span class="hljs-string">'left'</span> ? block.body[i][<span class="hljs-string">"y"</span>] &lt;= <span class="hljs-number">0</span> : block.body[i][<span class="hljs-string">"y"</span>] &gt;= verticals - <span class="hljs-number">1</span> ) {
                    <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                };
                <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;j &lt; fixedData.length; j++) {
                    <span class="hljs-keyword">if</span>(block.body[i][<span class="hljs-string">"x"</span>] == fixedData[j][<span class="hljs-string">"x"</span>] &amp;&amp; (direction == <span class="hljs-string">'left'</span> ? block.body[i][<span class="hljs-string">"y"</span>] - <span class="hljs-number">1</span> : block.body[i][<span class="hljs-string">"y"</span>] + <span class="hljs-number">1</span>) == fixedData[j][<span class="hljs-string">"y"</span>]) {
                        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
                    }
                };
            };
            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
        };
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">moveLeftOrRight</span>(<span class="hljs-params">direction</span>) </span>{
            clearInterval(block.move);
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-number">4</span>;i++) {
                direction == <span class="hljs-string">'left'</span> ? block.body[i].y -= <span class="hljs-number">1</span> : block.body[i].y += <span class="hljs-number">1</span>;
            };
            block.move = setInterval(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{block.down()}, speed);
        };
        <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">score</span>(<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">var</span> map = {};
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;j &lt; fixedData.length; j++) {
                <span class="hljs-keyword">var</span> temp = fixedData[j][<span class="hljs-string">"x"</span>];
                <span class="hljs-keyword">if</span>(map[temp]) {
                    map[temp] += <span class="hljs-number">1</span>;
                }<span class="hljs-keyword">else</span>{
                    map[temp] = <span class="hljs-number">1</span>;
                }
            };
            <span class="hljs-keyword">for</span>(key <span class="hljs-keyword">in</span> map) {
                <span class="hljs-keyword">if</span>(map[key] == verticals) {
                    fixedData = fixedData.filter(<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">item</span>) </span>{
                        <span class="hljs-keyword">return</span> item.x != key;
                    });
                    <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;j &lt; fixedData.length; j++) {
                        <span class="hljs-keyword">if</span>(fixedData[j][<span class="hljs-string">"x"</span>] &lt; key) {
                            fixedData[j][<span class="hljs-string">"x"</span>] += <span class="hljs-number">1</span>;
                        }
                    };
                    scores += <span class="hljs-number">100</span>;
                    <span class="hljs-built_in">document</span>.getElementById(<span class="hljs-string">"score"</span>).innerHTML = scores;
                }
            };
        };
        <span class="hljs-built_in">document</span>.onkeydown = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">event</span>)</span>{
            event = event || <span class="hljs-built_in">window</span>.event;
            <span class="hljs-keyword">if</span>(event.keyCode == <span class="hljs-number">37</span>) { <span class="hljs-comment">//left</span>
                <span class="hljs-keyword">if</span>(!judgeLeftOrRight(<span class="hljs-string">'left'</span>)) {
                    moveLeftOrRight(<span class="hljs-string">'left'</span>);
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.keyCode == <span class="hljs-number">39</span>) { <span class="hljs-comment">//right</span>
                <span class="hljs-keyword">if</span>(!judgeLeftOrRight(<span class="hljs-string">'right'</span>)) {
                    moveLeftOrRight(<span class="hljs-string">'right'</span>);
                }
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (event.keyCode == <span class="hljs-number">32</span>) { <span class="hljs-comment">//space</span>
                rotate();
            }
        };
    </span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">body</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">html</span>&gt;</span></code></pre>
<p>2、common.js 这个方法之前百度上面看到，就蛮用了</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var util = (function () {
    var class2type = {};
    [&quot;Null&quot;, &quot;Undefined&quot;, &quot;Number&quot;, &quot;Boolean&quot;, &quot;String&quot;, &quot;Object&quot;, &quot;Function&quot;, &quot;Array&quot;, &quot;RegExp&quot;, &quot;Date&quot;].forEach(function (item) {
        class2type[&quot;[object &quot; + item + &quot;]&quot;] = item.toLowerCase();
    })

    function isType(obj, type) {
        return getType(obj) === type;
    }

    function getType(obj) {
        return class2type[Object.prototype.toString.call(obj)] || &quot;object&quot;;
    }

    return {
        isType: isType,
        getType: getType
    }
})();
//对象深，浅拷贝
function copy(obj, deep) {
    if (obj === null || typeof obj !== &quot;object&quot;) {
        return obj;
    }
    var i, target = this.util.isType(obj, &quot;array&quot;) ? [] : {}, value, valueType;
    for (i in obj) {
        value = obj[i];
        valueType = this.util.getType(value);
        if (deep &amp;&amp; (valueType === &quot;array&quot; || valueType === &quot;object&quot;)) {
            target[i] = this.copy(value);
        } else {
            target[i] = value;
        }
    }
    return target;
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">var</span> util = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> class2type = {};
    [<span class="hljs-string">"Null"</span>, <span class="hljs-string">"Undefined"</span>, <span class="hljs-string">"Number"</span>, <span class="hljs-string">"Boolean"</span>, <span class="hljs-string">"String"</span>, <span class="hljs-string">"Object"</span>, <span class="hljs-string">"Function"</span>, <span class="hljs-string">"Array"</span>, <span class="hljs-string">"RegExp"</span>, <span class="hljs-string">"Date"</span>].forEach(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">item</span>) </span>{
        class2type[<span class="hljs-string">"[object "</span> + item + <span class="hljs-string">"]"</span>] = item.toLowerCase();
    })

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">isType</span>(<span class="hljs-params">obj, type</span>) </span>{
        <span class="hljs-keyword">return</span> getType(obj) === type;
    }

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">getType</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">return</span> class2type[<span class="hljs-built_in">Object</span>.prototype.toString.call(obj)] || <span class="hljs-string">"object"</span>;
    }

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">isType</span>: isType,
        <span class="hljs-attr">getType</span>: getType
    }
})();
<span class="hljs-comment">//对象深，浅拷贝</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">copy</span>(<span class="hljs-params">obj, deep</span>) </span>{
    <span class="hljs-keyword">if</span> (obj === <span class="hljs-literal">null</span> || <span class="hljs-keyword">typeof</span> obj !== <span class="hljs-string">"object"</span>) {
        <span class="hljs-keyword">return</span> obj;
    }
    <span class="hljs-keyword">var</span> i, target = <span class="hljs-keyword">this</span>.util.isType(obj, <span class="hljs-string">"array"</span>) ? [] : {}, value, valueType;
    <span class="hljs-keyword">for</span> (i <span class="hljs-keyword">in</span> obj) {
        value = obj[i];
        valueType = <span class="hljs-keyword">this</span>.util.getType(value);
        <span class="hljs-keyword">if</span> (deep &amp;&amp; (valueType === <span class="hljs-string">"array"</span> || valueType === <span class="hljs-string">"object"</span>)) {
            target[i] = <span class="hljs-keyword">this</span>.copy(value);
        } <span class="hljs-keyword">else</span> {
            target[i] = value;
        }
    }
    <span class="hljs-keyword">return</span> target;
}</code></pre>
<p>3、data.js</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var data = {
    /**
    *     ######
    *     ##
    *下折线
    **/

    DLine : {
        init: [
                {x: -2, y: 4},
                {x: -3, y: 4},
                {x: -3, y: 5},
                {x: -3, y: 6}
            ],
        degree0_90: [
                    {x: -1, y: 0},
                    {x: 0, y: 1},
                    {x: 1, y: 0},
                    {x: 2, y: -1}
                ],
        degree90_180: [
                    {x: 0, y: 1},
                    {x: 1, y: 0},
                    {x: 0, y: -1},
                    {x: -1, y: -2}
                ],
        degree180_270: [
                    {x: 1, y: 0},
                    {x: 0, y: -1},
                    {x: -1, y: 0},
                    {x: -2, y: 1}
                ],
        degree270_360: [
                    {x: 0, y: -1},
                    {x: -1, y: 0},
                    {x: 0, y: 1},
                    {x: 1, y: 2}
                ]
    },

    /**
    *     ##
    *     ######
    *上折线
    **/

    ULine : {
        init: [
                {x: -3, y: 4},
                {x: -3, y: 5},
                {x: -3, y: 6},
                {x: -4, y: 4}
            ],
        degree0_90: [
                    {x: 0, y: 1},
                    {x: 1, y: 0},
                    {x: 2, y: -1},
                    {x: 1, y: 2}
                ],
        degree90_180: [
                    {x: 1, y: 0},
                    {x: 0, y: -1},
                    {x: -1, y: -2},
                    {x: 2, y: -1}
                ],
        degree180_270: [
                    {x: 0, y: -1},
                    {x: -1, y: 0},
                    {x: -2, y: 1},
                    {x: -1, y: -2}
                ],
        degree270_360: [
                    {x: -1, y: 0},
                    {x: 0, y: 1},
                    {x: 1, y: 2},
                    {x: -2, y: 1}
                ]
    },

    /**
    *     ##
    *     ##
    *     ##
    *     ##
    *直线
    **/

    Line : {
        init: [
                {x: -1, y: 4},
                {x: -2, y: 4},
                {x: -3, y: 4},
                {x: -4, y: 4}
            ],
        degree0_90: [
                    {x: -2, y: -1},
                    {x: -1, y: 0},
                    {x: 0, y: 1},
                    {x: 1, y: 2}
                ],
        degree90_180: [
                    {x: -1, y: 2},
                    {x: 0, y: 1},
                    {x: 1, y: 0},
                    {x: 2, y: -1}
                ],
        degree180_270: [
                    {x: 2, y: 1},
                    {x: 1, y: 0},
                    {x: 0, y: -1},
                    {x: -1, y: -2}
                ],
        degree270_360: [
                    {x: 1, y: -2},
                    {x: 0, y: -1},
                    {x: -1, y: 0},
                    {x: -2, y: 1}
                ]
    },

    /**
    *       ##
    *     ######
    *凸
    **/

    Raised : {
        init: [
                {x: -2, y: 3},
                {x: -2, y: 4},
                {x: -2, y: 5},
                {x: -3, y: 4}
            ],
        degree0_90: [
                    {x: -2, y: 1},
                    {x: -1, y: 0},
                    {x: 0, y: -1},
                    {x: 0, y: 1}
                ],
        degree90_180: [
                    {x: 1, y: 2},
                    {x: 0, y: 1},
                    {x: -1, y: 0},
                    {x: 1, y: 0}
                ],
        degree180_270: [
                    {x: 2, y: -1},
                    {x: 1, y: 0},
                    {x: 0, y: 1},
                    {x: 0, y: -1}
                ],
        degree270_360: [
                    {x: -1, y: -2},
                    {x: 0, y: -1},
                    {x: 1, y: 0},
                    {x: -1, y: 0}
                ]
    },

    /**
    *     ####
    *     ####
    *方块
    **/

    Square : {
        init: [
                {x: -2, y: 4},
                {x: -2, y: 5},
                {x: -3, y: 4},
                {x: -3, y: 5}
            ],
        degree0_90: [
                    {x: 0, y: 0},
                    {x: 0, y: 0},
                    {x: 0, y: 0},
                    {x: 0, y: 0}
                ],
        degree90_180: [
                    {x: 0, y: 0},
                    {x: 0, y: 0},
                    {x: 0, y: 0},
                    {x: 0, y: 0}
                ],
        degree180_270: [
                    {x: 0, y: 0},
                    {x: 0, y: 0},
                    {x: 0, y: 0},
                    {x: 0, y: 0}
                ],
        degree270_360: [
                    {x: 0, y: 0},
                    {x: 0, y: 0},
                    {x: 0, y: 0},
                    {x: 0, y: 0}
                ]
    },

    /**
    *     ####
    *       ####
    *左移块
    **/

    LSquare : {
        init: [
                {x: -2, y: 4},
                {x: -2, y: 5},
                {x: -3, y: 3},
                {x: -3, y: 4}
            ],
        degree0_90: [
                    {x: -1, y: 0},
                    {x: 0, y: -1},
                    {x: -1, y: 2},
                    {x: 0, y: 1}
                ],
        degree90_180: [
                    {x: 1, y: 2},
                    {x: 0, y: 1},
                    {x: 1, y: 0},
                    {x: 0, y: -1}
                ],
        degree180_270: [
                    {x: 1, y: -2},
                    {x: 0, y: -1},
                    {x: 1, y: 0},
                    {x: 0, y: 1}
                ],
        degree270_360: [
                    {x: -1, y: 0},
                    {x: 0, y: 1},
                    {x: -1, y: -2},
                    {x: 0, y: -1}
                ]
    },

    /**
    *       ####
    *     ####
    *右移块
    **/

    RSquare : {
        init: [
                {x: -2, y: 4},
                {x: -2, y: 5},
                {x: -3, y: 5},
                {x: -3, y: 6}
            ],
        degree0_90: [
                    {x: -1, y: 0},
                    {x: 0, y: -1},
                    {x: 1, y: 0},
                    {x: 2, y: -1}
                ],
        degree90_180: [
                    {x: 0, y: 1},
                    {x: -1, y: 0},
                    {x: 0, y: -1},
                    {x: -1, y: -2}
                ],
        degree180_270: [
                    {x: 1, y: 0},
                    {x: 0, y: 1},
                    {x: -1, y: 0},
                    {x: -2, y: 1}
                ],
        degree270_360: [
                    {x: 0, y: -1},
                    {x: 1, y: 0},
                    {x: 0, y: 1},
                    {x: 1, y: 2}
                ]
    }
};" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs groovy"><code>var data = {
    <span class="hljs-comment">/**
    *     ######
    *     ##
    *下折线
    **/</span>

    <span class="hljs-string">DLine :</span> {
<span class="hljs-symbol">        init:</span> [
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">5</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">6</span>}
            ],
<span class="hljs-symbol">        degree0_90:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>}
                ],
<span class="hljs-symbol">        degree90_180:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>}
                ],
<span class="hljs-symbol">        degree180_270:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>}
                ],
<span class="hljs-symbol">        degree270_360:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>}
                ]
    },

    <span class="hljs-comment">/**
    *     ##
    *     ######
    *上折线
    **/</span>

    <span class="hljs-string">ULine :</span> {
<span class="hljs-symbol">        init:</span> [
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">5</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">6</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-4</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>}
            ],
<span class="hljs-symbol">        degree0_90:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>}
                ],
<span class="hljs-symbol">        degree90_180:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>}
                ],
<span class="hljs-symbol">        degree180_270:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>}
                ],
<span class="hljs-symbol">        degree270_360:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>}
                ]
    },

    <span class="hljs-comment">/**
    *     ##
    *     ##
    *     ##
    *     ##
    *直线
    **/</span>

    <span class="hljs-string">Line :</span> {
<span class="hljs-symbol">        init:</span> [
                {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-4</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>}
            ],
<span class="hljs-symbol">        degree0_90:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>}
                ],
<span class="hljs-symbol">        degree90_180:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>}
                ],
<span class="hljs-symbol">        degree180_270:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>}
                ],
<span class="hljs-symbol">        degree270_360:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>}
                ]
    },

    <span class="hljs-comment">/**
    *       ##
    *     ######
    *凸
    **/</span>

    <span class="hljs-string">Raised :</span> {
<span class="hljs-symbol">        init:</span> [
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">3</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">5</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>}
            ],
<span class="hljs-symbol">        degree0_90:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>}
                ],
<span class="hljs-symbol">        degree90_180:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>}
                ],
<span class="hljs-symbol">        degree180_270:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>}
                ],
<span class="hljs-symbol">        degree270_360:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>}
                ]
    },

    <span class="hljs-comment">/**
    *     ####
    *     ####
    *方块
    **/</span>

    <span class="hljs-string">Square :</span> {
<span class="hljs-symbol">        init:</span> [
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">5</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">5</span>}
            ],
<span class="hljs-symbol">        degree0_90:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>}
                ],
<span class="hljs-symbol">        degree90_180:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>}
                ],
<span class="hljs-symbol">        degree180_270:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>}
                ],
<span class="hljs-symbol">        degree270_360:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>}
                ]
    },

    <span class="hljs-comment">/**
    *     ####
    *       ####
    *左移块
    **/</span>

    <span class="hljs-string">LSquare :</span> {
<span class="hljs-symbol">        init:</span> [
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">5</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">3</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>}
            ],
<span class="hljs-symbol">        degree0_90:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>}
                ],
<span class="hljs-symbol">        degree90_180:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>}
                ],
<span class="hljs-symbol">        degree180_270:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>}
                ],
<span class="hljs-symbol">        degree270_360:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>}
                ]
    },

    <span class="hljs-comment">/**
    *       ####
    *     ####
    *右移块
    **/</span>

    <span class="hljs-string">RSquare :</span> {
<span class="hljs-symbol">        init:</span> [
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">4</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">5</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">5</span>},
                {<span class="hljs-string">x:</span> <span class="hljs-number">-3</span>, <span class="hljs-string">y:</span> <span class="hljs-number">6</span>}
            ],
<span class="hljs-symbol">        degree0_90:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>}
                ],
<span class="hljs-symbol">        degree90_180:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-2</span>}
                ],
<span class="hljs-symbol">        degree180_270:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">-2</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>}
                ],
<span class="hljs-symbol">        degree270_360:</span> [
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">-1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">0</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">0</span>, <span class="hljs-string">y:</span> <span class="hljs-number">1</span>},
                    {<span class="hljs-string">x:</span> <span class="hljs-number">1</span>, <span class="hljs-string">y:</span> <span class="hljs-number">2</span>}
                ]
    }
};</code></pre>
<p>4、game.js</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="
function Game(rows, verticals) {
    this.rows = rows;
    this.verticals = verticals;
    this.tds = [];
    this.init();
}
Game.prototype = {
    constructor: Game,
    init: function() {
        var table= document.getElementsByTagName('table')[0];
        for(var i = 0; i < this.rows; i++) {
            var tr = document.createElement('tr');
            var tdsTr = [];
            for(var j = 0;j < this.verticals; j++) {
                var td = document.createElement('td');
                tr.appendChild(td);
                tdsTr.push(td);
            };
            table.appendChild(tr);
            this.tds.push(tdsTr);
        };
    },
    render: function(array) {
        var self = this;
        if(!util.isType(array, &quot;array&quot;)) {
            console.log('game render data must be array');
            return;
        };
        for(var i = 0;i < self.tds.length;i++) {
            for(var j = 0;j < self.tds[i].length;j++) {
                self.tds[i][j].style.background = '';
            }
        };
        for(var i = 0;i < array.length; i++) {
            if(self.tds[array[i].x] &amp;&amp; self.tds[array[i].x][array[i].y]) {
                self.tds[array[i].x][array[i].y].style.background = '#999999';
            }
        };
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs php"><code>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Game</span><span class="hljs-params">(rows, verticals)</span> </span>{
    this.rows = rows;
    this.verticals = verticals;
    this.tds = [];
    this.init();
}
Game.prototype = {
    constructor: Game,
    init: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">()</span> </span>{
        <span class="hljs-keyword">var</span> table= document.getElementsByTagName(<span class="hljs-string">'table'</span>)[<span class="hljs-number">0</span>];
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; this.rows; i++) {
            <span class="hljs-keyword">var</span> tr = document.createElement(<span class="hljs-string">'tr'</span>);
            <span class="hljs-keyword">var</span> tdsTr = [];
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;j &lt; this.verticals; j++) {
                <span class="hljs-keyword">var</span> td = document.createElement(<span class="hljs-string">'td'</span>);
                tr.appendChild(td);
                tdsTr.push(td);
            };
            table.appendChild(tr);
            this.tds.push(tdsTr);
        };
    },
    render: <span class="hljs-function"><span class="hljs-keyword">function</span><span class="hljs-params">(array)</span> </span>{
        <span class="hljs-keyword">var</span> <span class="hljs-keyword">self</span> = this;
        <span class="hljs-keyword">if</span>(!util.isType(<span class="hljs-keyword">array</span>, <span class="hljs-string">"array"</span>)) {
            console.log(<span class="hljs-string">'game render data must be array'</span>);
            <span class="hljs-keyword">return</span>;
        };
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-keyword">self</span>.tds.length;i++) {
            <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> j = <span class="hljs-number">0</span>;j &lt; <span class="hljs-keyword">self</span>.tds[i].length;j++) {
                <span class="hljs-keyword">self</span>.tds[i][j].style.background = <span class="hljs-string">''</span>;
            }
        };
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>;i &lt; <span class="hljs-keyword">array</span>.length; i++) {
            <span class="hljs-keyword">if</span>(<span class="hljs-keyword">self</span>.tds[<span class="hljs-keyword">array</span>[i].x] &amp;&amp; <span class="hljs-keyword">self</span>.tds[<span class="hljs-keyword">array</span>[i].x][<span class="hljs-keyword">array</span>[i].y]) {
                <span class="hljs-keyword">self</span>.tds[<span class="hljs-keyword">array</span>[i].x][<span class="hljs-keyword">array</span>[i].y].style.background = <span class="hljs-string">'#999999'</span>;
            }
        };
    }
}</code></pre>
<p>5、block.js</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=";
var square = {};
Object.keys(data).forEach(function(obj) {
    square[obj] = function(speed) {
        this.speed = speed;
        this.body = copy(data[obj]['init'],&quot;deep&quot;);
        this.degree0_90 = data[obj][&quot;degree0_90&quot;];
        this.degree90_180 = data[obj][&quot;degree90_180&quot;];
        this.degree180_270 = data[obj][&quot;degree180_270&quot;];
        this.degree270_360 = data[obj][&quot;degree270_360&quot;];
        this.preBody = '';
        this.move = '';
        this.state = 0;
        this.init();
    };
    square[obj].prototype = {
        constructor: square[obj],
        init: function() {
            var self = this;
            self.move = setInterval(function() {
                self.down();
            }, self.speed);
        },
        down: function() {
            var self = this;
            self.preBody = copy(self.body,&quot;deep&quot;);
            self.body[0][&quot;x&quot;]  += 1;
            self.body[1][&quot;x&quot;]  += 1;
            self.body[2][&quot;x&quot;]  += 1;
            self.body[3][&quot;x&quot;]  += 1;
            // console.log('self.body');
            // console.log(self.body);
        },
        rotate: function() {
            var self = this;
            self.body[0][&quot;x&quot;] += self['degree'+self.state+'_'+(self.state+90)][0][&quot;x&quot;];
            self.body[0][&quot;y&quot;] += self['degree'+self.state+'_'+(self.state+90)][0][&quot;y&quot;];
            self.body[1][&quot;x&quot;] += self['degree'+self.state+'_'+(self.state+90)][1][&quot;x&quot;];
            self.body[1][&quot;y&quot;] += self['degree'+self.state+'_'+(self.state+90)][1][&quot;y&quot;];
            self.body[2][&quot;x&quot;] += self['degree'+self.state+'_'+(self.state+90)][2][&quot;x&quot;];
            self.body[2][&quot;y&quot;] += self['degree'+self.state+'_'+(self.state+90)][2][&quot;y&quot;];
            self.body[3][&quot;x&quot;] += self['degree'+self.state+'_'+(self.state+90)][3][&quot;x&quot;];
            self.body[3][&quot;y&quot;] += self['degree'+self.state+'_'+(self.state+90)][3][&quot;y&quot;];
            self.state = self.state == 270 ? 0 : self.state + 90;
        }
    }
});" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs pf"><code>;
var square = {};
Object.keys(data).<span class="hljs-keyword">for</span>Each(function(obj) {
    square[obj] = function(speed) {
        this.speed = speed;
        this.body = copy(data[obj]['init'],<span class="hljs-string">"deep"</span>);
        this.degree0_90 = data[obj][<span class="hljs-string">"degree0_90"</span>];
        this.degree90_180 = data[obj][<span class="hljs-string">"degree90_180"</span>];
        this.degree180_270 = data[obj][<span class="hljs-string">"degree180_270"</span>];
        this.degree270_360 = data[obj][<span class="hljs-string">"degree270_360"</span>];
        this.preBody = '';
        this.move = '';
        this.<span class="hljs-keyword">state</span> = <span class="hljs-number">0</span>;
        this.init();
    };
    square[obj].prototype = {
        constructor: square[obj],
        init: function() {
            var <span class="hljs-literal">self</span> = this;
            <span class="hljs-literal">self</span>.move = <span class="hljs-built_in">set</span>Interval(function() {
                <span class="hljs-literal">self</span>.down();
            }, <span class="hljs-literal">self</span>.speed);
        },
        down: function() {
            var <span class="hljs-literal">self</span> = this;
            <span class="hljs-literal">self</span>.preBody = copy(<span class="hljs-literal">self</span>.body,<span class="hljs-string">"deep"</span>);
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">0</span>][<span class="hljs-string">"x"</span>]  += <span class="hljs-number">1</span>;
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">1</span>][<span class="hljs-string">"x"</span>]  += <span class="hljs-number">1</span>;
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">2</span>][<span class="hljs-string">"x"</span>]  += <span class="hljs-number">1</span>;
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">3</span>][<span class="hljs-string">"x"</span>]  += <span class="hljs-number">1</span>;
            // console.<span class="hljs-keyword">log</span>('<span class="hljs-literal">self</span>.body');
            // console.<span class="hljs-keyword">log</span>(<span class="hljs-literal">self</span>.body);
        },
        rotate: function() {
            var <span class="hljs-literal">self</span> = this;
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">0</span>][<span class="hljs-string">"x"</span>] += <span class="hljs-literal">self</span>['degree'+<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+'_'+(<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+<span class="hljs-number">90</span>)][<span class="hljs-number">0</span>][<span class="hljs-string">"x"</span>];
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">0</span>][<span class="hljs-string">"y"</span>] += <span class="hljs-literal">self</span>['degree'+<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+'_'+(<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+<span class="hljs-number">90</span>)][<span class="hljs-number">0</span>][<span class="hljs-string">"y"</span>];
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">1</span>][<span class="hljs-string">"x"</span>] += <span class="hljs-literal">self</span>['degree'+<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+'_'+(<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+<span class="hljs-number">90</span>)][<span class="hljs-number">1</span>][<span class="hljs-string">"x"</span>];
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">1</span>][<span class="hljs-string">"y"</span>] += <span class="hljs-literal">self</span>['degree'+<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+'_'+(<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+<span class="hljs-number">90</span>)][<span class="hljs-number">1</span>][<span class="hljs-string">"y"</span>];
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">2</span>][<span class="hljs-string">"x"</span>] += <span class="hljs-literal">self</span>['degree'+<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+'_'+(<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+<span class="hljs-number">90</span>)][<span class="hljs-number">2</span>][<span class="hljs-string">"x"</span>];
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">2</span>][<span class="hljs-string">"y"</span>] += <span class="hljs-literal">self</span>['degree'+<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+'_'+(<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+<span class="hljs-number">90</span>)][<span class="hljs-number">2</span>][<span class="hljs-string">"y"</span>];
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">3</span>][<span class="hljs-string">"x"</span>] += <span class="hljs-literal">self</span>['degree'+<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+'_'+(<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+<span class="hljs-number">90</span>)][<span class="hljs-number">3</span>][<span class="hljs-string">"x"</span>];
            <span class="hljs-literal">self</span>.body[<span class="hljs-number">3</span>][<span class="hljs-string">"y"</span>] += <span class="hljs-literal">self</span>['degree'+<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+'_'+(<span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span>+<span class="hljs-number">90</span>)][<span class="hljs-number">3</span>][<span class="hljs-string">"y"</span>];
            <span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span> = <span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span> == <span class="hljs-number">270</span> ? <span class="hljs-number">0</span> : <span class="hljs-literal">self</span>.<span class="hljs-keyword">state</span> + <span class="hljs-number">90</span>;
        }
    }
});</code></pre>

                
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
俄罗斯方块

## 原文链接
[https://segmentfault.com/a/1190000014024088](https://segmentfault.com/a/1190000014024088)


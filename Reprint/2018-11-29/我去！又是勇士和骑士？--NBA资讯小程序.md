---
title: '我去！又是勇士和骑士？--NBA资讯小程序' 
date: 2018-11-29 9:27:38
hidden: true
slug: 3wi1sw4xwtb
categories: [reprint]
---

{{< raw >}}

                    
<p><span class="img-wrap"><img data-src="/img/remote/1460000015202389?w=580&amp;h=580" src="https://static.alili.tech/img/remote/1460000015202389?w=580&amp;h=580" alt="" title="" style="cursor: pointer; display: inline;"></span><br>&#x8BDD;&#x4E0D;&#x591A;&#x8BF4;&#xFF0C;&#x5148;&#x6765;&#x4E00;&#x5F20;&#x6211;&#x79D1;&#x7684;&#x56FE;&#x5750;&#x9547;</p>
<h1 id="articleHeader0">NBA&#x8D44;&#x8BAF;&#x5C0F;&#x7A0B;&#x5E8F;&#x51FA;&#x6765;&#x5566;</h1>
<hr>
<p>&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x521A;&#x63A5;&#x89E6;&#x5C0F;&#x7A0B;&#x5E8F;&#x4E0D;&#x4E45;&#x7684;&#x524D;&#x7AEF;&#x5C0F;&#x767D;&#x83DC;&#xFF0C;&#x6070;&#x9022;&#x6700;&#x8FD1;NBA&#x5982;&#x706B;&#x5982;&#x837C;&#x7684;&#x53CC;&#x62A2;&#x4E03;&#x5927;&#x6218;&#x3001;&#x9A91;&#x58EB;&#x4E0E;&#x52C7;&#x58EB;&#x53C8;&#x53C8;&#x53C8;&#x53C8;&#x53C8;&#x4E00;&#x6B21;&#x7684;&#x5DC5;&#x5CF0;&#x5BF9;&#x51B3;(&#x5B9E;&#x8BDD;&#xFF1A;&#x771F;&#x7684;&#x770B;&#x817B;&#x4E86;- -),&#x51B3;&#x5B9A;&#x5199;&#x4E00;&#x4E2A;NBA&#x8D44;&#x8BAF;&#x7684;&#x5C0F;&#x7A0B;&#x5E8F;&#x6765;&#x73A9;&#x73A9;&#x3002;&#x4E0B;&#x9762;&#x8BB2;&#x8BB2;&#x5C0F;&#x7A0B;&#x5E8F;&#x7684;&#x5F00;&#x53D1;</p>
<ul>
<li>&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#xFF1A;vscode &#x5FAE;&#x4FE1;&#x5F00;&#x53D1;&#x8005;&#x5DE5;&#x5177;</li>
<li>&#x5F00;&#x53D1;&#x6280;&#x672F;&#xFF1A;(Wxml)Html (Wxss)css javascript</li>
<li>&#x5F00;&#x53D1;&#x6D41;&#x7A0B;&#xFF1A;&#x6CE8;&#x518C;&#x4E00;&#x4E2A;appid&#x5C31;&#x53EF;&#x4EE5;&#x9A6C;&#x4E0A;&#x8FDB;&#x884C;&#x5F00;&#x53D1;&#x4E86;<a href="https://developers.weixin.qq.com/miniprogram/dev/index.html" rel="nofollow noreferrer" target="_blank">&#x7B80;&#x6613;&#x6559;&#x7A0B;</a>
</li>
</ul>
<p>&#x8FD9;&#x91CC;&#x8FD8;&#x8981;&#x63D0;&#x4E00;&#x4E0B;&#x4E24;&#x4E2A;&#x7F51;&#x7AD9;<a href="https://www.easy-mock.com/" rel="nofollow noreferrer" target="_blank">Easy Mock</a>&#x3001;<a href="http://www.iconfont.cn/home/index?spm=a313x.7781069.1998910419.2" rel="nofollow noreferrer" target="_blank">Iconfont</a>  <br>&#x524D;&#x8005;&#x662F;&#x53EF;&#x4EE5;&#x5FEB;&#x901F;&#x751F;&#x6210;&#x6A21;&#x62DF;&#x6570;&#x636E;&#x7684;&#x6301;&#x4E45;&#x5316;&#x670D;&#x52A1;&#x8FD9;&#x91CC;&#x5C55;&#x793A;&#x4E0B;<a href="https://www.easy-mock.com/mock/5b0cbb4e60480528d24b9b2b/nba/news" rel="nofollow noreferrer" target="_blank">&#x6211;&#x7684;&#x6570;&#x636E;&#x63A5;&#x53E3;</a><br>&#x540E;&#x8005;&#x662F;&#x53EF;&#x4EE5;&#x627E;&#x5230;&#x8BB8;&#x591A;&#x4F60;&#x60F3;&#x8981;&#x7684;&#x5C0F;&#x56FE;&#x6807;&#x5E93;</p>
<hr>
<h2 id="articleHeader1">&#x6548;&#x679C;&#x56FE;</h2>
<p><span class="img-wrap"><img data-src="/img/remote/1460000015202390?w=319&amp;h=600" src="https://static.alili.tech/img/remote/1460000015202390?w=319&amp;h=600" alt="" title="" style="cursor: pointer;"></span></p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000015202391?w=300&amp;h=600" src="https://static.alili.tech/img/remote/1460000015202391?w=300&amp;h=600" alt="" title="" style="cursor: pointer;"></span></p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000015202392?w=417&amp;h=741" src="https://static.alili.tech/img/remote/1460000015202392?w=417&amp;h=741" alt="" title="" style="cursor: pointer;"></span></p>
<h2><span class="img-wrap"><img data-src="/img/remote/1460000015202393?w=280&amp;h=480" src="https://static.alili.tech/img/remote/1460000015202393?w=280&amp;h=480" alt="" title="" style="cursor: pointer;"></span></h2>
<h2 id="articleHeader3">&#x8EAB;&#x4E3A;&#x65B0;&#x624B;&#x5199;&#x7684;&#x8FC7;&#x7A0B;&#x4E2D;&#x4E0D;&#x78B0;&#x5230;&#x4E9B;&#x95EE;&#x9898;&#x90A3;&#x600E;&#x4E48;&#x53EF;&#x80FD;&#x5462;- -</h2>
<p>&#x4E0B;&#x9762;&#x5C31;&#x6765;&#x8BB2;&#x8BB2;&#x6211;&#x78B0;&#x5230;&#x7684;&#x90A3;&#x4E9B;&#x95EE;&#x9898;&#x5427;~</p>
<p><strong>1.&#x9996;&#x9875;&#x65E5;&#x671F;&#x6BD4;&#x8D5B;&#x6570;&#x636E;&#x5207;&#x6362;(&#x5C31;&#x662F;&#x90A3;&#x4E2A;&#x80FD;&#x70B9;&#x80FD;&#x6A2A;&#x6ED1;&#x7684;&#x90E8;&#x5206;)</strong>  <br>&#x5F53;&#x65F6;&#x770B;&#x5230;&#x8FD9;&#x89C9;&#x5F97;&#x65E0;&#x975E;&#x5C31;&#x662F;&#x5DE6;&#x53F3;button&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x8FDB;&#x884C;&#x5207;&#x6362;&#x6570;&#x636E; &#x7136;&#x540E;&#x518D;&#x8DDF;&#x6ED1;&#x52A8;date&#x7ED1;&#x5B9A;&#x4E00;&#x8D77;<br>&#x60F3;&#x5230;&#x5C31;&#x5F00;&#x59CB;&#x5199; &#x5DE6;&#x53F3;&#x70B9;&#x51FB;&#x4E00;&#x4E0B;&#x5C31;&#x5199;&#x5B8C;&#x4E86;</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="changeleft:function() {
    const index = this.data.index - this.data.num;//&#x83B7;&#x53D6;&#x6539;&#x53D8;&#x540E;&#x7684;&#x90A3;&#x7EC4;&#x6570;&#x636E;&#x4E0B;&#x6807;
    this.setData({
      agenda: this.data.result[index],// &#x5C06;&#x7403;&#x961F;&#x540D; &#x7403;&#x961F;&#x5206;&#x6570;&#x4F20;&#x5165;
      light: this.data.result[index].leftgrade &gt; 
      this.data.result[index].rightgrade ? &apos;1&apos; : &apos;2&apos;, //&#x6BD4;&#x8F83;&#x5206;&#x6570;&#x5927;&#x5C0F; &#x5C06;&#x5206;&#x6570;&#x9AD8;&#x7684;color&#x6539;&#x53D8;
      index: index,
      current:index,
      showLeft: true,//&#x6539;&#x53D8;&#x56FE;&#x6807;&#x4E3A;&#x6D45;&#x8272;&#x56FE;&#x6807;
    })
  }" title="" data-original-title="&#x590D;&#x5236;"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span>
      </div>
      </div><pre class="hljs kotlin"><code>changeleft:function() {
    const index = <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.index - <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.num;<span class="hljs-comment">//&#x83B7;&#x53D6;&#x6539;&#x53D8;&#x540E;&#x7684;&#x90A3;&#x7EC4;&#x6570;&#x636E;&#x4E0B;&#x6807;</span>
    <span class="hljs-keyword">this</span>.setData({
      agenda: <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.result[index],<span class="hljs-comment">// &#x5C06;&#x7403;&#x961F;&#x540D; &#x7403;&#x961F;&#x5206;&#x6570;&#x4F20;&#x5165;</span>
      light: <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.result[index].leftgrade &gt; 
      <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.result[index].rightgrade ? <span class="hljs-string">&apos;1&apos;</span> : <span class="hljs-string">&apos;2&apos;</span>, <span class="hljs-comment">//&#x6BD4;&#x8F83;&#x5206;&#x6570;&#x5927;&#x5C0F; &#x5C06;&#x5206;&#x6570;&#x9AD8;&#x7684;color&#x6539;&#x53D8;</span>
      index: index,
      current:index,
      showLeft: <span class="hljs-literal">true</span>,<span class="hljs-comment">//&#x6539;&#x53D8;&#x56FE;&#x6807;&#x4E3A;&#x6D45;&#x8272;&#x56FE;&#x6807;</span>
    })
  }</code></pre>
<p>&#x6CE8;&#x610F;&#x4E00;&#x4E2A;&#x7EC6;&#x8282;&#xFF0C;&#x5F53;&#x5DE6;&#x53F3;&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x6570;&#x636E;&#x5207;&#x6362;&#x65F6; &#x56FE;&#x6807;&#x989C;&#x8272;&#x4F1A;&#x6539;&#x53D8; &#x53D8;&#x6D45;&#x8272; &#x793A;&#x610F;&#x4E0D;&#x80FD;&#x70B9;&#x4E86;<br>  &#x6240;&#x4EE5;&#x8981;&#x8FDB;&#x884C;if&#x5224;&#x65AD;&#x5DE6;&#x53F3;&#x4E24;&#x8FB9;&#x662F;&#x5426;&#x4E3A;&#x4E34;&#x754C;&#x503C; &#x4E5F;&#x5C31;&#x662F;&#x6570;&#x7EC4;&#x7684;&#x7B2C;&#x4E00;&#x9879;&#x548C;&#x6700;&#x540E;&#x4E00;&#x9879;&#x3002;</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" turnleft: function (e) {
    const index = this.data.index -this.data.num;
      if (index &lt;= -1) {
        return;
      } else if (index == 0) {
        this.changeleft();
      } else {
        this.changeleft();
        this.setData({
          showLeft: false,
          showRight: false,
        })
      }
  }," title="" data-original-title="&#x590D;&#x5236;"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span>
      </div>
      </div><pre class="hljs kotlin"><code> turnleft: function (e) {
    const index = <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.index -<span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.num;
      <span class="hljs-keyword">if</span> (index &lt;= <span class="hljs-number">-1</span>) {
        <span class="hljs-keyword">return</span>;
      } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (index == <span class="hljs-number">0</span>) {
        <span class="hljs-keyword">this</span>.changeleft();
      } <span class="hljs-keyword">else</span> {
        <span class="hljs-keyword">this</span>.changeleft();
        <span class="hljs-keyword">this</span>.setData({
          showLeft: <span class="hljs-literal">false</span>,
          showRight: <span class="hljs-literal">false</span>,
        })
      }
  },</code></pre>
<p>&#x8FD9;&#x91CC;&#x5C55;&#x793A;&#x5DE6;&#x8FB9;&#x7684;&#x65B9;&#x6CD5; &#x53F3;&#x8FB9;&#x7C7B;&#x4F3C;&#x3002;&#x4E8E;&#x662F;&#x5F00;&#x59CB;&#x7740;&#x624B;&#x5199;&#x6ED1;&#x52A8;&#x90A3;&#x90E8;&#x5206;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x5403;&#x4E86;&#x6CA1;&#x6709;&#x7ECF;&#x9A8C;&#x7684;&#x5927;&#x4E8F;&#x4E86;&#xFF0C;&#x60F3;&#x5230;&#x6ED1;&#x52A8;&#x7ACB;&#x9A6C;&#x60F3;&#x5230;&#x4E86;scroll-view  &#x567C;&#x91CC;&#x556A;&#x5566;&#x5199;&#x4E86;&#x4E00;&#x5806;&#xFF0C;&#x53EF;&#x4E00;&#x70B9;&#x51FB;&#x6211;&#x50BB;&#x4E86; &#x8FD9;&#x65E5;&#x671F;&#x662F;&#x77AC;&#x95F4;&#x53D8;&#x5316; &#x6CA1;&#x6709;&#x6ED1;&#x52A8;&#x7684;&#x90A3;&#x4E2A;&#x6548;&#x679C;&#x554A;&#xFF0C;&#x96BE;&#x9053;&#x662F;&#x8FD9;&#x4E2A;&#x4E0D;&#x884C;&#xFF1F; &#x4E8E;&#x662F;&#x6211;&#x53C8;&#x4F7F;&#x7528;scroll-left &#x7B97;&#x8DDD;&#x79BB; &#x6BCF;&#x4E00;&#x9879;&#x8BBE;&#x7F6E;&#x597D;padding &#x5199;&#x4E86;&#x8BB8;&#x4E45;&#x4E5F;&#x7B97;&#x662F;&#x5B8C;&#x6210;&#x4E86; &#x4E00;&#x8BD5;&#x8FD8;&#x662F;&#x6CA1;&#x6709;&#x6ED1;&#x52A8;&#x6548;&#x679C;...(&#x4E00;&#x53E3;&#x8001;&#x8840;&#x5410;&#x51FA;&#x6765;)</p>
<p>&#x6700;&#x540E;&#x8FD8;&#x662F;&#x7528;swiper&#x641E;&#x5B9A;&#x4E86;&#x8FD9;&#x6548;&#x679C;</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" swiperchange:function(e) {
    const current = e.detail.current;//&#x53D6;&#x5F53;&#x524D;swiper index
    const ind = this.data.index;//&#x4E4B;&#x524D;&#x6570;&#x7EC4;&#x7684;index 
    const dex = current - ind;//&#x5224;&#x65AD;&#x5DE6;&#x6ED1;&#x53F3;&#x6ED1;
      if(current-ind &gt;0){
        this.setData({
          num:dex //&#x6ED1;&#x52A8;&#x591A;&#x5C11;&#x9879;
        })
      this.turnright() //&#x5DE6;&#x6ED1;&#x4E8B;&#x4EF6;
      this.setData({
        num:1   //&#x5FC5;&#x987B;&#x56DE;1 &#x56E0;&#x4E3A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x6BCF;&#x6B21;&#x6539;&#x53D8;&#x7684;&#x6570;&#x7EC4;&#x9879;&#x4E3A;1
      })
    }else if(current - ind &lt;0){
      this.setData({
        num:-dex 
      })
     this.turnleft()
     this.setData({
       num:1
     })
    }" title="" data-original-title="&#x590D;&#x5236;"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span>
      </div>
      </div><pre class="hljs kotlin"><code> swiperchange:function(e) {
    const current = e.detail.current;<span class="hljs-comment">//&#x53D6;&#x5F53;&#x524D;swiper index</span>
    const ind = <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.index;<span class="hljs-comment">//&#x4E4B;&#x524D;&#x6570;&#x7EC4;&#x7684;index </span>
    const dex = current - ind;<span class="hljs-comment">//&#x5224;&#x65AD;&#x5DE6;&#x6ED1;&#x53F3;&#x6ED1;</span>
      <span class="hljs-keyword">if</span>(current-ind &gt;<span class="hljs-number">0</span>){
        <span class="hljs-keyword">this</span>.setData({
          num:dex <span class="hljs-comment">//&#x6ED1;&#x52A8;&#x591A;&#x5C11;&#x9879;</span>
        })
      <span class="hljs-keyword">this</span>.turnright() <span class="hljs-comment">//&#x5DE6;&#x6ED1;&#x4E8B;&#x4EF6;</span>
      <span class="hljs-keyword">this</span>.setData({
        num:<span class="hljs-number">1</span>   <span class="hljs-comment">//&#x5FC5;&#x987B;&#x56DE;1 &#x56E0;&#x4E3A;&#x70B9;&#x51FB;&#x4E8B;&#x4EF6;&#x6BCF;&#x6B21;&#x6539;&#x53D8;&#x7684;&#x6570;&#x7EC4;&#x9879;&#x4E3A;1</span>
      })
    }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(current - ind &lt;<span class="hljs-number">0</span>){
      <span class="hljs-keyword">this</span>.setData({
        num:-dex 
      })
     <span class="hljs-keyword">this</span>.turnleft()
     <span class="hljs-keyword">this</span>.setData({
       num:<span class="hljs-number">1</span>
     })
    }</code></pre>
<hr>
<p><strong>2.&#x6587;&#x7AE0;&#x9875;&#x8FD4;&#x56DE;</strong></p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000015202394?w=278&amp;h=96" src="https://static.alili.tech/img/remote/1460000015202394?w=278&amp;h=96" alt="" title="" style="cursor: pointer;"></span><br>&#x8FD9;&#x91CC;&#x53EF;&#x4EE5;&#x8BBE;&#x7F6E;navigator &#x6216;&#x8005;&#x76F4;&#x63A5;bindtap &#x4F46;&#x662F;&#x8981;&#x6CE8;&#x610F;&#x8FD4;&#x56DE;&#x4E3A;tabBar&#x7684;&#x8BDD; open-type &#x548C;&#x8DF3;&#x8F6C;&#x65B9;&#x6CD5;&#x4E3A;switchTab</p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000015202395?w=479&amp;h=230" src="https://static.alili.tech/img/remote/1460000015202395?w=479&amp;h=230" alt="" title="" style="cursor: pointer;"></span></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="back: function (e) {
    wx.switchTab({
      url: &quot;../../pages/index/index&quot;
    });
  }" title="" data-original-title="&#x590D;&#x5236;"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span>
      </div>
      </div><pre class="hljs actionscript"><code>back: <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-params">(e)</span> </span>{
    wx.switchTab({
      url: <span class="hljs-string">&quot;../../pages/index/index&quot;</span>
    });
  }</code></pre>
<hr>
<p><strong>3.scroll-view&#x6ED1;&#x52A8;&#x95EE;&#x9898;</strong>  <br>&#x5F88;&#x591A;&#x4EBA;&#x53EF;&#x80FD;&#x4F1A;&#x78B0;&#x5230;swiper&#x4E0D;&#x80FD;&#x6ED1;&#x52A8;&#x7B49;&#x95EE;&#x9898;&#x8981;&#x6CE8;&#x610F;&#x4EE5;&#x4E0B;&#x51E0;&#x70B9;</p>
<ul>
<li>scroll-view &#x4E2D;&#x7684;&#x9700;&#x8981;&#x6ED1;&#x52A8;&#x7684;&#x5143;&#x7D20;&#x4E0D;&#x53EF;&#x4EE5;&#x7528; float &#x6D6E;&#x52A8;&#xFF1B;</li>
<li>scroll-view &#x4E2D;&#x7684;&#x5305;&#x88F9;&#x9700;&#x8981;&#x6ED1;&#x52A8;&#x7684;&#x5143;&#x7D20;&#x7684;&#x5927;&#x76D2;&#x5B50;&#x7528; display:flex; &#x662F;&#x6CA1;&#x6709;&#x4F5C;&#x7528;&#x7684;&#xFF1B;</li>
<li>scroll-view &#x4E2D;&#x7684;&#x9700;&#x8981;&#x6ED1;&#x52A8;&#x7684;&#x5143;&#x7D20;&#x8981;&#x7528; dislay:inline-block; &#x8FDB;&#x884C;&#x5143;&#x7D20;&#x7684;&#x6A2A;&#x5411;&#x7F16;&#x6392;&#xFF1B;</li>
<li>&#x5305;&#x88F9; scroll-view &#x7684;&#x5927;&#x76D2;&#x5B50;&#x6709;&#x660E;&#x786E;&#x7684;&#x5BBD;&#x548C;&#x52A0;&#x4E0A;&#x6837;&#x5F0F;--&gt;   overflow:hidden;    white-space:nowrap;</li>
</ul>
<hr>
<p><strong>4.&#x4E0A;&#x62C9;&#x52A0;&#x8F7D;&#x4E0B;&#x62C9;&#x5237;&#x65B0;&#x95EE;&#x9898;</strong></p>
<ul><li>&#x4E0B;&#x62C9;&#x5237;&#x65B0;&#x9700;&#x8981;&#x5728;&#x5F53;&#x524D;&#x9875;&#x7684;json&#x6216;&#x8005;app.json&#x8BBE;&#x7F6E;</li></ul>
<p><code>&quot;enablePullDownRefresh&quot;: true,</code></p>
<ul><li>
<p>&#x4E0B;&#x62C9;&#x4E8B;&#x4EF6;&#x4E00;&#x5B9A;&#x8981;&#x52A0;wx.hideLoading() &#x4E0D;&#x7136;&#x5237;&#x65B0;&#x5C0F;&#x70B9;&#x4E00;&#x76F4;&#x51FA;&#x73B0;</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="onPullDownRefresh() {
   // console.log(&apos;&#x4E0B;&#x62C9;&#x4E86;&apos;);
   wx.showLoading({
     title: &apos;&#x73A9;&#x547D;&#x52A0;&#x8F7D;&#x4E2D;&apos;,
   })
   wx.request({
     url: API_BASE,
     success: (res) =&gt; {
       this.setData({
         news: res.data.data.new,
         currentPage: 1,
         hide:false
       })
       wx.hideLoading();//!!!&#x4E00;&#x5B9A;&#x8981;&#x52A0;
       wx.stopPullDownRefresh()
     }
   })
 }," title="" data-original-title="&#x590D;&#x5236;"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span>
      </div>
      </div><pre class="hljs coffeescript"><code>onPullDownRefresh() {
   <span class="hljs-regexp">//</span> <span class="hljs-built_in">console</span>.log(<span class="hljs-string">&apos;&#x4E0B;&#x62C9;&#x4E86;&apos;</span>);
   wx.showLoading({
     title: <span class="hljs-string">&apos;&#x73A9;&#x547D;&#x52A0;&#x8F7D;&#x4E2D;&apos;</span>,
   })
   wx.request({
     url: API_BASE,
     success: <span class="hljs-function"><span class="hljs-params">(res)</span> =&gt;</span> {
       <span class="hljs-keyword">this</span>.setData({
         news: res.data.data.<span class="hljs-keyword">new</span>,
         currentPage: <span class="hljs-number">1</span>,
         hide:<span class="hljs-literal">false</span>
       })
       wx.hideLoading();<span class="hljs-regexp">//</span>!!!&#x4E00;&#x5B9A;&#x8981;&#x52A0;
       wx.stopPullDownRefresh()
     }
   })
 },</code></pre>
<ul><li>&#x4E0A;&#x62C9;&#x52A0;&#x8F7D;&#x53EF;&#x4EE5;&#x4F7F;&#x7528; onPullDownRefresh() &#x6216;&#x8005;bindscrolltolower() &#x524D;&#x8005;&#x662F;&#x9875;&#x9762;&#x89E6;&#x5E95; &#x540E;&#x8005;&#x662F;scroll&#x6EDA;&#x52A8;&#x6761;&#x5230;&#x5E95;&#x90E8;&#xFF0C;&#x4E8C;&#x8005;&#x89C6;&#x60C5;&#x51B5;&#x4F7F;&#x7528;&#x3002;</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" onReachBottom() {
   let { currentPage, totalPages } = this.data  //&#x89E3;&#x6784;&#x5F53;&#x524D;&#x9875;&#x548C;&#x5171;&#x51E0;&#x9875; es6&#x8BED;&#x6CD5;
   if (currentPage &gt;= totalPages) {
     this.setData({
       hide:true,
     })
     return;
   }
   wx.showLoading({
     title: &apos;&#x73A9;&#x547D;&#x52A0;&#x8F7D;&#x4E2D;&apos;,
   })
   currentPage += 1; //&#x9875;&#x6570;+1
   wx.request({
     url: API_BASE,
     success: (res) =&gt; {
       const news = [ //&#x5C06;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x636E;&#x548C;&#x539F;&#x672C;&#x7684;&#x6570;&#x636E;&#x4E00;&#x8D77;&#x653E;&#x5165;
         ...this.data.news,//&#x6269;&#x5C55;&#x8FD0;&#x7B97;&#x7B26;&#xFF08; spread &#xFF09;&#x662F;&#x4E09;&#x4E2A;&#x70B9;&#xFF08;...&#xFF09;&#x3002;&#x5B83;&#x597D;&#x6BD4; rest &#x53C2;&#x6570;&#x7684;&#x9006;&#x8FD0;&#x7B97;&#xFF0C;&#x5C06;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x8F6C;&#x4E3A;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x53C2;&#x6570;&#x5E8F;&#x5217; es6&#x8BED;&#x6CD5;
         ...res.data.data.new,
       ];
       this.setData({
         news,
         currentPage
       })
       wx.hideLoading();
     }
   })
 }," title="" data-original-title="&#x590D;&#x5236;"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span>
      </div>
      </div><pre class="hljs kotlin"><code> onReachBottom() {
   let { currentPage, totalPages } = <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>  <span class="hljs-comment">//&#x89E3;&#x6784;&#x5F53;&#x524D;&#x9875;&#x548C;&#x5171;&#x51E0;&#x9875; es6&#x8BED;&#x6CD5;</span>
   <span class="hljs-keyword">if</span> (currentPage &gt;= totalPages) {
     <span class="hljs-keyword">this</span>.setData({
       hide:<span class="hljs-literal">true</span>,
     })
     <span class="hljs-keyword">return</span>;
   }
   wx.showLoading({
     title: <span class="hljs-string">&apos;&#x73A9;&#x547D;&#x52A0;&#x8F7D;&#x4E2D;&apos;</span>,
   })
   currentPage += <span class="hljs-number">1</span>; <span class="hljs-comment">//&#x9875;&#x6570;+1</span>
   wx.request({
     url: API_BASE,
     success: (res) =&gt; {
       const news = [ <span class="hljs-comment">//&#x5C06;&#x8BF7;&#x6C42;&#x7684;&#x6570;&#x636E;&#x548C;&#x539F;&#x672C;&#x7684;&#x6570;&#x636E;&#x4E00;&#x8D77;&#x653E;&#x5165;</span>
         ...<span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.news,<span class="hljs-comment">//&#x6269;&#x5C55;&#x8FD0;&#x7B97;&#x7B26;&#xFF08; spread &#xFF09;&#x662F;&#x4E09;&#x4E2A;&#x70B9;&#xFF08;...&#xFF09;&#x3002;&#x5B83;&#x597D;&#x6BD4; rest &#x53C2;&#x6570;&#x7684;&#x9006;&#x8FD0;&#x7B97;&#xFF0C;&#x5C06;&#x4E00;&#x4E2A;&#x6570;&#x7EC4;&#x8F6C;&#x4E3A;&#x7528;&#x9017;&#x53F7;&#x5206;&#x9694;&#x7684;&#x53C2;&#x6570;&#x5E8F;&#x5217; es6&#x8BED;&#x6CD5;</span>
         ...res.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">data</span>.new,
       ];
       <span class="hljs-keyword">this</span>.setData({
         news,
         currentPage
       })
       wx.hideLoading();
     }
   })
 },</code></pre>
</li></ul>
<hr>
<p><strong>5.wx:if&#x9009;&#x62E9;&#x6E32;&#x67D3;&#x95EE;&#x9898;</strong><br>&#x5728;&#x6211;&#x7684;&#x9879;&#x76EE;&#x4E2D; &#x6709;&#x5F88;&#x591A;&#x9700;&#x8981;&#x5355;&#x72EC;&#x6DFB;&#x52A0;&#x6837;&#x5F0F; &#x6216;&#x8005;&#x4E8B;&#x4EF6;&#x64CD;&#x4F5C; &#x53EF;&#x4EE5;&#x4F7F;&#x7528;wx:if &#x914D;&#x5408;block&#x8FDB;&#x884C;&#x9009;&#x62E9;&#x6E32;&#x67D3;</p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000015202396?w=285&amp;h=153" src="https://static.alili.tech/img/remote/1460000015202396?w=285&amp;h=153" alt="" title="" style="cursor: pointer; display: inline;"></span><br><span class="img-wrap"><img data-src="/img/remote/1460000015202397?w=259&amp;h=308" src="https://static.alili.tech/img/remote/1460000015202397?w=259&amp;h=308" alt="" title="" style="cursor: pointer; display: inline;"></span></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="&lt;block wx:if=&quot;"{{"video.title == item.title"}}"&quot;&gt;
                &lt;view class=&quot;btn&quot; style=&quot;display: none;&quot;&gt;&lt;/view&gt;
                &lt;text class=&quot;content-title &quot; style=&quot;white-space: normal;color: #42F32F;&quot;&gt;"{{"item.title"}}"&lt;/text&gt; 
            &lt;/block&gt;
            &lt;block wx:else&gt;
                    &lt;view class=&quot;btn&quot; &gt;&lt;/view&gt;
                    &lt;text class=&quot;content-title&quot; style=&quot;white-space: normal;&quot;&gt;"{{"item.title"}}"&lt;/text&gt; 
                &lt;/block&gt;" title="" data-original-title="&#x590D;&#x5236;"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span>
      </div>
      </div><pre class="hljs django"><code><span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:if</span>=<span class="hljs-string">&quot;</span></span></span><span class="hljs-template-variable">"{{"video.title == item.title"}}"</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">&quot;</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;display: none;&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content-title &quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;white-space: normal;color: #42F32F;&quot;</span>&gt;</span></span><span class="hljs-template-variable">"{{"item.title"}}"</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span> 
            <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">block</span> <span class="hljs-attr">wx:else</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">view</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;btn&quot;</span> &gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">view</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">text</span> <span class="hljs-attr">class</span>=<span class="hljs-string">&quot;content-title&quot;</span> <span class="hljs-attr">style</span>=<span class="hljs-string">&quot;white-space: normal;&quot;</span>&gt;</span></span><span class="hljs-template-variable">"{{"item.title"}}"</span><span class="xml"><span class="hljs-tag">&lt;/<span class="hljs-name">text</span>&gt;</span> 
                <span class="hljs-tag">&lt;/<span class="hljs-name">block</span>&gt;</span></span></code></pre>
<p><strong>6.navigator&#x8DF3;&#x8F6C;&#x95EE;&#x9898;</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="   var that = this;
   var id = that.data.new.id;//&#x83B7;&#x53D6;&#x6587;&#x7AE0;id
   if (id === &apos;n8&apos;) {//&#x5224;&#x65AD;&#x662F;&#x5426;&#x4E3A;&#x6700;&#x540E;&#x4E00;&#x7BC7;
     wx.showModal({
       title: &apos;&#x63D0;&#x793A;&apos;,
       content: &apos;&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#x4E86;&apos;,
       showCancel: false,
       success: function (res) {
       } })
       return; //&#x4E3A;&#x6700;&#x540E;&#x4E00;&#x7BC7;&#x5219;&#x65E0;&#x9700;&#x8BF7;&#x6C42;&#x6570;&#x636E;
   }
   wx.request({
     url: API_BASE,
     success: (res) =&gt; {
       for (let i = 0; i &lt; res.data.data.new.length; i++) {
         if (id === res.data.data.new[i].contentId) { //&#x5224;&#x65AD;&#x662F;&#x5426;&#x8BF7;&#x6C42;&#x5230;&#x5BF9;&#x5E94;&#x6570;&#x636E;
          // console.log(&quot;&#x627E;&#x5230;&#x4E86;&quot;);
           this.setData({
             news: res.data.data.new[i + 1],//&#x5C06;&#x8BF7;&#x6C42;&#x5230;&#x6570;&#x636E;&#x7684;&#x6570;&#x636E;&#x4F20;&#x5165;
           })
           var it = this;
           wx.navigateTo({
             url: &apos;news?id=&apos; + this.data.news.contentId + &apos;&amp;title=&apos; + this.data.news.title + &apos;&amp;from=&apos; + this.data.news.from + &apos;&amp;image=&apos; + this.data.news.image + &apos;&amp;content=&apos; + this.data.news.content + &apos;&apos;
           })
         }
       }
     }
   })
 }," title="" data-original-title="&#x590D;&#x5236;"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span>
      </div>
      </div><pre class="hljs kotlin"><code>   <span class="hljs-keyword">var</span> that = <span class="hljs-keyword">this</span>;
   <span class="hljs-keyword">var</span> id = that.<span class="hljs-keyword">data</span>.new.id;<span class="hljs-comment">//&#x83B7;&#x53D6;&#x6587;&#x7AE0;id</span>
   <span class="hljs-keyword">if</span> (id === <span class="hljs-string">&apos;n8&apos;</span>) {<span class="hljs-comment">//&#x5224;&#x65AD;&#x662F;&#x5426;&#x4E3A;&#x6700;&#x540E;&#x4E00;&#x7BC7;</span>
     wx.showModal({
       title: <span class="hljs-string">&apos;&#x63D0;&#x793A;&apos;</span>,
       content: <span class="hljs-string">&apos;&#x6CA1;&#x6709;&#x66F4;&#x591A;&#x5185;&#x5BB9;&#x4E86;&apos;</span>,
       showCancel: <span class="hljs-literal">false</span>,
       success: function (res) {
       } })
       <span class="hljs-keyword">return</span>; <span class="hljs-comment">//&#x4E3A;&#x6700;&#x540E;&#x4E00;&#x7BC7;&#x5219;&#x65E0;&#x9700;&#x8BF7;&#x6C42;&#x6570;&#x636E;</span>
   }
   wx.request({
     url: API_BASE,
     success: (res) =&gt; {
       <span class="hljs-keyword">for</span> (let i = <span class="hljs-number">0</span>; i &lt; res.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">data</span>.new.length; i++) {
         <span class="hljs-keyword">if</span> (id === res.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">data</span>.new[i].contentId) { <span class="hljs-comment">//&#x5224;&#x65AD;&#x662F;&#x5426;&#x8BF7;&#x6C42;&#x5230;&#x5BF9;&#x5E94;&#x6570;&#x636E;</span>
          <span class="hljs-comment">// console.log(&quot;&#x627E;&#x5230;&#x4E86;&quot;);</span>
           <span class="hljs-keyword">this</span>.setData({
             news: res.<span class="hljs-keyword">data</span>.<span class="hljs-keyword">data</span>.new[i + <span class="hljs-number">1</span>],<span class="hljs-comment">//&#x5C06;&#x8BF7;&#x6C42;&#x5230;&#x6570;&#x636E;&#x7684;&#x6570;&#x636E;&#x4F20;&#x5165;</span>
           })
           <span class="hljs-keyword">var</span> it = <span class="hljs-keyword">this</span>;
           wx.navigateTo({
             url: <span class="hljs-string">&apos;news?id=&apos;</span> + <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.news.contentId + <span class="hljs-string">&apos;&amp;title=&apos;</span> + <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.news.title + <span class="hljs-string">&apos;&amp;from=&apos;</span> + <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.news.from + <span class="hljs-string">&apos;&amp;image=&apos;</span> + <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.news.image + <span class="hljs-string">&apos;&amp;content=&apos;</span> + <span class="hljs-keyword">this</span>.<span class="hljs-keyword">data</span>.news.content + <span class="hljs-string">&apos;&apos;</span>
           })
         }
       }
     }
   })
 },</code></pre>
<h2 id="articleHeader4">&#x5199;&#x5728;&#x6700;&#x540E;</h2>
<p>&#x5728;&#x5199;&#x9879;&#x76EE;&#x4E2D;&#x8FD8;&#x6709;&#x78B0;&#x5230;&#x8BB8;&#x591A;&#x95EE;&#x9898;,video&#x9ED1;&#x8FB9; scroll-view&#x6587;&#x5B57;&#x6362;&#x884C;&#x7B49;&#x95EE;&#x9898;&#xFF0C;&#x5927;&#x5BB6;&#x767E;&#x5EA6;&#x6216;&#x8005;&#x67E5;&#x770B;&#x5B98;&#x65B9;&#x6587;&#x6863;&#x5927;&#x90FD;&#x80FD;&#x89E3;&#x51B3;&#x3002;   <br>&#x7531;&#x4E8E;&#x662F;&#x521D;&#x5B66;&#x5C0F;&#x7A0B;&#x5E8F;&#x4E0D;&#x4E45;&#xFF0C;&#x5F88;&#x591A;&#x65B9;&#x9762;&#x6CA1;&#x6709;&#x8003;&#x8651;&#x597D; &#x6CA1;&#x6709;&#x5BF9;request&#x7B49;&#x8FDB;&#x884C;&#x5C01;&#x88C5;&#xFF0C;&#x6A21;&#x5757;&#x7EC4;&#x4EF6;&#x5316;&#xFF0C;&#x5199;&#x4E86;&#x5F88;&#x591A;&#x91CD;&#x590D;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x4E0D;&#x8FC7;&#x8FD9;&#x90FD;&#x4E0D;&#x662F;&#x4E8B;&#xFF0C;&#x8C01;&#x4E0D;&#x662F;&#x5148;&#x722C;&#x518D;&#x8DD1;&#x7684;!  <br>&#x60F3;&#x4E86;&#x89E3;&#x66F4;&#x591A;&#x53EF;&#x4EE5;<a href="https://github.com/dzyook/dzy_js_fullstack/tree/master/wxapp/nba" rel="nofollow noreferrer" target="_blank">&#x67E5;&#x770B;&#x6211;&#x7684;&#x9879;&#x76EE;</a><br>&#x6B22;&#x8FCE;&#x5927;&#x5BB6;&#x63D0;&#x4F9B;&#x5B9D;&#x8D35;&#x7684;&#x5EFA;&#x8BAE;&#x548C;&#x610F;&#x89C1;&#xFF0C;&#x793E;&#x533A;&#x91CD;&#x5728;&#x5206;&#x4EAB;&#xFF0C;&#x6709;&#x5565;&#x597D;&#x4E1C;&#x897F;&#x5C31;&#x522B;&#x85CF;&#x7740;&#x5566;</p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000015202398?w=343&amp;h=220" src="https://static.alili.tech/img/remote/1460000015202398?w=343&amp;h=220" alt="" title="" style="cursor: pointer; display: inline;"></span></p>

                
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
我去！又是勇士和骑士？--NBA资讯小程序

## 原文链接
[https://segmentfault.com/a/1190000015202386](https://segmentfault.com/a/1190000015202386)


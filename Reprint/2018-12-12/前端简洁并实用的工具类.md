---
title: '前端简洁并实用的工具类' 
date: 2018-12-12 2:30:10
hidden: true
slug: 2fu1jqb2mkc
categories: [reprint]
---

{{< raw >}}

                    
<h2 id="articleHeader0">前言</h2>
<p>本文主要从日期,数组,对象,axios,promise和字符判断这几个方面讲工作中常用的一些函数进行了封装,确实可以在项目中直接引用,提高开发效率.</p>
<h2 id="articleHeader1">1.日期</h2>
<p>日期在后台管理系统还是用的很多的,一般是作为数据存贮和管理的一个维度,所以就会涉及到很多对日期的处理</p>
<h3 id="articleHeader2">1.1 new Date转化为yyyy-MM-dd HH:mm:ss</h3>
<p><span class="img-wrap"><img data-src="/img/bV4s9G?w=356&amp;h=47" src="https://static.alili.tech/img/bV4s9G?w=356&amp;h=47" alt="图片描述" title="图片描述" style="cursor: pointer; display: inline;"></span></p>
<p>DatePicker日期选择器默认获取到的日期默认是Date对象,但是我们后台需要用到的是yyyy-MM-dd,所以需要我们进行转化</p>
<p>方法一:将Fri Mar 23 2018 12:19:48 GMT+0800 (国际时间)转化为dd-MM-yyyy HH:mm:ss</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="
export const dateToFormat=(date)=>{
    date.toLocaleString(&quot;en-US&quot;, { hour12: false }).replace(/\b\d\b/g, '0$&amp;').replace(new RegExp('/','gm'),'-')
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code>
<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> dateToFormat=<span class="hljs-function">(<span class="hljs-params">date</span>)=&gt;</span>{
    date.toLocaleString(<span class="hljs-string">"en-US"</span>, { <span class="hljs-attr">hour12</span>: <span class="hljs-literal">false</span> }).replace(<span class="hljs-regexp">/\b\d\b/g</span>, <span class="hljs-string">'0$&amp;'</span>).replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'/'</span>,<span class="hljs-string">'gm'</span>),<span class="hljs-string">'-'</span>)
}
</code></pre>
<p>方法二:<br>从element-UI的2.x版本提供了value-format属性,可以直接设置选择器返回的值<br><span class="img-wrap"><img data-src="/img/bV4tgf?w=904&amp;h=342" src="https://static.alili.tech/img/bV4tgf?w=904&amp;h=342" alt="图片描述" title="图片描述" style="cursor: pointer;"></span></p>
<h3 id="articleHeader3">1.2 将yyyy-MM-dd转化为new Date()</h3>
<p>也就是转化为日期控件可以接受的类型</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const forMatToDate=(date)=>{
       let dateArr=date.split(':');
  return new Date(2017,10,19,dateArr[0],dateArr[1],dateArr[2]);
    }
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> forMatToDate=<span class="hljs-function">(<span class="hljs-params">date</span>)=&gt;</span>{
       <span class="hljs-keyword">let</span> dateArr=date.split(<span class="hljs-string">':'</span>);
  <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-number">2017</span>,<span class="hljs-number">10</span>,<span class="hljs-number">19</span>,dateArr[<span class="hljs-number">0</span>],dateArr[<span class="hljs-number">1</span>],dateArr[<span class="hljs-number">2</span>]);
    }
</code></pre>
<blockquote>有个坑,日期中初始化默认比实际设置的值大一</blockquote>
<h3 id="articleHeader4">1.3 获取当前的时间yyyy-MM-dd HH:mm:ss</h3>
<p>没有满10就补0</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export default const obtainDate=()=>{
 let date = new Date();
      let year = date.getFullYear();
      let month = date.getMonth() + 1;
      let day=date.getDate();
      let hours=date.getHours();
      let minu=date.getMinutes();
      let second=date.getSeconds();
      //判断是否满10
      let arr=[month,day,hours,minu,second];
      arr.forEach(item=>{
        item< 10?&quot;0&quot;+item:item;
      })
      return year+'-'+arr[0]+'-'+arr[1]+' '+arr[2]+':'+arr[3]+':'+arr[4]      
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">const</span> obtainDate=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
 <span class="hljs-keyword">let</span> date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>();
      <span class="hljs-keyword">let</span> year = date.getFullYear();
      <span class="hljs-keyword">let</span> month = date.getMonth() + <span class="hljs-number">1</span>;
      <span class="hljs-keyword">let</span> day=date.getDate();
      <span class="hljs-keyword">let</span> hours=date.getHours();
      <span class="hljs-keyword">let</span> minu=date.getMinutes();
      <span class="hljs-keyword">let</span> second=date.getSeconds();
      <span class="hljs-comment">//判断是否满10</span>
      <span class="hljs-keyword">let</span> arr=[month,day,hours,minu,second];
      arr.forEach(<span class="hljs-function"><span class="hljs-params">item</span>=&gt;</span>{
        item&lt; <span class="hljs-number">10</span>?<span class="hljs-string">"0"</span>+item:item;
      })
      <span class="hljs-keyword">return</span> year+<span class="hljs-string">'-'</span>+arr[<span class="hljs-number">0</span>]+<span class="hljs-string">'-'</span>+arr[<span class="hljs-number">1</span>]+<span class="hljs-string">' '</span>+arr[<span class="hljs-number">2</span>]+<span class="hljs-string">':'</span>+arr[<span class="hljs-number">3</span>]+<span class="hljs-string">':'</span>+arr[<span class="hljs-number">4</span>]      
}</code></pre>
<h3 id="articleHeader5">1.4 将时间戳转化为yyyy-MM-dd HH:mm:ss</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export default const returnTimestamp=(strTime)=>{
  let middleDate=new Date(strTime)
  return middleDate.toLocaleString('zh-CN',{hour12:false}).replace(/\b\d\b/g, '0$&amp;').replace(new RegExp('/','gm'),'-')
})   
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">const</span> returnTimestamp=<span class="hljs-function">(<span class="hljs-params">strTime</span>)=&gt;</span>{
  <span class="hljs-keyword">let</span> middleDate=<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(strTime)
  <span class="hljs-keyword">return</span> middleDate.toLocaleString(<span class="hljs-string">'zh-CN'</span>,{<span class="hljs-attr">hour12</span>:<span class="hljs-literal">false</span>}).replace(<span class="hljs-regexp">/\b\d\b/g</span>, <span class="hljs-string">'0$&amp;'</span>).replace(<span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'/'</span>,<span class="hljs-string">'gm'</span>),<span class="hljs-string">'-'</span>)
})   
</code></pre>
<h3 id="articleHeader6">1.5 比较yyyy-MM-dd时间大小</h3>
<p>如果单个比较会比较复杂,这里直接处理成Number比较</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export default const compareTwo=(dateOne,dateTwo)=>{
    return Number(dateOne.replace(/\-/g,&quot;&quot;))<Number(dateTwo.replace(/\-/g,&quot;&quot;))
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">const</span> compareTwo=<span class="hljs-function">(<span class="hljs-params">dateOne,dateTwo</span>)=&gt;</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Number</span>(dateOne.replace(<span class="hljs-regexp">/\-/g</span>,<span class="hljs-string">""</span>))&lt;<span class="hljs-built_in">Number</span>(dateTwo.replace(<span class="hljs-regexp">/\-/g</span>,<span class="hljs-string">""</span>))
}
</code></pre>
<h3 id="articleHeader7">1.6 计算两个日期格式为(yyyy-MM-dd)相差几个月</h3>
<p>export default const disparityFewMonth = (dateOne, dateTwo) =&gt; {</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="    let datesOne = dateOne.split('-').map(item => Number(item));
    let datesTwo = dateTwo.split('-').map(item => Number(item));
    const diff = [0, 0, 0].map((value, index) => {
        return datesOne[index] - datesTwo[index]
    });
    return (diff[0] * 12 + diff[1]) + '月' + diff[2] + '天'
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code>    <span class="hljs-keyword">let</span> datesOne = dateOne.split(<span class="hljs-string">'-'</span>).map(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-built_in">Number</span>(item));
    <span class="hljs-keyword">let</span> datesTwo = dateTwo.split(<span class="hljs-string">'-'</span>).map(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> <span class="hljs-built_in">Number</span>(item));
    <span class="hljs-keyword">const</span> diff = [<span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>].map(<span class="hljs-function">(<span class="hljs-params">value, index</span>) =&gt;</span> {
        <span class="hljs-keyword">return</span> datesOne[index] - datesTwo[index]
    });
    <span class="hljs-keyword">return</span> (diff[<span class="hljs-number">0</span>] * <span class="hljs-number">12</span> + diff[<span class="hljs-number">1</span>]) + <span class="hljs-string">'月'</span> + diff[<span class="hljs-number">2</span>] + <span class="hljs-string">'天'</span>
}</code></pre>
<h3 id="articleHeader8">1.7 new Date对象可接受的参数</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="1、new Date(&quot;month dd,yyyy hh:mm:ss&quot;); 
2、new Date(&quot;month dd,yyyy&quot;); 
3、new Date(yyyy,mth,dd,hh,mm,ss); 注意：这种方式下，必须传递整型；
4、new Date(yyyy,mth,dd); 
5、new Date(ms); 注意：ms:是需要创建的时间和 GMT时间1970年1月1日之间相差的毫秒数；当前时间与GMT1970.1.1之间的毫秒数：var mills = new Date().getTime();
注意:mth:用整数表示月份，从0（1月）到11（12月）
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs haxe"><code><span class="hljs-number">1</span>、<span class="hljs-keyword">new</span> <span class="hljs-type">Date</span>(<span class="hljs-string">"month dd,yyyy hh:mm:ss"</span>); 
<span class="hljs-number">2</span>、<span class="hljs-keyword">new</span> <span class="hljs-type">Date</span>(<span class="hljs-string">"month dd,yyyy"</span>); 
<span class="hljs-number">3</span>、<span class="hljs-keyword">new</span> <span class="hljs-type">Date</span>(yyyy,mth,dd,hh,mm,ss); 注意：这种方式下，必须传递整型；
<span class="hljs-number">4</span>、<span class="hljs-keyword">new</span> <span class="hljs-type">Date</span>(yyyy,mth,dd); 
<span class="hljs-number">5</span>、<span class="hljs-keyword">new</span> <span class="hljs-type">Date</span>(ms); 注意：ms:<span class="hljs-type"></span>是需要创建的时间和 GMT时间<span class="hljs-number">1970</span>年<span class="hljs-number">1</span>月<span class="hljs-number">1</span>日之间相差的毫秒数；当前时间与GMT1970<span class="hljs-number">.1</span><span class="hljs-number">.1</span>之间的毫秒数：<span class="hljs-keyword">var</span> mills = <span class="hljs-keyword">new</span> <span class="hljs-type">Date</span>().getTime();
注意:<span class="hljs-type">mth</span>:用整数表示月份，从<span class="hljs-number">0</span>（<span class="hljs-number">1</span>月）到<span class="hljs-number">11</span>（<span class="hljs-number">12</span>月）
</code></pre>
<h3 id="articleHeader9">1.8 生成标识id</h3>
<p>格式为时间戳的后8位加4位随机数</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export default const disparityFewMonth = (dateOne, dateTwo) => {
    let num='';
    for (var i = 0; i < 4; i++) {
        num += Math.floor(Math.random() * 10);
    }
    return imgId = String(new Date().getTime()).slice(-8)+String(num);" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">const</span> disparityFewMonth = <span class="hljs-function">(<span class="hljs-params">dateOne, dateTwo</span>) =&gt;</span> {
    <span class="hljs-keyword">let</span> num=<span class="hljs-string">''</span>;
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-number">4</span>; i++) {
        num += <span class="hljs-built_in">Math</span>.floor(<span class="hljs-built_in">Math</span>.random() * <span class="hljs-number">10</span>);
    }
    <span class="hljs-keyword">return</span> imgId = <span class="hljs-built_in">String</span>(<span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getTime()).slice(<span class="hljs-number">-8</span>)+<span class="hljs-built_in">String</span>(num);</code></pre>
<p>}</p>
<h2 id="articleHeader10">2.数组</h2>
<h3 id="articleHeader11">2.1 检测是否是数组</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export default const judgeArr=(arr)=>{
        if(Array.isArray(arr)){
            return true;
        }
    }
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> <span class="hljs-keyword">const</span> judgeArr=<span class="hljs-function">(<span class="hljs-params">arr</span>)=&gt;</span>{
        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">Array</span>.isArray(arr)){
            <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
        }
    }
</code></pre>
<h3 id="articleHeader12">2.2数组去重set方法</h3>
<p>1.常见利用循环和indexOf(ES5的数组方法,可以返回值在数组中第一次出现的位置)这里就不再详写,这里介绍一种利用ES6的set实现去重.</p>
<p>2.set是新怎数据结构,似于数组，但它的一大特性就是所有元素都是唯一的.</p>
<p>3.set常见操作<br>大家可以参照下面这个:<a href="https://www.cnblogs.com/kongxianghai/p/7250248.html" rel="nofollow noreferrer" target="_blank">新增数据结构Set的用法</a></p>
<p>4.set去重代码</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const changeReArr=(arr)=>{
    return Array.from(new Set([1,2,2,3,5,4,5]))//利用set将[1,2,2,3,5,4,5]转化成set数据,利用array from将set转化成数组类型
}

或者
export const changeReArr=(arr)=>{
    return [...new Set([1,2,2,3,5,4,5])]//利用...扩展运算符将set中的值遍历出来重新定义一个数组,...是利用for...of遍历的
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs coffeescript"><code><span class="hljs-keyword">export</span> const changeReArr=<span class="hljs-function"><span class="hljs-params">(arr)</span>=&gt;</span>{
    <span class="hljs-keyword">return</span> Array.<span class="hljs-keyword">from</span>(<span class="hljs-keyword">new</span> Set([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]))<span class="hljs-regexp">//</span>利用set将[<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>]转化成set数据,利用array <span class="hljs-keyword">from</span>将set转化成数组类型
}

或者
<span class="hljs-keyword">export</span> const changeReArr=<span class="hljs-function"><span class="hljs-params">(arr)</span>=&gt;</span>{
    <span class="hljs-keyword">return</span> [...<span class="hljs-keyword">new</span> Set([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,<span class="hljs-number">5</span>,<span class="hljs-number">4</span>,<span class="hljs-number">5</span>])]<span class="hljs-regexp">//</span>利用...扩展运算符将set中的值遍历出来重新定义一个数组,...是利用<span class="hljs-keyword">for</span>...<span class="hljs-keyword">of</span>遍历的
}
</code></pre>
<p>Array.from可以把带有lenght属性类似数组的对象转换为数组，也可以把字符串等可以遍历的对象转换为数组，它接收2个参数，转换对象与回调函数,...和Array.from都是ES6的方法</p>
<h3 id="articleHeader13">2.3 纯数组排序</h3>
<p>常见有冒泡和选择,这里我写一下利用sort排序</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" export const orderArr=(arr)=>{
        arr.sort((a,b)=>{
            return a-b //将arr升序排列,如果是倒序return -(a-b)
        })
    }
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs coffeescript"><code> <span class="hljs-keyword">export</span> const orderArr=<span class="hljs-function"><span class="hljs-params">(arr)</span>=&gt;</span>{
        arr.sort(<span class="hljs-function"><span class="hljs-params">(a,b)</span>=&gt;</span>{
            <span class="hljs-keyword">return</span> a-b <span class="hljs-regexp">//</span>将arr升序排列,如果是倒序<span class="hljs-keyword">return</span> -(a-b)
        })
    }
</code></pre>
<h3 id="articleHeader14">2.4 数组对象排序</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const orderArr=(arr)=>{
        arr.sort((a,b)=>{
            let value1 = a[property];
            let value2 = b[property];
            return value1 - value2;//sort方法接收一个函数作为参数，这里嵌套一层函数用
            //来接收对象属性名，其他部分代码与正常使用sort方法相同
        })
    }      
    " title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> orderArr=<span class="hljs-function">(<span class="hljs-params">arr</span>)=&gt;</span>{
        arr.sort(<span class="hljs-function">(<span class="hljs-params">a,b</span>)=&gt;</span>{
            <span class="hljs-keyword">let</span> value1 = a[property];
            <span class="hljs-keyword">let</span> value2 = b[property];
            <span class="hljs-keyword">return</span> value1 - value2;<span class="hljs-comment">//sort方法接收一个函数作为参数，这里嵌套一层函数用</span>
            <span class="hljs-comment">//来接收对象属性名，其他部分代码与正常使用sort方法相同</span>
        })
    }      
    </code></pre>
<h3 id="articleHeader15">2.5 数组中的最大值</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const maxArr=(arr)=>{
    return Math.max(...arr)
 }
 
 或者export const maxArr=(arr)=>{
    return Math.max.apply(null,arr)
 }
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> maxArr=<span class="hljs-function">(<span class="hljs-params">arr</span>)=&gt;</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.max(...arr)
 }
 
 或者<span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> maxArr=<span class="hljs-function">(<span class="hljs-params">arr</span>)=&gt;</span>{
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.max.apply(<span class="hljs-literal">null</span>,arr)
 }
</code></pre>
<h3 id="articleHeader16">2.6 数组的"短路运算"every和some</h3>
<p>数组短路运算这个名字是我自己加的,因为一般有这样一种需求,一个数组里面某个或者全部满足条件,就返回true</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="情况一:全部满足

    export const allTrueArr=(arrs)=>{
          return arr.every((arr)=>{
             return arr>20;//如果数组的每一项都满足则返回true,如果有一项不满足返回false,终止遍历
          })  
    }

情况二:有一个满足
export default const OneTrueArr=(arrs)=>{
      return arr.some((arr)=>{
         return arr>20;//如果数组有一项满足则返回true,终止遍历,每一项都不满足则返回false
      })  
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs coffeescript"><code>情况一:全部满足

    <span class="hljs-keyword">export</span> const allTrueArr=<span class="hljs-function"><span class="hljs-params">(arrs)</span>=&gt;</span>{
          <span class="hljs-keyword">return</span> arr.every(<span class="hljs-function"><span class="hljs-params">(arr)</span>=&gt;</span>{
             <span class="hljs-keyword">return</span> arr&gt;<span class="hljs-number">20</span>;<span class="hljs-regexp">//</span>如果数组的每一项都满足则返回<span class="hljs-literal">true</span>,如果有一项不满足返回<span class="hljs-literal">false</span>,终止遍历
          })  
    }

情况二:有一个满足
<span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> const OneTrueArr=<span class="hljs-function"><span class="hljs-params">(arrs)</span>=&gt;</span>{
      <span class="hljs-keyword">return</span> arr.some(<span class="hljs-function"><span class="hljs-params">(arr)</span>=&gt;</span>{
         <span class="hljs-keyword">return</span> arr&gt;<span class="hljs-number">20</span>;<span class="hljs-regexp">//</span>如果数组有一项满足则返回<span class="hljs-literal">true</span>,终止遍历,每一项都不满足则返回<span class="hljs-literal">false</span>
      })  
}
</code></pre>
<p>以上两种情景就和||和&amp;&amp;的短路运算很相似,所以我就起了一个名字叫短路运算,当然两种情况都可以通过遍历去判断每一项然后用break和return false 结束循环和函数.</p>
<h3 id="articleHeader17">2.7 数组过滤filter和处理map方法</h3>
<p>filter:过滤满足某一条件的数组值,并返回新数组</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const filterArr = (arr, operator, judgeVal) => {
      return arr.filter(item => {
        if (operator == '>') {
          return item > judgeVal;
        } else if (operator == '<') {
          return item > judgeVal;
        } else if (operator == '==') {
          return item == judgeVal;
        }
      })
    }
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs dart"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> filterArr = (arr, <span class="hljs-keyword">operator</span>, judgeVal) =&gt; {
      <span class="hljs-keyword">return</span> arr.filter(item =&gt; {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">operator</span> == <span class="hljs-string">'&gt;'</span>) {
          <span class="hljs-keyword">return</span> item &gt; judgeVal;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">operator</span> == <span class="hljs-string">'&lt;'</span>) {
          <span class="hljs-keyword">return</span> item &gt; judgeVal;
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">operator</span> == <span class="hljs-string">'=='</span>) {
          <span class="hljs-keyword">return</span> item == judgeVal;
        }
      })
    }
</code></pre>
<p>map:对数组进行处理返回一个新数组</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const mapArr = (arr) => {
  return arr.map(item => item + 10;)//箭头函数的{}如果省略,则会默认返回,不用写return
 }
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> mapArr = <span class="hljs-function">(<span class="hljs-params">arr</span>) =&gt;</span> {
  <span class="hljs-keyword">return</span> arr.map(<span class="hljs-function"><span class="hljs-params">item</span> =&gt;</span> item + <span class="hljs-number">10</span>;)<span class="hljs-comment">//箭头函数的{}如果省略,则会默认返回,不用写return</span>
 }
</code></pre>
<h3 id="articleHeader18">2.8将多维数组转化为一维的类</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="Array.prototype.flat = function() {
    var arr = [];
    this.forEach((item,idx) => {
        if(Array.isArray(item)) {
            arr = arr.concat(item.flat()); //递归去处理数组元素
        } else {
            arr.push(item)   //非数组直接push进去
        }
    })
    return arr;   //递归出口
}
测试用例：
arr = [[2],[[2,3,[4,5,[7,8]]],[2]],3,4]
console.log(arr.flat());
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-built_in">Array</span>.prototype.flat = <span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> arr = [];
    <span class="hljs-keyword">this</span>.forEach(<span class="hljs-function">(<span class="hljs-params">item,idx</span>) =&gt;</span> {
        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">Array</span>.isArray(item)) {
            arr = arr.concat(item.flat()); <span class="hljs-comment">//递归去处理数组元素</span>
        } <span class="hljs-keyword">else</span> {
            arr.push(item)   <span class="hljs-comment">//非数组直接push进去</span>
        }
    })
    <span class="hljs-keyword">return</span> arr;   <span class="hljs-comment">//递归出口</span>
}
测试用例：
arr = [[<span class="hljs-number">2</span>],[[<span class="hljs-number">2</span>,<span class="hljs-number">3</span>,[<span class="hljs-number">4</span>,<span class="hljs-number">5</span>,[<span class="hljs-number">7</span>,<span class="hljs-number">8</span>]]],[<span class="hljs-number">2</span>]],<span class="hljs-number">3</span>,<span class="hljs-number">4</span>]
<span class="hljs-built_in">console</span>.log(arr.flat());
</code></pre>
<h2 id="articleHeader19">3.对象</h2>
<h3 id="articleHeader20">3.1 对象遍历</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const traverseObj=(obj)=>{
        for(let variable in obj){
        //For…in遍历对象包括所有继承的属性,所以如果
         //只是想使用对象本身的属性需要做一个判断
        if(obj.hasOwnProperty(variable)){
            console.log(variable,obj[variable])
        }
        }
    }
    " title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> traverseObj=<span class="hljs-function">(<span class="hljs-params">obj</span>)=&gt;</span>{
        <span class="hljs-keyword">for</span>(<span class="hljs-keyword">let</span> variable <span class="hljs-keyword">in</span> obj){
        <span class="hljs-comment">//For…in遍历对象包括所有继承的属性,所以如果</span>
         <span class="hljs-comment">//只是想使用对象本身的属性需要做一个判断</span>
        <span class="hljs-keyword">if</span>(obj.hasOwnProperty(variable)){
            <span class="hljs-built_in">console</span>.log(variable,obj[variable])
        }
        }
    }
    </code></pre>
<h3 id="articleHeader21">3.2 对象的数据属性</h3>
<p>1.对象属性分类:数据属性和访问器属性;</p>
<p>2.数据属性:包含数据值的位置,可读写,包含四个特性包含四个特性：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="configurable：表示能否通过delete删除属性从而重新定义属性，能否修改属性的特性，或能否把属性修改为访问器属性，默认为true
 enumerable:表示能否通过for-in循环返回属性
 writable：表示能否修改属性的值
 value：包含该属性的数据值。默认为undefined
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs actionscript"><code>configurable：表示能否通过<span class="hljs-keyword">delete</span>删除属性从而重新定义属性，能否修改属性的特性，或能否把属性修改为访问器属性，默认为<span class="hljs-literal">true</span>
 enumerable:表示能否通过<span class="hljs-keyword">for</span>-<span class="hljs-keyword">in</span>循环返回属性
 writable：表示能否修改属性的值
 value：包含该属性的数据值。默认为<span class="hljs-literal">undefined</span>
</code></pre>
<p>3.修改数据属性的默认特性,利用Object.defineProperty()</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" export const modifyObjAttr=()=>{
  let person={name:'张三',age:30};
  Object.defineProperty(person,'name',{
    writable:false,
    value:'李四',
    configurable:false,//设置false就不能对该属性修改
    enumerable:false
  })
} 
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code> <span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> modifyObjAttr=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
  <span class="hljs-keyword">let</span> person={<span class="hljs-attr">name</span>:<span class="hljs-string">'张三'</span>,<span class="hljs-attr">age</span>:<span class="hljs-number">30</span>};
  <span class="hljs-built_in">Object</span>.defineProperty(person,<span class="hljs-string">'name'</span>,{
    <span class="hljs-attr">writable</span>:<span class="hljs-literal">false</span>,
    <span class="hljs-attr">value</span>:<span class="hljs-string">'李四'</span>,
    <span class="hljs-attr">configurable</span>:<span class="hljs-literal">false</span>,<span class="hljs-comment">//设置false就不能对该属性修改</span>
    enumerable:<span class="hljs-literal">false</span>
  })
} 
</code></pre>
<h3 id="articleHeader22">3.3 对象的访问器属性</h3>
<p>1.访问器属性的四个特性:</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="configurable：表示能否通过delete删除属性从而重新定义属性，能否修改属性的特性，或能否把属性修改为访问器属性，默认为false

 enumerable:表示能否通过for-in循环返回属性,默认为false

 Get：在读取属性时调用的函数,默认值为undefined

 Set：在写入属性时调用的函数,默认值为undefined 

" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code>configurable：表示能否通过<span class="hljs-keyword">delete</span>删除属性从而重新定义属性，能否修改属性的特性，或能否把属性修改为访问器属性，默认为<span class="hljs-literal">false</span>

 enumerable:表示能否通过<span class="hljs-keyword">for</span>-<span class="hljs-keyword">in</span>循环返回属性,默认为<span class="hljs-literal">false</span>

 Get：在读取属性时调用的函数,默认值为<span class="hljs-literal">undefined</span>

 <span class="hljs-built_in">Set</span>：在写入属性时调用的函数,默认值为<span class="hljs-literal">undefined</span> 

</code></pre>
<p>2.定义:<br>访问器属性只能通过要通过Object.defineProperty()这个方法来定义</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const defineObjAccess=()=>{
let personAccess={
    _name:'张三',//_表示是内部属性,只能通过对象的方法修改
    editor:1
  }
  Object.defineProperty(personAccess,'name',{
    get:function(){
      return this._name;
    },
    set:function(newName){
      if(newName!==this._name){
        this._name=newName;
        this.editor++;
      }
    }
    //如果只定义了get方法则改对象只能读
  })
}
  " title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> defineObjAccess=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
<span class="hljs-keyword">let</span> personAccess={
    <span class="hljs-attr">_name</span>:<span class="hljs-string">'张三'</span>,<span class="hljs-comment">//_表示是内部属性,只能通过对象的方法修改</span>
    editor:<span class="hljs-number">1</span>
  }
  <span class="hljs-built_in">Object</span>.defineProperty(personAccess,<span class="hljs-string">'name'</span>,{
    <span class="hljs-attr">get</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)</span>{
      <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>._name;
    },
    <span class="hljs-attr">set</span>:<span class="hljs-function"><span class="hljs-keyword">function</span>(<span class="hljs-params">newName</span>)</span>{
      <span class="hljs-keyword">if</span>(newName!==<span class="hljs-keyword">this</span>._name){
        <span class="hljs-keyword">this</span>._name=newName;
        <span class="hljs-keyword">this</span>.editor++;
      }
    }
    <span class="hljs-comment">//如果只定义了get方法则改对象只能读</span>
  })
}
  </code></pre>
<p>vue中最核心的响应式原理的核心就是通过defineProperty来劫持数据的getters和setter属性来改变数据的</p>
<h3 id="articleHeader23">3.4对象或对象数组的深度拷贝</h3>
<p>原生方法一：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const deepClone=function(origin,target){
    var target = target || {}; //定义target
    for(var key in origin) {  //遍历原对象
        if(origin.hasOwnProperty(key)) {
            if(Array.isArray(origin[key])) { //如果是数组
                target[key] = [];
                deepClone(origin[key],target[key]) //递归
            } else if (typeof origin[key] === 'object' &amp;&amp; origin[key] !== null) {
                target[key] = {};
                deepClone(origin[key],target[key]) //递归
            }
            target[key] = origin[key];
        }
    }
    return target;
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs maxima"><code>export const deepClone=function(<span class="hljs-built_in">origin</span>,target){
    <span class="hljs-built_in">var</span> target = target || {}; //定义target
    <span class="hljs-keyword">for</span>(<span class="hljs-built_in">var</span> <span class="hljs-built_in">key</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">origin</span>) {  //遍历原对象
        <span class="hljs-keyword">if</span>(<span class="hljs-built_in">origin</span>.hasOwnProperty(<span class="hljs-built_in">key</span>)) {
            <span class="hljs-keyword">if</span>(Array.isArray(<span class="hljs-built_in">origin</span>[<span class="hljs-built_in">key</span>])) { //如果是数组
                target[<span class="hljs-built_in">key</span>] = [];
                deepClone(<span class="hljs-built_in">origin</span>[<span class="hljs-built_in">key</span>],target[<span class="hljs-built_in">key</span>]) //递归
            } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (typeof <span class="hljs-built_in">origin</span>[<span class="hljs-built_in">key</span>] === 'object' &amp;&amp; <span class="hljs-built_in">origin</span>[<span class="hljs-built_in">key</span>] !== null) {
                target[<span class="hljs-built_in">key</span>] = {};
                deepClone(<span class="hljs-built_in">origin</span>[<span class="hljs-built_in">key</span>],target[<span class="hljs-built_in">key</span>]) //递归
            }
            target[<span class="hljs-built_in">key</span>] = <span class="hljs-built_in">origin</span>[<span class="hljs-built_in">key</span>];
        }
    }
    <span class="hljs-built_in">return</span> target;
}
</code></pre>
<p>方法二：Object.assign</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="Object.assign(objOne,objTwo);
//该方法是一个伪深度拷贝，如果改变对象里面的数组值还是会改变被拷贝的值
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs ceylon"><code>Object.<span class="hljs-keyword">assign</span>(objOne,objTwo);
<span class="hljs-comment">//该方法是一个伪深度拷贝，如果改变对象里面的数组值还是会改变被拷贝的值</span>
</code></pre>
<p>方法三：JSON.stringify<br> let objNew=JSON.parse(JSON.stringify(obj)) ;<br>  //可以实现深度拷贝</p>
<h2 id="articleHeader24">3.5 找出字符中出现频次最多的字符</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const findMaxStr(str){
    let o = {};
    for (let char of str) {
      if (o[char]) { //char就是对象o的一个属性，o[char]是属性值，o[char]控制出现的次数
        o[char]++; //次数加1
      } else {
        o[char] = 1; //若第一次出现，次数记为1
      }
    }
    console.log(o); //输出的是完整的对象，记录着每一个字符及其出现的次数
    //遍历对象，找到出现次数最多的字符和次数
    let max = 0;
    let maxChar = null;
    for (let key in o) {
      if (max < o[key]) {
        max = o[key]; //max始终储存次数最大的那个
        maxChar = key; //那么对应的字符就是当前的key
      }
    }
    console.log(&quot;最多的字符是&quot; + maxChar);
    console.log(&quot;出现的次数是&quot; + max);
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs processing"><code>export <span class="hljs-keyword">const</span> findMaxStr(<span class="hljs-built_in">str</span>){
    let o = {};
    <span class="hljs-keyword">for</span> (let <span class="hljs-built_in">char</span> of <span class="hljs-built_in">str</span>) {
      <span class="hljs-keyword">if</span> (o[<span class="hljs-built_in">char</span>]) { <span class="hljs-comment">//char就是对象o的一个属性，o[char]是属性值，o[char]控制出现的次数</span>
        o[<span class="hljs-built_in">char</span>]++; <span class="hljs-comment">//次数加1</span>
      } <span class="hljs-keyword">else</span> {
        o[<span class="hljs-built_in">char</span>] = <span class="hljs-number">1</span>; <span class="hljs-comment">//若第一次出现，次数记为1</span>
      }
    }
    console.<span class="hljs-built_in">log</span>(o); <span class="hljs-comment">//输出的是完整的对象，记录着每一个字符及其出现的次数</span>
    <span class="hljs-comment">//遍历对象，找到出现次数最多的字符和次数</span>
    let <span class="hljs-built_in">max</span> = <span class="hljs-number">0</span>;
    let maxChar = <span class="hljs-keyword">null</span>;
    <span class="hljs-keyword">for</span> (let <span class="hljs-built_in">key</span> in o) {
      <span class="hljs-keyword">if</span> (<span class="hljs-built_in">max</span> &lt; o[<span class="hljs-built_in">key</span>]) {
        <span class="hljs-built_in">max</span> = o[<span class="hljs-built_in">key</span>]; <span class="hljs-comment">//max始终储存次数最大的那个</span>
        maxChar = <span class="hljs-built_in">key</span>; <span class="hljs-comment">//那么对应的字符就是当前的key</span>
      }
    }
    console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"最多的字符是"</span> + maxChar);
    console.<span class="hljs-built_in">log</span>(<span class="hljs-string">"出现的次数是"</span> + <span class="hljs-built_in">max</span>);
}
</code></pre>
<h2 id="articleHeader25">4.axios</h2>
<h3 id="articleHeader26">4.1 axios的get方法</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const getAjax= function (getUrl,getAjaxData) {
  return axios.get(getUrl, {
    params: {
      'getAjaxDataObj1': getAjaxData.obj1,//obj1为getAjaxData的一个属性
      'getAjaxDataObj2': getAjaxData.obj2
    }
  }).then(data=>{
      //成功返回
  }).catch(err=>{
      //错误返回
  })
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getAjax= <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">getUrl,getAjaxData</span>) </span>{
  <span class="hljs-keyword">return</span> axios.get(getUrl, {
    <span class="hljs-attr">params</span>: {
      <span class="hljs-string">'getAjaxDataObj1'</span>: getAjaxData.obj1,<span class="hljs-comment">//obj1为getAjaxData的一个属性</span>
      <span class="hljs-string">'getAjaxDataObj2'</span>: getAjaxData.obj2
    }
  }).then(<span class="hljs-function"><span class="hljs-params">data</span>=&gt;</span>{
      <span class="hljs-comment">//成功返回</span>
  }).catch(<span class="hljs-function"><span class="hljs-params">err</span>=&gt;</span>{
      <span class="hljs-comment">//错误返回</span>
  })
}
</code></pre>
<h3 id="articleHeader27">4.2 axios的post方法</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const postAjax= function (getUrl,postAjaxData) {
  return axios.post(postUrl, {
      'postAjaxDataObj1': postAjaxData.obj1,//obj1为postAjaxData的一个属性
      'postAjaxDataObj2': postAjaxData.obj2
  }).then(data=>{
      //成功返回
  }).catch(err=>{
      //错误返回
  })
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> postAjax= <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">getUrl,postAjaxData</span>) </span>{
  <span class="hljs-keyword">return</span> axios.post(postUrl, {
      <span class="hljs-string">'postAjaxDataObj1'</span>: postAjaxData.obj1,<span class="hljs-comment">//obj1为postAjaxData的一个属性</span>
      <span class="hljs-string">'postAjaxDataObj2'</span>: postAjaxData.obj2
  }).then(<span class="hljs-function"><span class="hljs-params">data</span>=&gt;</span>{
      <span class="hljs-comment">//成功返回</span>
  }).catch(<span class="hljs-function"><span class="hljs-params">err</span>=&gt;</span>{
      <span class="hljs-comment">//错误返回</span>
  })
}
</code></pre>
<h3 id="articleHeader28">4.3 axios的拦截器</h3>
<p>主要分为请求和响应两种拦截器,请求拦截一般就是配置对应的请求头信息(适用与常见请求方法,虽然ajax的get方法没有请求头,但是axios里面进行啦封装),响应一般就是对reponse进行拦截处理,如果返回结果为[]可以转化为0</p>
<p>1.请求拦截:将当前城市信息放入请求头中</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="axios.interceptors.request.use(config => {
  config.headers.cityCode = window.sessionStorage.cityCode //jsCookie.get('cityCode')
  return config
}),
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs stylus"><code>axios<span class="hljs-selector-class">.interceptors</span><span class="hljs-selector-class">.request</span><span class="hljs-selector-class">.use</span>(config =&gt; {
  config<span class="hljs-selector-class">.headers</span><span class="hljs-selector-class">.cityCode</span> = window<span class="hljs-selector-class">.sessionStorage</span><span class="hljs-selector-class">.cityCode</span> <span class="hljs-comment">//jsCookie.get('cityCode')</span>
  return config
}),
</code></pre>
<p>2.响应拦截:处理reponse的结果</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="axios.interceptors.response.use((response) =>{
  let data = response.data
  if(response.request.responseType === 'arraybuffer'&amp;&amp;!data.length){
    reponse.date=0
  }
})
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs haskell"><code><span class="hljs-title">axios</span>.interceptors.response.use((response) =&gt;{
  <span class="hljs-keyword">let</span> <span class="hljs-class"><span class="hljs-keyword">data</span> = response.<span class="hljs-keyword">data</span></span>
  <span class="hljs-keyword">if</span>(response.request.responseType === 'arraybuffer'&amp;&amp;!<span class="hljs-class"><span class="hljs-keyword">data</span>.length){
    <span class="hljs-title">reponse</span>.<span class="hljs-title">date</span>=0
  }</span>
})
</code></pre>
<h2 id="articleHeader29">5.promise</h2>
<p>promise是一种封装未来值的易于复用的异步任务管理机制,主要解决地狱回调和控制异步的顺序</p>
<h3 id="articleHeader30">5.1 应用方法一</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const promiseDemo=()=>{
new Promise((resolve,reject)=>{
    resolve(()=>{
        let a=1;
        return ++a;
    }).then((data)=>{
        console.log(data)//data值为++a的值
    }).catch(()=>{//错误执行这个

    })
})
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs coffeescript"><code><span class="hljs-keyword">export</span> const promiseDemo=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
<span class="hljs-keyword">new</span> Promise(<span class="hljs-function"><span class="hljs-params">(resolve,reject)</span>=&gt;</span>{
    resolve(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
        let a=<span class="hljs-number">1</span>;
        <span class="hljs-keyword">return</span> ++a;
    }).<span class="hljs-keyword">then</span>(<span class="hljs-function"><span class="hljs-params">(data)</span>=&gt;</span>{
        <span class="hljs-built_in">console</span>.log(data)<span class="hljs-regexp">//</span>data值为++a的值
    }).<span class="hljs-keyword">catch</span>(<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{<span class="hljs-regexp">//</span>错误执行这个

    })
})
}
</code></pre>
<h3 id="articleHeader31">5.2 应用方法二</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const promiseDemo=()=>{
Promise.resolve([1,2,3]).then((data)=>{//直接初始化一个Promise并执行resolve方法
    console.log(data)//data值为[1,2,3]
})
}

" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> promiseDemo=<span class="hljs-function"><span class="hljs-params">()</span>=&gt;</span>{
<span class="hljs-built_in">Promise</span>.resolve([<span class="hljs-number">1</span>,<span class="hljs-number">2</span>,<span class="hljs-number">3</span>]).then(<span class="hljs-function">(<span class="hljs-params">data</span>)=&gt;</span>{<span class="hljs-comment">//直接初始化一个Promise并执行resolve方法</span>
    <span class="hljs-built_in">console</span>.log(data)<span class="hljs-comment">//data值为[1,2,3]</span>
})
}

</code></pre>
<h2 id="articleHeader32">6.文本框的判断</h2>
<h3 id="articleHeader33">6.1 全部为数字</h3>
<p>方法一(最简单):</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const judgeNum1=(num1)=>{
    if(typeof num1=='number'){
        return true;
    }else{
        return false;
    }
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs coffeescript"><code><span class="hljs-keyword">export</span> const judgeNum1=<span class="hljs-function"><span class="hljs-params">(num1)</span>=&gt;</span>{
    <span class="hljs-keyword">if</span>(<span class="hljs-keyword">typeof</span> num1==<span class="hljs-string">'number'</span>){
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }<span class="hljs-keyword">else</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<p>方法二:isNaN</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const judgeNum1=(num1)=>{
    if(!isNaN(num1)){
        return true;
    }else{
        return false;
    }
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> judgeNum1=<span class="hljs-function">(<span class="hljs-params">num1</span>)=&gt;</span>{
    <span class="hljs-keyword">if</span>(!<span class="hljs-built_in">isNaN</span>(num1)){
        <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;
    }<span class="hljs-keyword">else</span>{
        <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;
    }
}
</code></pre>
<p>注:当num1为[]（空数组）、“”（空字符串)和null会在过程中转换为数字类型的0,所以也会返回false,从而判断为数字,所以可以将用typeof将以上特殊情况剔除.</p>
<p>方法三:正则</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const judgeNum1=(num1)=>{
  let reg=/^[0-9]*$/
  if(!reg.test(num1)){
    console.log('num1是0-9')
  }
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> judgeNum1=<span class="hljs-function">(<span class="hljs-params">num1</span>)=&gt;</span>{
  <span class="hljs-keyword">let</span> reg=<span class="hljs-regexp">/^[0-9]*$/</span>
  <span class="hljs-keyword">if</span>(!reg.test(num1)){
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'num1是0-9'</span>)
  }
}
</code></pre>
<h3 id="articleHeader34">6.2 只能为数字或字母</h3>
<p>这个用正则判断<br>定义一个正则:let reg=/^[0-9a-zA-Z]*$/g</p>
<h3 id="articleHeader35">6.3 只能为数字,字母和英文逗号</h3>
<p>因为存在输入多个编号,以英文逗号分隔的情况<br>定义一个正则:let reg=/^[0-9a-zA-Z,]*$/g</p>
<h3 id="articleHeader36">6.4 判断输入的位数不超过16位</h3>
<p>直接利用字符串新加的length属性来判断</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const judgeNum1=(num1)=>{
      if(num1.length>16){
        console.log('num1超过16位')
     }
 }" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs coffeescript"><code><span class="hljs-keyword">export</span> const judgeNum1=<span class="hljs-function"><span class="hljs-params">(num1)</span>=&gt;</span>{
      <span class="hljs-keyword">if</span>(num1.length&gt;<span class="hljs-number">16</span>){
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'num1超过16位'</span>)
     }
 }</code></pre>
<h3 id="articleHeader37">6.5 去掉字符左右空格</h3>
<p>export const trimLeOrRi=(str)=&gt;{ //删除左右两端的空格<br>　return str.replace(/(^s<em>)|(s</em>$)/g, "");<br>}</p>
<h2 id="articleHeader38">7. 检测是浏览器还是客户端</h2>
<p>其实本质都是利用navigator对象的userAgent属性<br> export const checkIosOrAndriod=(appMethod)=&gt;{</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="  let ua_ios = window.navigator.userAgent.toLowerCase().match(/lan1.0_iOS/i),
  ua_android = window.navigator.userAgent.toLowerCase().match(/RRJC3.0_Android/i),
  isAndroid = u.indexOf('Android') > -1 || u.indexOf('Linux') > -1; //android终端或者uc浏览器
  isiOS = !!u.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/); //ios终端
  ios_browser=
  if(ua_ios || ua_android){
    appMethod;//调用原生的方法
  }else if(isAndroid){      
    return '安卓browser访问'
  }else if(isIOS){      
    return 'ios的browser访问'
  }
},
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code>  <span class="hljs-keyword">let</span> ua_ios = <span class="hljs-built_in">window</span>.navigator.userAgent.toLowerCase().match(<span class="hljs-regexp">/lan1.0_iOS/i</span>),
  ua_android = <span class="hljs-built_in">window</span>.navigator.userAgent.toLowerCase().match(<span class="hljs-regexp">/RRJC3.0_Android/i</span>),
  isAndroid = u.indexOf(<span class="hljs-string">'Android'</span>) &gt; <span class="hljs-number">-1</span> || u.indexOf(<span class="hljs-string">'Linux'</span>) &gt; <span class="hljs-number">-1</span>; <span class="hljs-comment">//android终端或者uc浏览器</span>
  isiOS = !!u.match(<span class="hljs-regexp">/\(i[^;]+;( U;)? CPU.+Mac OS X/</span>); <span class="hljs-comment">//ios终端</span>
  ios_browser=
  <span class="hljs-keyword">if</span>(ua_ios || ua_android){
    appMethod;<span class="hljs-comment">//调用原生的方法</span>
  }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(isAndroid){      
    <span class="hljs-keyword">return</span> <span class="hljs-string">'安卓browser访问'</span>
  }<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span>(isIOS){      
    <span class="hljs-keyword">return</span> <span class="hljs-string">'ios的browser访问'</span>
  }
},
</code></pre>
<h2 id="articleHeader39">8.数字的处理</h2>
<h3 id="articleHeader40">8.1四舍五入取值</h3>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="export const getFloat=(molecular,denominator,n){//molecular是分子，denominator是分母，n是保留的小数位
   let number=denominator==0?0:molecular/denominator;    
    n = n ? parseInt(n) : 0; 
    if (n <= 0) return Math.round(number); 
    number = Math.round(number * Math.pow(10, n)) / Math.pow(10, n);
    return number;   
}  
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs typescript"><code><span class="hljs-keyword">export</span> <span class="hljs-keyword">const</span> getFloat=(molecular,denominator,n){<span class="hljs-comment">//molecular是分子，denominator是分母，n是保留的小数位</span>
   <span class="hljs-keyword">let</span> <span class="hljs-built_in">number</span>=denominator==<span class="hljs-number">0</span>?<span class="hljs-number">0</span>:molecular/denominator;    
    n = n ? <span class="hljs-built_in">parseInt</span>(n) : <span class="hljs-number">0</span>; 
    <span class="hljs-keyword">if</span> (n &lt;= <span class="hljs-number">0</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">number</span>); 
    <span class="hljs-built_in">number</span> = <span class="hljs-built_in">Math</span>.round(<span class="hljs-built_in">number</span> * <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">10</span>, n)) / <span class="hljs-built_in">Math</span>.pow(<span class="hljs-number">10</span>, n);
    <span class="hljs-keyword">return</span> <span class="hljs-built_in">number</span>;   
}  
</code></pre>
<h2 id="articleHeader41">结束</h2>
<p>很开心你还能看到这里,这些类可能你现在用不到,但可以先收藏着.<br>大家可以一起交流,下次项目开发直接拿过去用,现在3月项目比较赶,这个真的可以提高开发效率哦!祝大家新年快乐哒.</p>

                
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
前端简洁并实用的工具类

## 原文链接
[https://segmentfault.com/a/1190000013438501](https://segmentfault.com/a/1190000013438501)


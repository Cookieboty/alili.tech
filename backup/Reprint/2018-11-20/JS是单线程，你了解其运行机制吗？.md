---
title: 'JS是单线程，你了解其运行机制吗？' 
date: 2018-11-20 2:30:10
hidden: true
slug: lskfajpqgwe
categories: [reprint]
---

{{< raw >}}
<h1>&#x4E00;. &#x533A;&#x5206;&#x8FDB;&#x7A0B;&#x548C;&#x7EBF;&#x7A0B;</h1><p>&#x5F88;&#x591A;&#x65B0;&#x624B;&#x662F;&#x533A;&#x5206;&#x4E0D;&#x6E05;&#x7EBF;&#x7A0B;&#x548C;&#x8FDB;&#x7A0B;&#x7684;&#xFF0C;&#x6CA1;&#x6709;&#x5173;&#x7CFB;&#x3002;&#x8FD9;&#x5F88;&#x6B63;&#x5E38;&#x3002;&#x5148;&#x770B;&#x770B;&#x4E0B;&#x9762;&#x8FD9;&#x4E2A;&#x5F62;&#x8C61;&#x7684;&#x6BD4;&#x55BB;&#xFF1A;</p><blockquote>&#x8FDB;&#x7A0B;&#x662F;&#x4E00;&#x4E2A;&#x5DE5;&#x5382;&#xFF0C;&#x5DE5;&#x5382;&#x6709;&#x5B83;&#x7684;&#x72EC;&#x7ACB;&#x8D44;&#x6E90;-&#x5DE5;&#x5382;&#x4E4B;&#x95F4;&#x76F8;&#x4E92;&#x72EC;&#x7ACB;-&#x7EBF;&#x7A0B;&#x662F;&#x5DE5;&#x5382;&#x4E2D;&#x7684;&#x5DE5;&#x4EBA;&#xFF0C;&#x591A;&#x4E2A;&#x5DE5;&#x4EBA;&#x534F;&#x4F5C;&#x5B8C;&#x6210;&#x4EFB;&#x52A1;-&#x5DE5;&#x5382;&#x5185;&#x6709;&#x4E00;&#x4E2A;&#x6216;&#x591A;&#x4E2A;&#x5DE5;&#x4EBA;-&#x5DE5;&#x4EBA;&#x4E4B;&#x95F4;&#x5171;&#x4EAB;&#x7A7A;&#x95F4;</blockquote><p>&#x5982;&#x679C;&#x662F;windows&#x7535;&#x8111;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x6253;&#x5F00;&#x4EFB;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6709;&#x4E00;&#x4E2A;&#x540E;&#x53F0;&#x8FDB;&#x7A0B;&#x5217;&#x8868;&#x3002;&#x5BF9;&#xFF0C;&#x90A3;&#x91CC;&#x5C31;&#x662F;&#x67E5;&#x770B;&#x8FDB;&#x7A0B;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x800C;&#x4E14;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x6BCF;&#x4E2A;&#x8FDB;&#x7A0B;&#x7684;&#x5185;&#x5B58;&#x8D44;&#x6E90;&#x4FE1;&#x606F;&#x4EE5;&#x53CA;cpu&#x5360;&#x6709;&#x7387;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015806984" src="https://static.alili.tech/img/remote/1460000015806984" alt="image" title="image"></span></p><p>&#x6240;&#x4EE5;&#xFF0C;&#x5E94;&#x8BE5;&#x66F4;&#x5BB9;&#x6613;&#x7406;&#x89E3;&#x4E86;&#xFF1A;&#x8FDB;&#x7A0B;&#x662F;cpu&#x8D44;&#x6E90;&#x5206;&#x914D;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#xFF08;&#x7CFB;&#x7EDF;&#x4F1A;&#x7ED9;&#x5B83;&#x5206;&#x914D;&#x5185;&#x5B58;&#xFF09;</p><p>&#x6700;&#x540E;&#xFF0C;&#x518D;&#x7528;&#x8F83;&#x4E3A;&#x5B98;&#x65B9;&#x7684;&#x672F;&#x8BED;&#x63CF;&#x8FF0;&#x4E00;&#x904D;&#xFF1A;</p><ul><li>&#x8FDB;&#x7A0B;&#x662F;cpu&#x8D44;&#x6E90;&#x5206;&#x914D;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#xFF08;&#x662F;&#x80FD;&#x62E5;&#x6709;&#x8D44;&#x6E90;&#x548C;&#x72EC;&#x7ACB;&#x8FD0;&#x884C;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#xFF09;</li><li>&#x7EBF;&#x7A0B;&#x662F;cpu&#x8C03;&#x5EA6;&#x7684;&#x6700;&#x5C0F;&#x5355;&#x4F4D;&#xFF08;&#x7EBF;&#x7A0B;&#x662F;&#x5EFA;&#x7ACB;&#x5728;&#x8FDB;&#x7A0B;&#x7684;&#x57FA;&#x7840;&#x4E0A;&#x7684;&#x4E00;&#x6B21;&#x7A0B;&#x5E8F;&#x8FD0;&#x884C;&#x5355;&#x4F4D;&#xFF0C;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x4E2D;&#x53EF;&#x4EE5;&#x6709;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF09;</li></ul><p>&#x63D0;&#x793A;&#xFF1A;</p><ul><li>&#x4E0D;&#x540C;&#x8FDB;&#x7A0B;&#x4E4B;&#x95F4;&#x4E5F;&#x53EF;&#x4EE5;&#x901A;&#x4FE1;&#xFF0C;&#x4E0D;&#x8FC7;&#x4EE3;&#x4EF7;&#x8F83;&#x5927;</li><li>&#x73B0;&#x5728;&#xFF0C;&#x4E00;&#x822C;&#x901A;&#x7528;&#x7684;&#x53EB;&#x6CD5;&#xFF1A;&#x5355;&#x7EBF;&#x7A0B;&#x4E0E;&#x591A;&#x7EBF;&#x7A0B;&#xFF0C;&#x90FD;&#x662F;&#x6307;&#x5728;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5185;&#x7684;&#x5355;&#x548C;&#x591A;&#x3002;&#xFF08;&#x6240;&#x4EE5;&#x6838;&#x5FC3;&#x8FD8;&#x662F;&#x5F97;&#x5C5E;&#x4E8E;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x624D;&#x884C;&#xFF09;</li></ul><h1>&#x4E8C;. &#x6D4F;&#x89C8;&#x5668;&#x662F;&#x591A;&#x8FDB;&#x7A0B;&#x7684;</h1><p>&#x7406;&#x89E3;&#x4E86;&#x8FDB;&#x7A0B;&#x4E0E;&#x7EBF;&#x7A0B;&#x4E86;&#x533A;&#x522B;&#x540E;&#xFF0C;&#x63A5;&#x4E0B;&#x6765;&#x5BF9;&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x884C;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x4E0A;&#x7684;&#x8BA4;&#x8BC6;&#xFF1A;&#xFF08;&#x5148;&#x770B;&#x4E0B;&#x7B80;&#x5316;&#x7406;&#x89E3;&#xFF09;</p><ul><li>&#x6D4F;&#x89C8;&#x5668;&#x662F;&#x591A;&#x8FDB;&#x7A0B;&#x7684;</li><li>&#x6D4F;&#x89C8;&#x5668;&#x4E4B;&#x6240;&#x4EE5;&#x80FD;&#x591F;&#x8FD0;&#x884C;&#xFF0C;&#x662F;&#x56E0;&#x4E3A;&#x7CFB;&#x7EDF;&#x7ED9;&#x5B83;&#x7684;&#x8FDB;&#x7A0B;&#x5206;&#x914D;&#x4E86;&#x8D44;&#x6E90;&#xFF08;cpu&#x3001;&#x5185;&#x5B58;&#xFF09;</li><li>&#x7B80;&#x5355;&#x70B9;&#x7406;&#x89E3;&#xFF0C;&#x6BCF;&#x6253;&#x5F00;&#x4E00;&#x4E2A;Tab&#x9875;&#xFF0C;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x521B;&#x5EFA;&#x4E86;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#x8FDB;&#x7A0B;&#x3002;</li></ul><p>&#x5173;&#x4E8E;&#x4EE5;&#x4E0A;&#x51E0;&#x70B9;&#x7684;&#x9A8C;&#x8BC1;&#xFF0C;&#x8BF7;&#x518D;&#x7B2C;&#x4E00;&#x5F20;&#x56FE;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015806985" src="https://static.alili.tech/img/remote/1460000015806985" alt="image" title="image"></span></p><p>&#x56FE;&#x4E2D;&#x6253;&#x5F00;&#x4E86;Chrome&#x6D4F;&#x89C8;&#x5668;&#x7684;&#x591A;&#x4E2A;&#x6807;&#x7B7E;&#x9875;&#xFF0C;&#x7136;&#x540E;&#x53EF;&#x4EE5;&#x5728;Chrome&#x7684;&#x4EFB;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x4E2D;&#x770B;&#x5230;&#x6709;&#x591A;&#x4E2A;&#x8FDB;&#x7A0B;&#xFF08;&#x5206;&#x522B;&#x662F;&#x6BCF;&#x4E00;&#x4E2A;Tab&#x9875;&#x9762;&#x6709;&#x4E00;&#x4E2A;&#x72EC;&#x7ACB;&#x7684;&#x8FDB;&#x7A0B;&#xFF0C;&#x4EE5;&#x53CA;&#x4E00;&#x4E2A;&#x4E3B;&#x8FDB;&#x7A0B;&#xFF09;&#x3002;</p><blockquote>&#x611F;&#x5174;&#x8DA3;&#x7684;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x5C1D;&#x8BD5;&#x4E0B;&#xFF0C;&#x5982;&#x679C;&#x518D;&#x591A;&#x6253;&#x5F00;&#x4E00;&#x4E2A;Tab&#x9875;&#xFF0C;&#x8FDB;&#x7A0B;&#x6B63;&#x5E38;&#x4F1A;+1&#x4EE5;&#x4E0A;&#xFF08;&#x4E0D;&#x8FC7;&#xFF0C;&#x67D0;&#x4E9B;&#x7248;&#x672C;&#x7684;ie&#x5374;&#x662F;&#x5355;&#x8FDB;&#x7A0B;&#x7684;&#xFF09;</blockquote><p><strong>&#x6CE8;&#x610F;&#xFF1A;</strong>&#x5728;&#x8FD9;&#x91CC;&#x6D4F;&#x89C8;&#x5668;&#x5E94;&#x8BE5;&#x4E5F;&#x6709;&#x81EA;&#x5DF1;&#x7684;&#x4F18;&#x5316;&#x673A;&#x5236;&#xFF0C;&#x6709;&#x65F6;&#x5019;&#x6253;&#x5F00;&#x591A;&#x4E2A;tab&#x9875;&#x540E;&#xFF0C;&#x53EF;&#x4EE5;&#x5728;Chrome&#x4EFB;&#x52A1;&#x7BA1;&#x7406;&#x5668;&#x4E2D;&#x770B;&#x5230;&#xFF0C;&#x6709;&#x4E9B;&#x8FDB;&#x7A0B;&#x88AB;&#x5408;&#x5E76;&#x4E86;&#xFF08;&#x6240;&#x4EE5;&#x6BCF;&#x4E00;&#x4E2A;Tab&#x6807;&#x7B7E;&#x5BF9;&#x5E94;&#x4E00;&#x4E2A;&#x8FDB;&#x7A0B;&#x5E76;&#x4E0D;&#x4E00;&#x5B9A;&#x662F;&#x7EDD;&#x5BF9;&#x7684;&#xFF09;</p><h1>&#x4E09;&#x3001;&#x4E3A;&#x4EC0;&#x4E48;JavaScript&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#xFF1F;</h1><p>JavaScript&#x8BED;&#x8A00;&#x7684;&#x4E00;&#x5927;&#x7279;&#x70B9;&#x5C31;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x540C;&#x4E00;&#x4E2A;&#x65F6;&#x95F4;&#x53EA;&#x80FD;&#x505A;&#x4E00;&#x4EF6;&#x4E8B;&#x3002;&#x90A3;&#x4E48;&#xFF0C;&#x4E3A;&#x4EC0;&#x4E48;JavaScript&#x4E0D;&#x80FD;&#x6709;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#x5462;&#xFF1F;&#x8FD9;&#x6837;&#x80FD;&#x63D0;&#x9AD8;&#x6548;&#x7387;&#x554A;&#x3002;</p><p>JavaScript&#x7684;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E0E;&#x5B83;&#x7684;&#x7528;&#x9014;&#x6709;&#x5173;&#x3002;&#x4F5C;&#x4E3A;&#x6D4F;&#x89C8;&#x5668;&#x811A;&#x672C;&#x8BED;&#x8A00;&#xFF0C;JavaScript&#x7684;&#x4E3B;&#x8981;&#x7528;&#x9014;&#x662F;&#x4E0E;&#x7528;&#x6237;&#x4E92;&#x52A8;&#xFF0C;&#x4EE5;&#x53CA;&#x64CD;&#x4F5C;DOM&#x3002;&#x8FD9;&#x51B3;&#x5B9A;&#x4E86;&#x5B83;&#x53EA;&#x80FD;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x5426;&#x5219;&#x4F1A;&#x5E26;&#x6765;&#x5F88;&#x590D;&#x6742;&#x7684;&#x540C;&#x6B65;&#x95EE;&#x9898;&#x3002;&#x6BD4;&#x5982;&#xFF0C;&#x5047;&#x5B9A;JavaScript&#x540C;&#x65F6;&#x6709;&#x4E24;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5728;&#x67D0;&#x4E2A;DOM&#x8282;&#x70B9;&#x4E0A;&#x6DFB;&#x52A0;&#x5185;&#x5BB9;&#xFF0C;&#x53E6;&#x4E00;&#x4E2A;&#x7EBF;&#x7A0B;&#x5220;&#x9664;&#x4E86;&#x8FD9;&#x4E2A;&#x8282;&#x70B9;&#xFF0C;&#x8FD9;&#x65F6;&#x6D4F;&#x89C8;&#x5668;&#x5E94;&#x8BE5;&#x4EE5;&#x54EA;&#x4E2A;&#x7EBF;&#x7A0B;&#x4E3A;&#x51C6;&#xFF1F;</p><p>&#x6240;&#x4EE5;&#xFF0C;&#x4E3A;&#x4E86;&#x907F;&#x514D;&#x590D;&#x6742;&#x6027;&#xFF0C;&#x4ECE;&#x4E00;&#x8BDE;&#x751F;&#xFF0C;JavaScript&#x5C31;&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x8FD9;&#x5DF2;&#x7ECF;&#x6210;&#x4E86;&#x8FD9;&#x95E8;&#x8BED;&#x8A00;&#x7684;&#x6838;&#x5FC3;&#x7279;&#x5F81;&#xFF0C;&#x5C06;&#x6765;&#x4E5F;&#x4E0D;&#x4F1A;&#x6539;&#x53D8;&#x3002;</p><p>&#x4E3A;&#x4E86;&#x5229;&#x7528;&#x591A;&#x6838;CPU&#x7684;&#x8BA1;&#x7B97;&#x80FD;&#x529B;&#xFF0C;HTML5&#x63D0;&#x51FA;Web Worker&#x6807;&#x51C6;&#xFF0C;&#x5141;&#x8BB8;JavaScript&#x811A;&#x672C;&#x521B;&#x5EFA;&#x591A;&#x4E2A;&#x7EBF;&#x7A0B;&#xFF0C;&#x4F46;&#x662F;&#x5B50;&#x7EBF;&#x7A0B;&#x5B8C;&#x5168;&#x53D7;&#x4E3B;&#x7EBF;&#x7A0B;&#x63A7;&#x5236;&#xFF0C;&#x4E14;&#x4E0D;&#x5F97;&#x64CD;&#x4F5C;DOM&#x3002;&#x6240;&#x4EE5;&#xFF0C;&#x8FD9;&#x4E2A;&#x65B0;&#x6807;&#x51C6;&#x5E76;&#x6CA1;&#x6709;&#x6539;&#x53D8;JavaScript&#x5355;&#x7EBF;&#x7A0B;&#x7684;&#x672C;&#x8D28;&#x3002;</p><h1>&#x56DB;. JavaScript&#x662F;&#x5355;&#x7EBF;&#x7A0B;&#xFF0C;&#x600E;&#x6837;&#x6267;&#x884C;&#x5F02;&#x6B65;&#x7684;&#x4EE3;&#x7801;&#xFF1F;</h1><p>&#x5355;&#x7EBF;&#x7A0B;&#x5C31;&#x610F;&#x5473;&#x7740;&#xFF0C;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x9700;&#x8981;&#x6392;&#x961F;&#xFF0C;&#x524D;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x7ED3;&#x675F;&#xFF0C;&#x624D;&#x4F1A;&#x6267;&#x884C;&#x540E;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x3002;&#x5982;&#x679C;&#x524D;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x8017;&#x65F6;&#x5F88;&#x957F;&#xFF0C;&#x540E;&#x4E00;&#x4E2A;&#x4EFB;&#x52A1;&#x5C31;&#x4E0D;&#x5F97;&#x4E0D;&#x4E00;&#x76F4;&#x7B49;&#x7740;&#x3002;<br>js&#x5F15;&#x64CE;&#x6267;&#x884C;&#x5F02;&#x6B65;&#x4EE3;&#x7801;&#x800C;&#x4E0D;&#x7528;&#x7B49;&#x5F85;&#xFF0C;&#x662F;&#x56E0;&#x6709;&#x4E3A;&#x6709; &#x6D88;&#x606F;&#x961F;&#x5217;&#x548C;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x3002;</p><p>&#x6D88;&#x606F;&#x961F;&#x5217;&#xFF1A;&#x6D88;&#x606F;&#x961F;&#x5217;&#x662F;&#x4E00;&#x4E2A;&#x5148;&#x8FDB;&#x5148;&#x51FA;&#x7684;&#x961F;&#x5217;&#xFF0C;&#x5B83;&#x91CC;&#x9762;&#x5B58;&#x653E;&#x7740;&#x5404;&#x79CD;&#x6D88;&#x606F;&#x3002;<br>&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF1A;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x662F;&#x6307;&#x4E3B;&#x7EBF;&#x7A0B;&#x91CD;&#x590D;&#x4ECE;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#x53D6;&#x6D88;&#x606F;&#x3001;&#x6267;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x3002;</p><p>&#x5B9E;&#x9645;&#x4E0A;&#xFF0C;&#x4E3B;&#x7EBF;&#x7A0B;&#x53EA;&#x4F1A;&#x505A;&#x4E00;&#x4EF6;&#x4E8B;&#x60C5;&#xFF0C;&#x5C31;&#x662F;&#x4ECE;&#x6D88;&#x606F;&#x961F;&#x5217;&#x91CC;&#x9762;&#x53D6;&#x6D88;&#x606F;&#x3001;&#x6267;&#x884C;&#x6D88;&#x606F;&#xFF0C;&#x518D;&#x53D6;&#x6D88;&#x606F;&#x3001;&#x518D;&#x6267;&#x884C;&#x3002;&#x5F53;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E3A;&#x7A7A;&#x65F6;&#xFF0C;&#x5C31;&#x4F1A;&#x7B49;&#x5F85;&#x76F4;&#x5230;&#x6D88;&#x606F;&#x961F;&#x5217;&#x53D8;&#x6210;&#x975E;&#x7A7A;&#x3002;&#x800C;&#x4E14;&#x4E3B;&#x7EBF;&#x7A0B;&#x53EA;&#x6709;&#x5728;&#x5C06;&#x5F53;&#x524D;&#x7684;&#x6D88;&#x606F;&#x6267;&#x884C;&#x5B8C;&#x6210;&#x540E;&#xFF0C;&#x624D;&#x4F1A;&#x53BB;&#x53D6;&#x4E0B;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x3002;&#x8FD9;&#x79CD;&#x673A;&#x5236;&#x5C31;&#x53EB;&#x505A;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x673A;&#x5236;&#xFF0C;&#x53D6;&#x4E00;&#x4E2A;&#x6D88;&#x606F;&#x5E76;&#x6267;&#x884C;&#x7684;&#x8FC7;&#x7A0B;&#x53EB;&#x505A;&#x4E00;&#x6B21;&#x5FAA;&#x73AF;&#x3002;</p><p>&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x7528;&#x4EE3;&#x7801;&#x8868;&#x793A;&#x5927;&#x6982;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><pre><code>while(true) {
 &#xA0; &#xA0;var message = queue.get();
 &#xA0; &#xA0;execute(message);
}</code></pre><p>&#x90A3;&#x4E48;&#xFF0C;&#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#x653E;&#x7684;&#x6D88;&#x606F;&#x5177;&#x4F53;&#x662F;&#x4EC0;&#x4E48;&#x4E1C;&#x897F;&#xFF1F;&#x6D88;&#x606F;&#x7684;&#x5177;&#x4F53;&#x7ED3;&#x6784;&#x5F53;&#x7136;&#x8DDF;&#x5177;&#x4F53;&#x7684;&#x5B9E;&#x73B0;&#x6709;&#x5173;&#xFF0C;&#x4F46;&#x662F;&#x4E3A;&#x4E86;&#x7B80;&#x5355;&#x8D77;&#x89C1;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x8BA4;&#x4E3A;&#xFF1A;</p><blockquote>&#x6D88;&#x606F;&#x5C31;&#x662F;&#x6CE8;&#x518C;&#x5F02;&#x6B65;&#x4EFB;&#x52A1;&#x65F6;&#x6DFB;&#x52A0;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</blockquote><p>&#x518D;&#x6B21;&#x4EE5;&#x5F02;&#x6B65;AJAX&#x4E3A;&#x4F8B;&#xFF0C;&#x5047;&#x8BBE;&#x5B58;&#x5728;&#x5982;&#x4E0B;&#x7684;&#x4EE3;&#x7801;&#xFF1A;</p><pre><code>$.ajax(&apos;http://segmentfault.com&apos;, function(resp) {
 &#xA0; &#xA0;console.log(&apos;&#x6211;&#x662F;&#x54CD;&#x5E94;&#xFF1A;&apos;, resp);
});

// &#x5176;&#x4ED6;&#x4EE3;&#x7801;
...
...
...</code></pre><p>&#x4E3B;&#x7EBF;&#x7A0B;&#x5728;&#x53D1;&#x8D77;AJAX&#x8BF7;&#x6C42;&#x540E;&#xFF0C;&#x4F1A;&#x7EE7;&#x7EED;&#x6267;&#x884C;&#x5176;&#x4ED6;&#x4EE3;&#x7801;&#x3002;AJAX&#x7EBF;&#x7A0B;&#x8D1F;&#x8D23;&#x8BF7;&#x6C42;segmentfault.com&#xFF0C;&#x62FF;&#x5230;&#x54CD;&#x5E94;&#x540E;&#xFF0C;&#x5B83;&#x4F1A;&#x628A;&#x54CD;&#x5E94;&#x5C01;&#x88C5;&#x6210;&#x4E00;&#x4E2A;JavaScript&#x5BF9;&#x8C61;&#xFF0C;&#x7136;&#x540E;&#x6784;&#x9020;&#x4E00;&#x6761;&#x6D88;&#x606F;&#xFF1A;</p><pre><code>// &#x6D88;&#x606F;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6D88;&#x606F;&#x5C31;&#x957F;&#x8FD9;&#x4E2A;&#x6837;&#x5B50;
var message = function () {
 &#xA0; &#xA0;callbackFn(response);
}</code></pre><p>&#x5176;&#x4E2D;&#x7684;callbackFn&#x5C31;&#x662F;&#x524D;&#x9762;&#x4EE3;&#x7801;&#x4E2D;&#x5F97;&#x5230;&#x6210;&#x529F;&#x54CD;&#x5E94;&#x65F6;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x3002;</p><p>&#x4E3B;&#x7EBF;&#x7A0B;&#x5728;&#x6267;&#x884C;&#x5B8C;&#x5F53;&#x524D;&#x5FAA;&#x73AF;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4EE3;&#x7801;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x5230;&#x6D88;&#x606F;&#x961F;&#x5217;&#x53D6;&#x51FA;&#x8FD9;&#x6761;&#x6D88;&#x606F;(&#x4E5F;&#x5C31;&#x662F;message&#x51FD;&#x6570;)&#xFF0C;&#x5E76;&#x6267;&#x884C;&#x5B83;&#x3002;&#x5230;&#x6B64;&#x4E3A;&#x6B62;&#xFF0C;&#x5C31;&#x5B8C;&#x6210;&#x4E86;&#x5DE5;&#x4F5C;&#x7EBF;&#x7A0B;&#x5BF9;&#x4E3B;&#x7EBF;&#x7A0B;&#x7684;&#x901A;&#x77E5;&#xFF0C;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#x4E5F;&#x5C31;&#x5F97;&#x5230;&#x4E86;&#x6267;&#x884C;&#x3002;&#x5982;&#x679C;&#x4E00;&#x5F00;&#x59CB;&#x4E3B;&#x7EBF;&#x7A0B;&#x5C31;&#x6CA1;&#x6709;&#x63D0;&#x4F9B;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;AJAX&#x7EBF;&#x7A0B;&#x5728;&#x6536;&#x5230;HTTP&#x54CD;&#x5E94;&#x540E;&#xFF0C;&#x4E5F;&#x5C31;&#x6CA1;&#x5FC5;&#x8981;&#x901A;&#x77E5;&#x4E3B;&#x7EBF;&#x7A0B;&#xFF0C;&#x4ECE;&#x800C;&#x4E5F;&#x6CA1;&#x5FC5;&#x8981;&#x5F80;&#x6D88;&#x606F;&#x961F;&#x5217;&#x653E;&#x6D88;&#x606F;&#x3002;</p><p>&#x7528;&#x56FE;&#x8868;&#x793A;&#x8FD9;&#x4E2A;&#x8FC7;&#x7A0B;&#x5C31;&#x662F;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015806986" src="https://static.alili.tech/img/remote/1460000015806986" alt="image" title="image"></span></p><p>&#x4ECE;&#x4E0A;&#x6587;&#x4E2D;&#x6211;&#x4EEC;&#x4E5F;&#x53EF;&#x4EE5;&#x5F97;&#x5230;&#x8FD9;&#x6837;&#x4E00;&#x4E2A;&#x660E;&#x663E;&#x7684;&#x7ED3;&#x8BBA;&#xFF0C;&#x5C31;&#x662F;&#xFF1A;</p><blockquote>&#x5F02;&#x6B65;&#x8FC7;&#x7A0B;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x4E00;&#x5B9A;&#x4E0D;&#x5728;&#x5F53;&#x524D;&#x8FD9;&#x4E00;&#x8F6E;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4E2D;&#x6267;&#x884C;&#x3002;</blockquote><h4>&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x8FDB;&#x9636;&#xFF1A;macrotask&#x4E0E;microtask</h4><p>&#x4E00;&#x5F20;&#x56FE;&#x5C55;&#x793A;JavaScript&#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF1A;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015806987" src="https://static.alili.tech/img/remote/1460000015806987" alt="image" title="image"></span></p><p>&#x4E00;&#x6B21;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#xFF1A;&#x5148;&#x8FD0;&#x884C;macroTask&#x961F;&#x5217;&#x4E2D;&#x7684;&#x4E00;&#x4E2A;&#xFF0C;&#x7136;&#x540E;&#x8FD0;&#x884C;microTask&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6240;&#x6709;&#x4EFB;&#x52A1;&#x3002;&#x63A5;&#x7740;&#x5F00;&#x59CB;&#x4E0B;&#x4E00;&#x6B21;&#x5FAA;&#x73AF;&#xFF08;&#x53EA;&#x662F;&#x9488;&#x5BF9;macroTask&#x548C;microTask&#xFF0C;&#x4E00;&#x6B21;&#x5B8C;&#x6574;&#x7684;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x4F1A;&#x6BD4;&#x8FD9;&#x4E2A;&#x590D;&#x6742;&#x7684;&#x591A;&#xFF09;&#x3002;</p><p>JS&#x4E2D;&#x5206;&#x4E3A;&#x4E24;&#x79CD;&#x4EFB;&#x52A1;&#x7C7B;&#x578B;&#xFF1A;macrotask&#x548C;microtask&#xFF0C;&#x5728;ECMAScript&#x4E2D;&#xFF0C;microtask&#x79F0;&#x4E3A;jobs&#xFF0C;macrotask&#x53EF;&#x79F0;&#x4E3A;task</p><p>&#x5B83;&#x4EEC;&#x7684;&#x5B9A;&#x4E49;&#xFF1F;&#x533A;&#x522B;&#xFF1F;&#x7B80;&#x5355;&#x70B9;&#x53EF;&#x4EE5;&#x6309;&#x5982;&#x4E0B;&#x7406;&#x89E3;&#xFF1A;</p><p>macrotask&#xFF08;&#x53C8;&#x79F0;&#x4E4B;&#x4E3A;&#x5B8F;&#x4EFB;&#x52A1;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x662F;&#x6BCF;&#x6B21;&#x6267;&#x884C;&#x6808;&#x6267;&#x884C;&#x7684;&#x4EE3;&#x7801;&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x5B8F;&#x4EFB;&#x52A1;&#xFF08;&#x5305;&#x62EC;&#x6BCF;&#x6B21;&#x4ECE;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#x83B7;&#x53D6;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x56DE;&#x8C03;&#x5E76;&#x653E;&#x5230;&#x6267;&#x884C;&#x6808;&#x4E2D;&#x6267;&#x884C;&#xFF09;</p><p>&#x6BCF;&#x4E00;&#x4E2A;task&#x4F1A;&#x4ECE;&#x5934;&#x5230;&#x5C3E;&#x5C06;&#x8FD9;&#x4E2A;&#x4EFB;&#x52A1;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x4E0D;&#x4F1A;&#x6267;&#x884C;&#x5176;&#x5B83;</p><p>&#x6D4F;&#x89C8;&#x5668;&#x4E3A;&#x4E86;&#x80FD;&#x591F;&#x4F7F;&#x5F97;JS&#x5185;&#x90E8;task&#x4E0E;DOM&#x4EFB;&#x52A1;&#x80FD;&#x591F;&#x6709;&#x5E8F;&#x7684;&#x6267;&#x884C;&#xFF0C;&#x4F1A;&#x5728;&#x4E00;&#x4E2A;task&#x6267;&#x884C;&#x7ED3;&#x675F;&#x540E;&#xFF0C;&#x5728;&#x4E0B;&#x4E00;&#x4E2A; task &#x6267;&#x884C;&#x5F00;&#x59CB;&#x524D;&#xFF0C;&#x5BF9;&#x9875;&#x9762;&#x8FDB;&#x884C;&#x91CD;&#x65B0;&#x6E32;&#x67D3;<br>&#xFF08;task-&gt;&#x6E32;&#x67D3;-&gt;task-&gt;...&#xFF09;</p><p>microtask&#xFF08;&#x53C8;&#x79F0;&#x4E3A;&#x5FAE;&#x4EFB;&#x52A1;&#xFF09;&#xFF0C;&#x53EF;&#x4EE5;&#x7406;&#x89E3;&#x662F;&#x5728;&#x5F53;&#x524D; task &#x6267;&#x884C;&#x7ED3;&#x675F;&#x540E;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x7684;&#x4EFB;&#x52A1;</p><p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728;&#x5F53;&#x524D;task&#x4EFB;&#x52A1;&#x540E;&#xFF0C;&#x4E0B;&#x4E00;&#x4E2A;task&#x4E4B;&#x524D;&#xFF0C;&#x5728;&#x6E32;&#x67D3;&#x4E4B;&#x524D;</p><p>&#x6240;&#x4EE5;&#x5B83;&#x7684;&#x54CD;&#x5E94;&#x901F;&#x5EA6;&#x76F8;&#x6BD4;setTimeout&#xFF08;setTimeout&#x662F;task&#xFF09;&#x4F1A;&#x66F4;&#x5FEB;&#xFF0C;&#x56E0;&#x4E3A;&#x65E0;&#x9700;&#x7B49;&#x6E32;&#x67D3;</p><p>&#x4E5F;&#x5C31;&#x662F;&#x8BF4;&#xFF0C;&#x5728;&#x67D0;&#x4E00;&#x4E2A;macrotask&#x6267;&#x884C;&#x5B8C;&#x540E;&#xFF0C;&#x5C31;&#x4F1A;&#x5C06;&#x5728;&#x5B83;&#x6267;&#x884C;&#x671F;&#x95F4;&#x4EA7;&#x751F;&#x7684;&#x6240;&#x6709;microtask&#x90FD;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF08;&#x5728;&#x6E32;&#x67D3;&#x524D;&#xFF09;</p><p>&#x5206;&#x522B;&#x5F88;&#x4E48;&#x6837;&#x7684;&#x573A;&#x666F;&#x4F1A;&#x5F62;&#x6210;macrotask&#x548C;microtask&#x5462;&#xFF1F;</p><p>macroTask: &#x4E3B;&#x4EE3;&#x7801;&#x5757;, setTimeout, setInterval, setImmediate, requestAnimationFrame, I/O, UI rendering&#xFF08;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x6BCF;&#x4E00;&#x4E2A;&#x4E8B;&#x4EF6;&#x90FD;&#x662F;&#x4E00;&#x4E2A;macrotask&#xFF09;</p><p>microTask: process.nextTick, Promise, Object.observe, MutationObserver</p><p>&#x8865;&#x5145;&#xFF1A;&#x5728;node&#x73AF;&#x5883;&#x4E0B;&#xFF0C;process.nextTick&#x7684;&#x4F18;&#x5148;&#x7EA7;&#x9AD8;&#x4E8E;Promise&#xFF0C;&#x4E5F;&#x5C31;&#x662F;&#x53EF;&#x4EE5;&#x7B80;&#x5355;&#x7406;&#x89E3;&#x4E3A;&#xFF1A;&#x5728;&#x5B8F;&#x4EFB;&#x52A1;&#x7ED3;&#x675F;&#x540E;&#x4F1A;&#x5148;&#x6267;&#x884C;&#x5FAE;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x4E2D;&#x7684;nextTickQueue&#x90E8;&#x5206;&#xFF0C;&#x7136;&#x540E;&#x624D;&#x4F1A;&#x6267;&#x884C;&#x5FAE;&#x4EFB;&#x52A1;&#x4E2D;&#x7684;Promise&#x90E8;&#x5206;&#x3002;</p><p>&#x53E6;&#x5916;&#xFF0C;setImmediate&#x5219;&#x662F;&#x89C4;&#x5B9A;&#xFF1A;&#x5728;&#x4E0B;&#x4E00;&#x6B21;Event Loop&#xFF08;&#x5B8F;&#x4EFB;&#x52A1;&#xFF09;&#x65F6;&#x89E6;&#x53D1;&#xFF08;&#x6240;&#x4EE5;&#x5B83;&#x662F;&#x5C5E;&#x4E8E;&#x4F18;&#x5148;&#x7EA7;&#x8F83;&#x9AD8;&#x7684;&#x5B8F;&#x4EFB;&#x52A1;&#xFF09;&#xFF0C;&#xFF08;Node.js&#x6587;&#x6863;&#x4E2D;&#x79F0;&#xFF0C;setImmediate&#x6307;&#x5B9A;&#x7684;&#x56DE;&#x8C03;&#x51FD;&#x6570;&#xFF0C;&#x603B;&#x662F;&#x6392;&#x5728;setTimeout&#x524D;&#x9762;&#xFF09;&#xFF0C;&#x6240;&#x4EE5;setImmediate&#x5982;&#x679C;&#x5D4C;&#x5957;&#x7684;&#x8BDD;&#xFF0C;&#x662F;&#x9700;&#x8981;&#x7ECF;&#x8FC7;&#x591A;&#x4E2A;Loop&#x624D;&#x80FD;&#x5B8C;&#x6210;&#x7684;&#xFF0C;&#x800C;&#x4E0D;&#x4F1A;&#x50CF;process.nextTick&#x4E00;&#x6837;&#x6CA1;&#x5B8C;&#x6CA1;&#x4E86;&#x3002;</p><p><strong>&#x5B9E;&#x8DF5;&#xFF1A;&#x4E0A;&#x4EE3;&#x7801;</strong></p><p>&#x6211;&#x4EEC;&#x4EE5;setTimeout&#x3001;process.nextTick&#x3001;promise&#x4E3A;&#x4F8B;&#x76F4;&#x89C2;&#x611F;&#x53D7;&#x4E0B;&#x4E24;&#x79CD;&#x4EFB;&#x52A1;&#x961F;&#x5217;&#x7684;&#x8FD0;&#x884C;&#x65B9;&#x5F0F;&#x3002;</p><pre><code>console.log(&apos;main1&apos;);

process.nextTick(function() {
 &#xA0; &#xA0;console.log(&apos;process.nextTick1&apos;);
});

setTimeout(function() {
 &#xA0; &#xA0;console.log(&apos;setTimeout&apos;);
 &#xA0; &#xA0;process.nextTick(function() {
 &#xA0; &#xA0; &#xA0; &#xA0;console.log(&apos;process.nextTick2&apos;);
 &#xA0; &#xA0;});
}, 0);

new Promise(function(resolve, reject) {
 &#xA0; &#xA0;console.log(&apos;promise&apos;);
 &#xA0; &#xA0;resolve();
}).then(function() {
 &#xA0; &#xA0;console.log(&apos;promise then&apos;);
});

console.log(&apos;main2&apos;);</code></pre><p>&#x522B;&#x7740;&#x6025;&#x770B;&#x7B54;&#x6848;&#xFF0C;&#x5148;&#x4EE5;&#x4E0A;&#x9762;&#x7684;&#x7406;&#x8BBA;&#x81EA;&#x5DF1;&#x60F3;&#x60F3;&#xFF0C;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#x4F1A;&#x662F;&#x5565;&#xFF1F;</p><p>&#x6700;&#x7EC8;&#x7ED3;&#x679C;&#x662F;&#x8FD9;&#x6837;&#x7684;&#xFF1A;</p><pre><code>main1
promise
main2
process.nextTick1
promise then
setTimeout
process.nextTick2</code></pre><p>process.nextTick &#x548C; promise then&#x5728; setTimeout &#x524D;&#x9762;&#x8F93;&#x51FA;&#xFF0C;&#x5DF2;&#x7ECF;&#x8BC1;&#x660E;&#x4E86;macroTask&#x548C;microTask&#x7684;&#x6267;&#x884C;&#x987A;&#x5E8F;&#x3002;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x70B9;&#x5FC5;&#x987B;&#x8981;&#x6307;&#x51FA;&#x7684;&#x662F;&#x3002;&#x4E0A;&#x9762;&#x7684;&#x56FE;&#x5BB9;&#x6613;&#x7ED9;&#x4EBA;&#x4E00;&#x4E2A;&#x9519;&#x89C9;&#xFF0C;&#x5C31;&#x662F;&#x4E3B;&#x8FDB;&#x7A0B;&#x7684;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x5148;&#x8C03;&#x7528;macroTask&#xFF0C;&#x518D;&#x8C03;&#x7528;microTask&#xFF0C;&#x8FD9;&#x6837;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x91CC;&#x4E00;&#x5B9A;&#x662F;macroTask&#x5728;&#x524D;&#xFF0C;microTask&#x5728;&#x540E;&#x3002;</p><p>&#x4F46;&#x662F;&#x6700;&#x7EC8;&#x7684;&#x5B9E;&#x8DF5;&#x8BC1;&#x660E;&#xFF1A;&#x5728;&#x7B2C;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x91CC;&#xFF0C;process.nextTick1&#x548C;promise then&#x8FD9;&#x4E24;&#x4E2A;microTask&#x662F;&#x5728;setTimeout&#x8FD9;&#x4E2A;macroTask&#x91CC;&#x4E4B;&#x524D;&#x8F93;&#x51FA;&#x7684;&#xFF0C;&#x8FD9;&#x662F;&#x4E3A;&#x4EC0;&#x4E48;&#x5462;&#xFF1F;</p><p>&#x56E0;&#x4E3A;&#x4E3B;&#x8FDB;&#x7A0B;&#x7684;&#x4EE3;&#x7801;&#x4E5F;&#x5C5E;&#x4E8E;macroTask&#xFF08;&#x8FD9;&#x4E00;&#x70B9;&#x6211;&#x6BD4;&#x8F83;&#x7591;&#x60D1;&#x7684;&#x662F;&#x4E3B;&#x8FDB;&#x7A0B;&#x90FD;&#x662F;&#x4E00;&#x4E9B;&#x540C;&#x6B65;&#x4EE3;&#x7801;&#xFF0C;&#x800C;macroTask&#x548C;microTask&#x5305;&#x542B;&#x7684;&#x90FD;&#x662F;&#x4E00;&#x4E9B;&#x5F02;&#x6B65;&#x4EFB;&#x52A1;&#xFF0C;&#x4E3A;&#x5565;&#x4E3B;&#x8FDB;&#x7A0B;&#x7684;&#x4EE3;&#x7801;&#x4F1A;&#x88AB;&#x5212;&#x5206;&#x4E3A;macroTask&#xFF0C;&#x4E0D;&#x8FC7;&#x4ECE;&#x5B9E;&#x8DF5;&#x6765;&#x770B;&#x786E;&#x5B9E;&#x662F;&#x8FD9;&#x6837;&#xFF0C;&#x800C;&#x4E14;&#x4E5F;&#x6709;&#x7406;&#x8BBA;&#x652F;&#x6491;&#xFF1A;&#x3010;&#x7FFB;&#x8BD1;&#x3011;Promises/A+&#x89C4;&#x8303;&#xFF09;&#x3002;</p><p>&#x4E3B;&#x8FDB;&#x7A0B;&#x8FD9;&#x4E2A;macroTask&#xFF08;&#x4E5F;&#x5C31;&#x662F;main1&#x3001;promise&#x548C;main2&#xFF09;&#x6267;&#x884C;&#x5B8C;&#x4E86;&#xFF0C;&#x81EA;&#x7136;&#x4F1A;&#x53BB;&#x6267;&#x884C;process.nextTick1&#x548C;promise then&#x8FD9;&#x4E24;&#x4E2A;microTask&#x3002;&#x8FD9;&#x662F;&#x7B2C;&#x4E00;&#x4E2A;&#x5FAA;&#x73AF;&#x3002;&#x4E4B;&#x540E;&#x7684;setTimeout&#x548C;process.nextTick2&#x5C5E;&#x4E8E;&#x7B2C;&#x4E8C;&#x4E2A;&#x5FAA;&#x73AF;</p><p>&#x522B;&#x770B;&#x4E0A;&#x9762;&#x90A3;&#x6BB5;&#x4EE3;&#x7801;&#x597D;&#x50CF;&#x7279;&#x522B;&#x7ED5;&#xFF0C;&#x628A;&#x539F;&#x7406;&#x5F04;&#x6E05;&#x695A;&#x4E86;&#xFF0C;&#x90FD;&#x4E00;&#x6837; ~</p><p>requestAnimationFrame&#x3001;Object.observe(&#x5DF2;&#x5E9F;&#x5F03;) &#x548C; MutationObserver&#x8FD9;&#x4E09;&#x4E2A;&#x4EFB;&#x52A1;&#x7684;&#x8FD0;&#x884C;&#x673A;&#x5236;&#x5927;&#x5BB6;&#x53EF;&#x4EE5;&#x4ECE;&#x4E0A;&#x9762;&#x770B;&#x5230;&#xFF0C;&#x4E0D;&#x540C;&#x7684;&#x53EA;&#x662F;&#x5177;&#x4F53;&#x7528;&#x6CD5;&#x4E0D;&#x540C;&#x3002;&#x91CD;&#x70B9;&#x8BF4;&#x4E0B;UI rendering&#x3002;&#x5728;HTML&#x89C4;&#x8303;&#xFF1A;event-loop-processing-model&#x91CC;&#x53D9;&#x8FF0;&#x4E86;&#x4E00;&#x6B21;&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x7684;&#x5904;&#x7406;&#x8FC7;&#x7A0B;&#xFF0C;&#x5728;&#x5904;&#x7406;&#x4E86;macroTask&#x548C;microTask&#x4E4B;&#x540E;&#xFF0C;&#x4F1A;&#x8FDB;&#x884C;&#x4E00;&#x6B21;Update the rendering&#xFF0C;&#x5176;&#x4E2D;&#x7EC6;&#x8282;&#x6BD4;&#x8F83;&#x591A;&#xFF0C;&#x603B;&#x7684;&#x6765;&#x8BF4;&#x4F1A;&#x8FDB;&#x884C;&#x4E00;&#x6B21;UI&#x7684;&#x91CD;&#x65B0;&#x6E32;&#x67D3;&#x3002;</p><h5>&#x4E8B;&#x4EF6;&#x5FAA;&#x73AF;&#x673A;&#x5236;&#x8FDB;&#x4E00;&#x6B65;&#x8865;&#x5145;</h5><p>&#x8FD9;&#x91CC;&#x5C31;&#x76F4;&#x63A5;&#x5F15;&#x7528;&#x4E00;&#x5F20;&#x56FE;&#x7247;&#x6765;&#x534F;&#x52A9;&#x7406;&#x89E3;&#xFF1A;&#xFF08;&#x53C2;&#x8003;&#x81EA;Philip Roberts&#x7684;&#x6F14;&#x8BB2;&#x300A;Help, I&#x2019;m stuck in an event-loop&#x300B;&#xFF09;</p><p><span class="img-wrap"><img data-src="/img/remote/1460000015806988" src="https://static.alili.tech/img/remote/1460000015806988" alt="image" title="image"></span></p><p>&#x4E0A;&#x56FE;&#x5927;&#x81F4;&#x63CF;&#x8FF0;&#x5C31;&#x662F;&#xFF1A;</p><ul><li>&#x4E3B;&#x7EBF;&#x7A0B;&#x8FD0;&#x884C;&#x65F6;&#x4F1A;&#x4EA7;&#x751F;&#x6267;&#x884C;&#x6808;&#xFF0C;&#x6808;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x8C03;&#x7528;&#x67D0;&#x4E9B;api&#x65F6;&#xFF0C;&#x5B83;&#x4EEC;&#x4F1A;&#x5728;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#x6DFB;&#x52A0;&#x5404;&#x79CD;&#x4E8B;&#x4EF6;&#xFF08;&#x5F53;&#x6EE1;&#x8DB3;&#x89E6;&#x53D1;&#x6761;&#x4EF6;&#x540E;&#xFF0C;&#x5982;ajax&#x8BF7;&#x6C42;&#x5B8C;&#x6BD5;&#xFF09;</li><li>&#x800C;&#x6808;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#xFF0C;&#x5C31;&#x4F1A;&#x8BFB;&#x53D6;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x4E8B;&#x4EF6;&#xFF0C;&#x53BB;&#x6267;&#x884C;&#x90A3;&#x4E9B;&#x56DE;&#x8C03;</li><li>&#x5982;&#x6B64;&#x5FAA;&#x73AF;</li><li>&#x6CE8;&#x610F;&#xFF0C;&#x603B;&#x662F;&#x8981;&#x7B49;&#x5F85;&#x6808;&#x4E2D;&#x7684;&#x4EE3;&#x7801;&#x6267;&#x884C;&#x5B8C;&#x6BD5;&#x540E;&#x624D;&#x4F1A;&#x53BB;&#x8BFB;&#x53D6;&#x4E8B;&#x4EF6;&#x961F;&#x5217;&#x4E2D;&#x7684;&#x4E8B;&#x4EF6;</li></ul><h1>&#x4E94;. &#x6700;&#x540E;</h1><p>&#x770B;&#x5230;&#x8FD9;&#x91CC;&#xFF0C;&#x5E94;&#x8BE5;&#x5BF9;JS&#x7684;&#x8FD0;&#x884C;&#x673A;&#x5236;&#x6709;&#x4E00;&#x5B9A;&#x7684;&#x7406;&#x89E3;&#x4E86;&#x5427;&#x3002;</p><p>&#x53C2;&#x8003;&#xFF1A;</p><ol><li><a href="http://www.ruanyifeng.com/blog/2014/10/event-loop.html" rel="nofollow noreferrer">http://www.ruanyifeng.com/blo...</a></li><li><a href="https://mp.weixin.qq.com/s/vIKDUrbuxVNQMi_g_fiwUA" rel="nofollow noreferrer">https://mp.weixin.qq.com/s/vI...</a></li><li><a href="https://mp.weixin.qq.com/s?__biz=MjM5MTA1MjAxMQ==&amp;mid=2651226694&amp;idx=1&amp;sn=01908e1c5089010733e723c99947b311&amp;chksm=bd495bc28a3ed2d4d92c024910eb2b0367d0b22ee8e2587fee9253a359ebf99dba63338f3ccb&amp;scene=21#wechat_redirect" rel="nofollow noreferrer">https://mp.weixin.qq.com/s?__...</a></li><li><a href="https://mp.weixin.qq.com/s/k_85P8uzs0giLlVbX_Ow1w" rel="nofollow noreferrer">https://mp.weixin.qq.com/s/k_...</a></li></ol><p>&#x6211;&#x4E0D;&#x662F;&#x5927;&#x795E;&#xFF0C;&#x4E5F;&#x4E0D;&#x662F;&#x4EC0;&#x4E48;&#x725B;&#x4EBA;&#xFF0C;&#x5199;&#x8FD9;&#x4E2A;&#x53F7;&#x7684;&#x76EE;&#x7684;&#x662F;&#x4E3A;&#x4E86;&#x8BB0;&#x5F55;&#x6211;&#x81EA;&#x5B66; web&#x5168;&#x6808; &#x7684;&#x7B14;&#x8BB0;&#x3002;</p><p>&#x6709;&#x5174;&#x8DA3;&#x7684;&#x670B;&#x53CB;&#x53EF;&#x4EE5;&#x626B;&#x4E0B;&#x65B9;&#x4E8C;&#x7EF4;&#x7801;&#x516C;&#x4F17;&#x53F7;&#x2014;&#x2014; <strong>BiaoChenXuYing</strong></p><p>&#x5206;&#x4EAB; web &#x5F00;&#x53D1;&#x76F8;&#x5173;&#x7684;&#x6280;&#x672F;&#x6587;&#x7AE0;&#xFF0C;&#x70ED;&#x70B9;&#x8D44;&#x6E90;&#xFF0C;&#x5168;&#x6808;&#x7A0B;&#x5E8F;&#x5458;&#x7684;&#x6210;&#x957F;&#x4E4B;&#x8DEF;</p><p>&#x548C;&#x5927;&#x5BB6;&#x4E00;&#x8D77;&#x4EA4;&#x6D41;&#x6210;&#x957F;&#x3002;</p><p>&#x53EA;&#x8981;&#x5173;&#x6CE8;&#x516C;&#x4F17;&#x53F7;&#x5E76;&#x56DE;&#x590D; <strong>&#x798F;&#x5229;</strong> &#x4FBF;&#x9001;&#x4F60;&#x89C6;&#x9891;&#x8D44;&#x6E90;&#xFF1A; <a href="https://mp.weixin.qq.com/s?__biz=MzA4MDU1MDExMg==&amp;mid=2247483711&amp;idx=1&amp;sn=1ffb576159805e92fc57f5f1120fce3a&amp;chksm=9fa3c0b0a8d449a664f36f6fdd017ac7da71b6a71c90261b06b4ea69b42359255f02d0ffe7b3&amp;token=1560489745&amp;lang=zh_CN#rd" rel="nofollow noreferrer">Python&#x3001;Java&#x3001;Linux&#x3001;Go&#x3001;vue&#x3001;react&#x3001;javaScript</a></p><p><span class="img-wrap"><img data-src="/img/remote/1460000016505245" src="https://static.alili.tech/img/remote/1460000016505245" alt="BiaoChenXuYing" title="BiaoChenXuYing"></span></p>
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
JS是单线程，你了解其运行机制吗？

## 原文链接
[https://segmentfault.com/a/1190000015806981](https://segmentfault.com/a/1190000015806981)


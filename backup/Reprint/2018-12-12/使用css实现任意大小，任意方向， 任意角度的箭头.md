---
title: '使用css实现任意大小，任意方向， 任意角度的箭头' 
date: 2018-12-12 2:30:10
hidden: true
slug: gimkm40qafs
categories: [reprint]
---

{{< raw >}}

                    
<h1 id="articleHeader0">使用css实现任意大小，任意方向， 任意角度的箭头</h1>
<p>网页开发中，经常会使用到 下拉箭头<span class="img-wrap"><img data-src="/img/remote/1460000013517628?w=72&amp;h=60" src="https://static.alili.tech/img/remote/1460000013517628?w=72&amp;h=60" alt="下拉箭头" title="下拉箭头" style="cursor: pointer; display: inline;"></span>，右侧箭头<span class="img-wrap"><img data-src="/img/remote/1460000013517629?w=64&amp;h=72" src="https://static.alili.tech/img/remote/1460000013517629?w=64&amp;h=72" alt="右侧箭头" title="右侧箭头" style="cursor: pointer; display: inline;"></span>  这样的箭头。 一般用css来实现：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="    {  
        display: inline-block;  
        margin: 72px;  
        border-top: 24px solid;
        border-right: 24px solid;  
        width: 120px;
        height: 120px;  
        transform: rotate(45deg); 
    } " title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="css hljs"><code class="css">    {  
        <span class="hljs-attribute">display</span>: inline-block;  
        <span class="hljs-attribute">margin</span>: <span class="hljs-number">72px</span>;  
        <span class="hljs-attribute">border-top</span>: <span class="hljs-number">24px</span> solid;
        <span class="hljs-attribute">border-right</span>: <span class="hljs-number">24px</span> solid;  
        <span class="hljs-attribute">width</span>: <span class="hljs-number">120px</span>;
        <span class="hljs-attribute">height</span>: <span class="hljs-number">120px</span>;  
        <span class="hljs-attribute">transform</span>: <span class="hljs-built_in">rotate</span>(45deg); 
    } </code></pre>
<p>因为这是利用div的border-top, border-right，然后通过旋转div来实现的。</p>
<h3 id="articleHeader1">任意角度的箭头</h3>
<p>这里有个问题： 假如需要一个角度为120度的箭头怎么办呢？ 由于border-top, border-right一直是90度， 所以仅仅通过旋转不行。 <br>我们可以先把div 旋转45度， 让它成为一个 菱形 然后再伸缩，达到任意的角度， 这样就可以得到一个 任意角度的箭头。由于用到了旋转和伸缩两种变换，所以需要使用<br><code>transform: matrix(a,b,c,d,e,f)</code> 这个变换矩阵。 这里的6个变量组成了一个3介的变换矩阵</p>
<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-1-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-1" role="math" style="width: 6.083em; display: inline-block;"><span style="display: inline-block; position: relative; width: 5.014em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(2.039em, 1004.96em, 6.277em, -1000em); top: -4.408em; left: 0em;"><span class="mrow" id="MathJax-Span-2"><span class="mrow" id="MathJax-Span-3"><span class="mo" id="MathJax-Span-4" style="vertical-align: 2.204em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.433em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.402em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-5" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 3.778em; height: 0px;"><span style="position: absolute; clip: rect(2.343em, 1000.48em, 6.035em, -1000em); top: -4.353em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.501em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.48em, 4.198em, -1000em); top: -5.426em; left: 50%; margin-left: -0.251em;"><span class="mtd" id="MathJax-Span-6"><span class="mrow" id="MathJax-Span-7"><span class="mi" id="MathJax-Span-8" style="font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.174em, 1000.47em, 4.198em, -1000em); top: -3.976em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-15"><span class="mrow" id="MathJax-Span-16"><span class="mi" id="MathJax-Span-17" style="font-family: STIXGeneral-Italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-24"><span class="mrow" id="MathJax-Span-25"><span class="mn" id="MathJax-Span-26" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span><span style="position: absolute; clip: rect(2.343em, 1000.53em, 6.035em, -1000em); top: -4.353em; left: 1.626em;"><span style="display: inline-block; position: relative; width: 0.527em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.42em, 4.198em, -1000em); top: -5.426em; left: 50%; margin-left: -0.222em;"><span class="mtd" id="MathJax-Span-9"><span class="mrow" id="MathJax-Span-10"><span class="mi" id="MathJax-Span-11" style="font-family: STIXGeneral-Italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.174em, 1000.53em, 4.2em, -1000em); top: -3.976em; left: 50%; margin-left: -0.264em;"><span class="mtd" id="MathJax-Span-18"><span class="mrow" id="MathJax-Span-19"><span class="mi" id="MathJax-Span-20" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-27"><span class="mrow" id="MathJax-Span-28"><span class="mn" id="MathJax-Span-29" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span><span style="position: absolute; clip: rect(2.343em, 1000.42em, 6.021em, -1000em); top: -4.353em; left: 3.278em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.41em, 4.198em, -1000em); top: -5.426em; left: 50%; margin-left: -0.222em;"><span class="mtd" id="MathJax-Span-12"><span class="mrow" id="MathJax-Span-13"><span class="mi" id="MathJax-Span-14" style="font-family: STIXGeneral-Italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.179em, 1000.42em, 4.394em, -1000em); top: -3.976em; left: 50%; margin-left: -0.212em;"><span class="mtd" id="MathJax-Span-21"><span class="mrow" id="MathJax-Span-22"><span class="mi" id="MathJax-Span-23" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-30"><span class="mrow" id="MathJax-Span-31"><span class="mn" id="MathJax-Span-32" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span></span></span><span class="mo" id="MathJax-Span-33" style="vertical-align: 2.204em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.433em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.402em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.408em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.128em; border-left: 0px solid; width: 0px; height: 4.861em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-1">
 \left[
 \begin{matrix}
   a & c & e \\
   b & d & f \\
   0 & 0 & 1
  \end{matrix}
  \right]
</script></p>
<p>任意点p(x,y)的平移， 旋转， 伸缩变换以及他们的各种组合都可以通过这个变换矩阵做到：</p>
<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-2-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-34" role="math" style="width: 12.35em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.193em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(2.259em, 1010.14em, 6.497em, -1000em); top: -4.628em; left: 0em;"><span class="mrow" id="MathJax-Span-35"><span class="mrow" id="MathJax-Span-36"><span class="mo" id="MathJax-Span-37" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-38" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(2.343em, 1000.45em, 6.021em, -1000em); top: -4.353em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.45em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.224em;"><span class="mtd" id="MathJax-Span-39"><span class="mrow" id="MathJax-Span-40"><span class="mi" id="MathJax-Span-41" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.416em, 1000.43em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.222em;"><span class="mtd" id="MathJax-Span-42"><span class="mrow" id="MathJax-Span-43"><span class="mi" id="MathJax-Span-44" style="font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-45"><span class="mrow" id="MathJax-Span-46"><span class="mn" id="MathJax-Span-47" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span></span></span><span class="mo" id="MathJax-Span-48" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-49" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-50" style="vertical-align: 2.204em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.433em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.402em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-51" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 3.778em; height: 0px;"><span style="position: absolute; clip: rect(2.343em, 1000.48em, 6.035em, -1000em); top: -4.353em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.501em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.48em, 4.198em, -1000em); top: -5.426em; left: 50%; margin-left: -0.251em;"><span class="mtd" id="MathJax-Span-52"><span class="mrow" id="MathJax-Span-53"><span class="mi" id="MathJax-Span-54" style="font-family: STIXGeneral-Italic;">a</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.174em, 1000.47em, 4.198em, -1000em); top: -3.976em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-61"><span class="mrow" id="MathJax-Span-62"><span class="mi" id="MathJax-Span-63" style="font-family: STIXGeneral-Italic;">b</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-70"><span class="mrow" id="MathJax-Span-71"><span class="mn" id="MathJax-Span-72" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span><span style="position: absolute; clip: rect(2.343em, 1000.53em, 6.035em, -1000em); top: -4.353em; left: 1.626em;"><span style="display: inline-block; position: relative; width: 0.527em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.42em, 4.198em, -1000em); top: -5.426em; left: 50%; margin-left: -0.222em;"><span class="mtd" id="MathJax-Span-55"><span class="mrow" id="MathJax-Span-56"><span class="mi" id="MathJax-Span-57" style="font-family: STIXGeneral-Italic;">c</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.174em, 1000.53em, 4.2em, -1000em); top: -3.976em; left: 50%; margin-left: -0.264em;"><span class="mtd" id="MathJax-Span-64"><span class="mrow" id="MathJax-Span-65"><span class="mi" id="MathJax-Span-66" style="font-family: STIXGeneral-Italic;">d<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.027em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-73"><span class="mrow" id="MathJax-Span-74"><span class="mn" id="MathJax-Span-75" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span><span style="position: absolute; clip: rect(2.343em, 1000.42em, 6.021em, -1000em); top: -4.353em; left: 3.278em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.41em, 4.198em, -1000em); top: -5.426em; left: 50%; margin-left: -0.222em;"><span class="mtd" id="MathJax-Span-58"><span class="mrow" id="MathJax-Span-59"><span class="mi" id="MathJax-Span-60" style="font-family: STIXGeneral-Italic;">e</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.179em, 1000.42em, 4.394em, -1000em); top: -3.976em; left: 50%; margin-left: -0.212em;"><span class="mtd" id="MathJax-Span-67"><span class="mrow" id="MathJax-Span-68"><span class="mi" id="MathJax-Span-69" style="font-family: STIXGeneral-Italic;">f<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.146em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-76"><span class="mrow" id="MathJax-Span-77"><span class="mn" id="MathJax-Span-78" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span></span></span><span class="mo" id="MathJax-Span-79" style="vertical-align: 2.204em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.433em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.402em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-80" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mrow" id="MathJax-Span-81" style="padding-left: 0.313em;"><span class="mo" id="MathJax-Span-82" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-83" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(2.352em, 1000.81em, 6.351em, -1000em); top: -4.683em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(3.094em, 1000.81em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-84"><span class="mrow" id="MathJax-Span-85"><span class="msup" id="MathJax-Span-86"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.45em, 4.198em, -1000em); top: -4.022em; left: 0em;"><span class="mi" id="MathJax-Span-87" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.385em; left: 0.498em;"><span class="mo" id="MathJax-Span-88" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.094em, 1000.76em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.38em;"><span class="mtd" id="MathJax-Span-89"><span class="mrow" id="MathJax-Span-90"><span class="msup" id="MathJax-Span-91"><span style="display: inline-block; position: relative; width: 0.759em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.43em, 4.393em, -1000em); top: -4.022em; left: 0em;"><span class="mi" id="MathJax-Span-92" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.385em; left: 0.444em;"><span class="mo" id="MathJax-Span-93" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-94"><span class="mrow" id="MathJax-Span-95"><span class="mn" id="MathJax-Span-96" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.683em;"></span></span></span></span><span class="mo" id="MathJax-Span-97" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.628em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.128em; border-left: 0px solid; width: 0px; height: 4.861em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-2">
 \left[
 \begin{matrix}
  x \\
  y \\
  1
  \end{matrix}
  \right]
 \left[
 \begin{matrix}
   a & c & e \\
   b & d & f \\
   0 & 0 & 1
  \end{matrix}
  \right]= 
   \left[
 \begin{matrix}
   x' \\
   y' \\
   1
  \end{matrix}
  \right] 
</script></p>
<p>注：这里用<a href="https://baike.baidu.com/item/%E9%BD%90%E6%AC%A1%E5%9D%90%E6%A0%87/511284?fr=aladdin" rel="nofollow noreferrer" target="_blank">齐次坐标</a> 来表达一个点。 简单说就是p(x, y) 表示为p'(x', y', 1)</p>
<h5>平移矩阵</h5>
<p>v(x, y) 沿着x轴平移tx， 沿着y轴平移ty。 则有：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="x' = x + tx
y' = y + ty" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs llvm"><code><span class="hljs-keyword">x</span>' = <span class="hljs-keyword">x</span> + tx
y' = y + ty</code></pre>
<p>所以平移矩阵：</p>
<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-3-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-98" role="math" style="width: 12.617em; display: inline-block;"><span style="display: inline-block; position: relative; width: 10.413em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(2.26em, 1010.36em, 6.496em, -1000em); top: -4.628em; left: 0em;"><span class="mrow" id="MathJax-Span-99"><span class="mrow" id="MathJax-Span-100"><span class="mo" id="MathJax-Span-101" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-102" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(2.352em, 1000.81em, 6.351em, -1000em); top: -4.683em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(3.094em, 1000.81em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-103"><span class="mrow" id="MathJax-Span-104"><span class="msup" id="MathJax-Span-105"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.45em, 4.198em, -1000em); top: -4.022em; left: 0em;"><span class="mi" id="MathJax-Span-106" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.385em; left: 0.498em;"><span class="mo" id="MathJax-Span-107" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.094em, 1000.76em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.38em;"><span class="mtd" id="MathJax-Span-108"><span class="mrow" id="MathJax-Span-109"><span class="msup" id="MathJax-Span-110"><span style="display: inline-block; position: relative; width: 0.759em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.43em, 4.393em, -1000em); top: -4.022em; left: 0em;"><span class="mi" id="MathJax-Span-111" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.385em; left: 0.444em;"><span class="mo" id="MathJax-Span-112" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-113"><span class="mrow" id="MathJax-Span-114"><span class="mn" id="MathJax-Span-115" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.683em;"></span></span></span></span><span class="mo" id="MathJax-Span-116" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-117" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mrow" id="MathJax-Span-118" style="padding-left: 0.313em;"><span class="mo" id="MathJax-Span-119" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-120" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 3.993em; height: 0px;"><span style="position: absolute; clip: rect(2.329em, 1000.48em, 6.255em, -1000em); top: -4.573em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -5.425em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-121"><span class="mrow" id="MathJax-Span-122"><span class="mn" id="MathJax-Span-123" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -3.975em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-131"><span class="mrow" id="MathJax-Span-132"><span class="mn" id="MathJax-Span-133" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-141"><span class="mrow" id="MathJax-Span-142"><span class="mn" id="MathJax-Span-143" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.573em;"></span></span><span style="position: absolute; clip: rect(2.329em, 1000.48em, 6.255em, -1000em); top: -4.573em; left: 1.625em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -5.425em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-124"><span class="mrow" id="MathJax-Span-125"><span class="mn" id="MathJax-Span-126" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -3.975em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-134"><span class="mrow" id="MathJax-Span-135"><span class="mn" id="MathJax-Span-136" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-144"><span class="mrow" id="MathJax-Span-145"><span class="mn" id="MathJax-Span-146" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.573em;"></span></span><span style="position: absolute; clip: rect(2.349em, 1000.74em, 6.131em, -1000em); top: -4.463em; left: 3.25em;"><span style="display: inline-block; position: relative; width: 0.743em; height: 0px;"><span style="position: absolute; clip: rect(3.311em, 1000.74em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.371em;"><span class="mtd" id="MathJax-Span-127"><span class="mrow" id="MathJax-Span-128"><span class="mi" id="MathJax-Span-129" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.018em;"></span></span><span class="mi" id="MathJax-Span-130" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.311em, 1000.72em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.37em;"><span class="mtd" id="MathJax-Span-137"><span class="mrow" id="MathJax-Span-138"><span class="mi" id="MathJax-Span-139" style="font-family: STIXGeneral-Italic;">t<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.018em;"></span></span><span class="mi" id="MathJax-Span-140" style="font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-147"><span class="mrow" id="MathJax-Span-148"><span class="mn" id="MathJax-Span-149" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.463em;"></span></span></span></span><span class="mo" id="MathJax-Span-150" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-151" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-152" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-153" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(2.343em, 1000.45em, 6.021em, -1000em); top: -4.353em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.45em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.224em;"><span class="mtd" id="MathJax-Span-154"><span class="mrow" id="MathJax-Span-155"><span class="mi" id="MathJax-Span-156" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.416em, 1000.43em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.222em;"><span class="mtd" id="MathJax-Span-157"><span class="mrow" id="MathJax-Span-158"><span class="mi" id="MathJax-Span-159" style="font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-160"><span class="mrow" id="MathJax-Span-161"><span class="mn" id="MathJax-Span-162" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span></span></span><span class="mo" id="MathJax-Span-163" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.628em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.127em; border-left: 0px solid; width: 0px; height: 4.86em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-3">
 \left[
 \begin{matrix}
  x' \\
  y' \\
  1
  \end{matrix}
  \right]=
 \left[
 \begin{matrix}
   1  & 0  & tx \\
   0  & 1  & ty \\
   0 & 0 & 1
  \end{matrix}
  \right] 
   \left[
 \begin{matrix}
   x \\
   y \\
   1
  \end{matrix}
  \right] 
</script></p>
<h5>旋转矩阵</h5>
<p>v(x, y) 点绕原点旋转θ到v'(x', y')<br><span class="img-wrap"><img data-src="/img/remote/1460000013517630?w=273&amp;h=267" src="https://static.alili.tech/img/remote/1460000013517630?w=273&amp;h=267" alt="此处输入图片的描述" title="此处输入图片的描述" style="cursor: pointer;"></span><br>则有：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="x = r * cos(ϕ )
y = r * sin(ϕ )

x' = r * cos(θ + ϕ) = r * cos(θ) * cos(ϕ) - r * sin(θ) * sin(ϕ ) // 余弦公式
y' = r * sin(θ + ϕ) = r * sin(θ) * cos(ϕ) + r * cos(θ) * sin(ϕ ) // 正弦公式" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs cpp"><code>x = r * <span class="hljs-built_in">cos</span>(ϕ )
y = r * <span class="hljs-built_in">sin</span>(ϕ )

x' = r * <span class="hljs-built_in">cos</span>(θ + ϕ) = r * <span class="hljs-built_in">cos</span>(θ) * <span class="hljs-built_in">cos</span>(ϕ) - r * <span class="hljs-built_in">sin</span>(θ) * <span class="hljs-built_in">sin</span>(ϕ ) <span class="hljs-comment">// 余弦公式</span>
y' = r * <span class="hljs-built_in">sin</span>(θ + ϕ) = r * <span class="hljs-built_in">sin</span>(θ) * <span class="hljs-built_in">cos</span>(ϕ) + r * <span class="hljs-built_in">cos</span>(θ) * <span class="hljs-built_in">sin</span>(ϕ ) <span class="hljs-comment">// 正弦公式</span></code></pre>
<p>所以：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="x' = x * cos(θ) - y * sin(θ)
y' = x * sin(θ) + y * cos(θ)" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs matlab"><code>x' = x * <span class="hljs-built_in">cos</span>(θ) - y * <span class="hljs-built_in">sin</span>(θ)
y' = x * <span class="hljs-built_in">sin</span>(θ) + y * <span class="hljs-built_in">cos</span>(θ)</code></pre>
<p>所以旋转矩阵：</p>
<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-4-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-164" role="math" style="width: 17.75em; display: inline-block;"><span style="display: inline-block; position: relative; width: 14.656em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(2.26em, 1014.61em, 6.496em, -1000em); top: -4.628em; left: 0em;"><span class="mrow" id="MathJax-Span-165"><span class="mrow" id="MathJax-Span-166"><span class="mo" id="MathJax-Span-167" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-168" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(2.352em, 1000.81em, 6.351em, -1000em); top: -4.683em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(3.094em, 1000.81em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-169"><span class="mrow" id="MathJax-Span-170"><span class="msup" id="MathJax-Span-171"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.45em, 4.198em, -1000em); top: -4.022em; left: 0em;"><span class="mi" id="MathJax-Span-172" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.385em; left: 0.498em;"><span class="mo" id="MathJax-Span-173" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.094em, 1000.76em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.38em;"><span class="mtd" id="MathJax-Span-174"><span class="mrow" id="MathJax-Span-175"><span class="msup" id="MathJax-Span-176"><span style="display: inline-block; position: relative; width: 0.759em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.43em, 4.393em, -1000em); top: -4.022em; left: 0em;"><span class="mi" id="MathJax-Span-177" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.385em; left: 0.444em;"><span class="mo" id="MathJax-Span-178" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-179"><span class="mrow" id="MathJax-Span-180"><span class="mn" id="MathJax-Span-181" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.683em;"></span></span></span></span><span class="mo" id="MathJax-Span-182" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-183" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mrow" id="MathJax-Span-184" style="padding-left: 0.313em;"><span class="mo" id="MathJax-Span-185" style="vertical-align: 2.2em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.44em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.373em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.407em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-186" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 8.259em; height: 0px;"><span style="position: absolute; clip: rect(2.325em, 1002.45em, 6.252em, -1000em); top: -4.573em; left: 0em;"><span style="display: inline-block; position: relative; width: 2.495em; height: 0px;"><span style="position: absolute; clip: rect(3.174em, 1002.45em, 4.364em, -1000em); top: -5.422em; left: 50%; margin-left: -1.248em;"><span class="mtd" id="MathJax-Span-187"><span class="mrow" id="MathJax-Span-188"><span class="mi" id="MathJax-Span-189" style="font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-190" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-191" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-192" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-193"><span class="mrow" id="MathJax-Span-194"><span class="mo" id="MathJax-Span-195" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span class="mo" id="MathJax-Span-196" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.174em, 1002.28em, 4.364em, -1000em); top: -3.972em; left: 50%; margin-left: -1.165em;"><span class="mtd" id="MathJax-Span-211"><span class="mrow" id="MathJax-Span-212"><span class="mi" id="MathJax-Span-213" style="font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-214" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-215" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-216" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-217"><span class="mrow" id="MathJax-Span-218"><span class="mo" id="MathJax-Span-219" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span class="mo" id="MathJax-Span-220" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.522em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-234"><span class="mrow" id="MathJax-Span-235"><span class="mn" id="MathJax-Span-236" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.573em;"></span></span><span style="position: absolute; clip: rect(2.325em, 1002.97em, 6.252em, -1000em); top: -4.573em; left: 3.62em;"><span style="display: inline-block; position: relative; width: 3.014em; height: 0px;"><span style="position: absolute; clip: rect(3.174em, 1002.97em, 4.364em, -1000em); top: -5.422em; left: 50%; margin-left: -1.507em;"><span class="mtd" id="MathJax-Span-197"><span class="mrow" id="MathJax-Span-198"><span class="mo" id="MathJax-Span-199" style="font-family: STIXGeneral-Regular;">−</span><span class="mi" id="MathJax-Span-200" style="font-family: STIXGeneral-Italic;">s</span><span class="mi" id="MathJax-Span-201" style="font-family: STIXGeneral-Italic;">i</span><span class="mi" id="MathJax-Span-202" style="font-family: STIXGeneral-Italic;">n</span><span class="mo" id="MathJax-Span-203" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-204"><span class="mrow" id="MathJax-Span-205"><span class="mo" id="MathJax-Span-206" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span class="mo" id="MathJax-Span-207" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.174em, 1002.45em, 4.364em, -1000em); top: -3.972em; left: 50%; margin-left: -1.248em;"><span class="mtd" id="MathJax-Span-221"><span class="mrow" id="MathJax-Span-222"><span class="mi" id="MathJax-Span-223" style="font-family: STIXGeneral-Italic;">c</span><span class="mi" id="MathJax-Span-224" style="font-family: STIXGeneral-Italic;">o</span><span class="mi" id="MathJax-Span-225" style="font-family: STIXGeneral-Italic;">s</span><span class="mo" id="MathJax-Span-226" style="font-family: STIXGeneral-Regular;">(</span><span class="texatom" id="MathJax-Span-227"><span class="mrow" id="MathJax-Span-228"><span class="mo" id="MathJax-Span-229" style="font-family: STIXGeneral-Regular;">θ</span></span></span><span class="mo" id="MathJax-Span-230" style="font-family: STIXGeneral-Regular;">)</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.522em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-237"><span class="mrow" id="MathJax-Span-238"><span class="mn" id="MathJax-Span-239" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.573em;"></span></span><span style="position: absolute; clip: rect(2.332em, 1000.48em, 6.238em, -1000em); top: -4.573em; left: 7.759em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -5.422em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-208"><span class="mrow" id="MathJax-Span-209"><span class="mn" id="MathJax-Span-210" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -3.972em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-231"><span class="mrow" id="MathJax-Span-232"><span class="mn" id="MathJax-Span-233" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.522em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-240"><span class="mrow" id="MathJax-Span-241"><span class="mn" id="MathJax-Span-242" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.573em;"></span></span></span></span><span class="mo" id="MathJax-Span-243" style="vertical-align: 2.2em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.44em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.373em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.407em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span class="mrow" id="MathJax-Span-244" style="padding-left: 0.188em;"><span class="mo" id="MathJax-Span-245" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-246" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(2.343em, 1000.45em, 6.021em, -1000em); top: -4.353em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.45em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.224em;"><span class="mtd" id="MathJax-Span-247"><span class="mrow" id="MathJax-Span-248"><span class="mi" id="MathJax-Span-249" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.416em, 1000.43em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.222em;"><span class="mtd" id="MathJax-Span-250"><span class="mrow" id="MathJax-Span-251"><span class="mi" id="MathJax-Span-252" style="font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-253"><span class="mrow" id="MathJax-Span-254"><span class="mn" id="MathJax-Span-255" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span></span></span><span class="mo" id="MathJax-Span-256" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.628em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.127em; border-left: 0px solid; width: 0px; height: 4.86em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-4">
 \left[
 \begin{matrix}
  x' \\
  y' \\
  1
  \end{matrix}
  \right]=
 \left[
 \begin{matrix}
   cos(θ)  & -sin(θ) & 0 \\
   sin(θ) & cos(θ)  & 0 \\
   0 & 0 & 1
  \end{matrix}
  \right]
   \left[
 \begin{matrix}
   x \\
   y \\
   1
  \end{matrix}
  \right] 
</script></p>
<h5>伸缩矩阵</h5>
<p>假设x轴，y轴的伸缩率分别是kx， ky。 则有：</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="x' = x * kx
y' = y * ky" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs llvm"><code><span class="hljs-keyword">x</span>' = <span class="hljs-keyword">x</span> * kx
y' = y * ky</code></pre>
<p>所以：</p>
<p><span class="MathJax_Preview"></span><div class="MathJax_Display" style="text-align: center;"><span class="MathJax" id="MathJax-Element-5-Frame" tabindex="0" style=""><nobr><span class="math" id="MathJax-Span-257" role="math" style="width: 14.55em; display: inline-block;"><span style="display: inline-block; position: relative; width: 12.011em; height: 0px; font-size: 121%;"><span style="position: absolute; clip: rect(2.26em, 1011.96em, 6.496em, -1000em); top: -4.628em; left: 0em;"><span class="mrow" id="MathJax-Span-258"><span class="mrow" id="MathJax-Span-259"><span class="mo" id="MathJax-Span-260" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-261" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(2.352em, 1000.81em, 6.351em, -1000em); top: -4.683em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(3.094em, 1000.81em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.407em;"><span class="mtd" id="MathJax-Span-262"><span class="mrow" id="MathJax-Span-263"><span class="msup" id="MathJax-Span-264"><span style="display: inline-block; position: relative; width: 0.813em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.45em, 4.198em, -1000em); top: -4.022em; left: 0em;"><span class="mi" id="MathJax-Span-265" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.385em; left: 0.498em;"><span class="mo" id="MathJax-Span-266" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.094em, 1000.76em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.38em;"><span class="mtd" id="MathJax-Span-267"><span class="mrow" id="MathJax-Span-268"><span class="msup" id="MathJax-Span-269"><span style="display: inline-block; position: relative; width: 0.759em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.43em, 4.393em, -1000em); top: -4.022em; left: 0em;"><span class="mi" id="MathJax-Span-270" style="font-family: STIXGeneral-Italic;">y</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; top: -4.385em; left: 0.444em;"><span class="mo" id="MathJax-Span-271" style="font-size: 70.7%; font-family: STIXVariants;">′</span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-272"><span class="mrow" id="MathJax-Span-273"><span class="mn" id="MathJax-Span-274" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.683em;"></span></span></span></span><span class="mo" id="MathJax-Span-275" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-276" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mrow" id="MathJax-Span-277" style="padding-left: 0.313em;"><span class="mo" id="MathJax-Span-278" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-279" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 4.563em; height: 0px;"><span style="position: absolute; clip: rect(2.377em, 1000.91em, 6.31em, -1000em); top: -4.628em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.908em; height: 0px;"><span style="position: absolute; clip: rect(3.174em, 1000.91em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.454em;"><span class="mtd" id="MathJax-Span-280"><span class="mrow" id="MathJax-Span-281"><span class="mi" id="MathJax-Span-282" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.017em;"></span></span><span class="mi" id="MathJax-Span-283" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -3.975em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-290"><span class="mrow" id="MathJax-Span-291"><span class="mn" id="MathJax-Span-292" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-300"><span class="mrow" id="MathJax-Span-301"><span class="mn" id="MathJax-Span-302" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.628em;"></span></span><span style="position: absolute; clip: rect(2.329em, 1000.89em, 6.255em, -1000em); top: -4.573em; left: 2.033em;"><span style="display: inline-block; position: relative; width: 0.905em; height: 0px;"><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -5.425em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-284"><span class="mrow" id="MathJax-Span-285"><span class="mn" id="MathJax-Span-286" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.174em, 1000.89em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.453em;"><span class="mtd" id="MathJax-Span-293"><span class="mrow" id="MathJax-Span-294"><span class="mi" id="MathJax-Span-295" style="font-family: STIXGeneral-Italic;">k<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.017em;"></span></span><span class="mi" id="MathJax-Span-296" style="font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-303"><span class="mrow" id="MathJax-Span-304"><span class="mn" id="MathJax-Span-305" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.573em;"></span></span><span style="position: absolute; clip: rect(2.329em, 1000.48em, 6.241em, -1000em); top: -4.573em; left: 4.063em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -5.425em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-287"><span class="mrow" id="MathJax-Span-288"><span class="mn" id="MathJax-Span-289" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.48em, 4.201em, -1000em); top: -3.975em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-297"><span class="mrow" id="MathJax-Span-298"><span class="mn" id="MathJax-Span-299" style="font-family: STIXGeneral-Regular;">0</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-306"><span class="mrow" id="MathJax-Span-307"><span class="mn" id="MathJax-Span-308" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.573em;"></span></span></span></span><span class="mo" id="MathJax-Span-309" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span><span class="mo" id="MathJax-Span-310" style="font-family: STIXGeneral-Regular; padding-left: 0.313em;">=</span><span class="mrow" id="MathJax-Span-311" style="padding-left: 0.313em;"><span class="mo" id="MathJax-Span-312" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎡<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎣<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎢<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span><span class="mtable" id="MathJax-Span-313" style="padding-right: 0.167em; padding-left: 0.167em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(2.343em, 1000.45em, 6.021em, -1000em); top: -4.353em; left: 0em;"><span style="display: inline-block; position: relative; width: 0.5em; height: 0px;"><span style="position: absolute; clip: rect(3.416em, 1000.45em, 4.198em, -1000em); top: -5.425em; left: 50%; margin-left: -0.224em;"><span class="mtd" id="MathJax-Span-314"><span class="mrow" id="MathJax-Span-315"><span class="mi" id="MathJax-Span-316" style="font-family: STIXGeneral-Italic;">x<span style="display: inline-block; overflow: hidden; height: 1px; width: 0.003em;"></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.416em, 1000.43em, 4.393em, -1000em); top: -3.975em; left: 50%; margin-left: -0.222em;"><span class="mtd" id="MathJax-Span-317"><span class="mrow" id="MathJax-Span-318"><span class="mi" id="MathJax-Span-319" style="font-family: STIXGeneral-Italic;">y</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; clip: rect(3.181em, 1000.39em, 4.187em, -1000em); top: -2.519em; left: 50%; margin-left: -0.25em;"><span class="mtd" id="MathJax-Span-320"><span class="mrow" id="MathJax-Span-321"><span class="mn" id="MathJax-Span-322" style="font-family: STIXGeneral-Regular;">1</span></span></span><span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span><span style="display: inline-block; width: 0px; height: 4.353em;"></span></span></span></span><span class="mo" id="MathJax-Span-323" style="vertical-align: 2.203em;"><span style="display: inline-block; position: relative; width: 0.45em; height: 0px;"><span style="position: absolute; font-family: STIXSizeOneSym; top: -3.34em; left: 0em;">⎤<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="position: absolute; font-family: STIXSizeOneSym; top: -0.434em; left: 0em;">⎦<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -2.371em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span><span style="font-family: STIXSizeOneSym; position: absolute; top: -1.403em; left: 0em;">⎥<span style="display: inline-block; width: 0px; height: 4.022em;"></span></span></span></span></span></span><span style="display: inline-block; width: 0px; height: 4.628em;"></span></span></span><span style="display: inline-block; overflow: hidden; vertical-align: -2.127em; border-left: 0px solid; width: 0px; height: 4.86em;"></span></span></nobr></span></div><script type="math/tex; mode=display" id="MathJax-Element-5">
 \left[
 \begin{matrix}
  x' \\
  y' \\
  1
  \end{matrix}
  \right]=
 \left[
 \begin{matrix}
   kx  & 0 & 0 \\
   0 & ky  & 0 \\
   0 & 0 & 1
  \end{matrix}
  \right]= 
   \left[
 \begin{matrix}
   x \\
   y \\
   1
  \end{matrix}
  \right] 
</script></p>
<h5>复合变换</h5>
<p>如果是对p(x, y)先平移(变换矩阵A)， 然后旋转(变换矩阵B)， 然后伸缩(变换矩阵C)呢?</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="p' =C(B(Ap)) ==>  p' = (CBA)p //矩阵乘法结合率" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs stylus"><code style="word-break: break-word; white-space: initial;">p<span class="hljs-string">' =C(B(Ap)) ==&gt;  p'</span> = (CBA)<span class="hljs-selector-tag">p</span> <span class="hljs-comment">//矩阵乘法结合率</span></code></pre>
<p>现在任意角度o的箭头就很简单了：</p>
<ol>
<li>先把div旋转45度 成为 菱形， 变换为 <strong>M1</strong>
</li>
<li>伸缩x轴， y轴 :</li>
</ol>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="    x' = size * cos(o/2) = x * √2 *  cos(o/2)
    y' = size * sin(o/2) = y *  √2  * sin(o/2)" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs matlab"><code>    x' = <span class="hljs-built_in">size</span> * <span class="hljs-built_in">cos</span>(o/<span class="hljs-number">2</span>) = x * √<span class="hljs-number">2</span> *  <span class="hljs-built_in">cos</span>(o/<span class="hljs-number">2</span>)
    y' = <span class="hljs-built_in">size</span> * <span class="hljs-built_in">sin</span>(o/<span class="hljs-number">2</span>) = y *  √<span class="hljs-number">2</span>  * <span class="hljs-built_in">sin</span>(o/<span class="hljs-number">2</span>)</code></pre>
<p>即： kx =  √2 <em>  cos(o/2); ky =  √2  </em> sin(o/2)<br>这样就得到了任意角度的箭头。 变换为<strong>M2</strong></p>
<p>如果箭头的方向不是指向右侧， 在进行一次旋转就可以得到任意方向的箭头。变换为<strong>M3</strong></p>
<p>那么由于 <code>p' =C(B(Ap)) ==&gt;  p' = (CBA)p</code>, 我们就可以先计算出 M3<em>M2</em>M1，然后对div进行相应的变换，就可以得到任意角度， 任意方向的箭头了。 </p>
<p>div的width和height就是箭头的边长， 通过调整可以获取任意边长的箭头。</p>
<h3 id="articleHeader2">React组件</h3>
<p>为了方便使用， 这个箭头被封装为了一个 React组件。<a href="https://github.com/ykforerlang/rc-arrow" rel="nofollow noreferrer" target="_blank">git地址</a></p>
<h5>示例</h5>
<table>
<thead><tr>
<th align="center">简单箭头</th>
<th align="center">模拟select</th>
<th align="center">发散箭头</th>
</tr></thead>
<tbody><tr>
<td align="center"><span class="img-wrap"><img data-src="/img/remote/1460000013517631?w=646&amp;h=66" src="https://static.alili.tech/img/remote/1460000013517631?w=646&amp;h=66" alt="简单箭头" title="简单箭头" style="cursor: pointer; display: inline;"></span></td>
<td align="center"><span class="img-wrap"><img data-src="/img/remote/1460000013517632?w=190&amp;h=152" src="https://static.alili.tech/img/remote/1460000013517632?w=190&amp;h=152" alt="模拟select" title="模拟select" style="cursor: pointer; display: inline;"></span></td>
<td align="center"><span class="img-wrap"><img data-src="/img/remote/1460000013517633?w=156&amp;h=520" src="https://static.alili.tech/img/remote/1460000013517633?w=156&amp;h=520" alt="发散箭头" title="发散箭头" style="cursor: pointer; display: inline;"></span></td>
</tr></tbody>
</table>
<h4>props</h4>
<table>
<thead><tr>
<th align="center">name</th>
<th align="center">type</th>
<th align="center">default</th>
<th align="center">description</th>
</tr></thead>
<tbody>
<tr>
<td align="center">degree</td>
<td align="center">number</td>
<td align="center">90</td>
<td align="center">箭头的张角, 角度制</td>
</tr>
<tr>
<td align="center">offsetDegree</td>
<td align="center">number</td>
<td align="center">0</td>
<td align="center">箭头的方向，默认指向右边</td>
</tr>
<tr>
<td align="center">color</td>
<td align="center">string</td>
<td align="center">-</td>
<td align="center">箭头的颜色</td>
</tr>
<tr>
<td align="center">size</td>
<td align="center">string</td>
<td align="center">10px</td>
<td align="center">箭头边长</td>
</tr>
</tbody>
</table>
<h4>安装使用</h4>
<p><code>npm install rc-arrow --save</code></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="import Arrow from 'rc-arrow'

class Hw extends Component {
    render() {
        return (
            <Arrow size=&quot;20px&quot; color=&quot;red&quot;/>
        )
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">import</span> Arrow <span class="hljs-keyword">from</span> <span class="hljs-string">'rc-arrow'</span>

<span class="hljs-class"><span class="hljs-keyword">class</span> <span class="hljs-title">Hw</span> <span class="hljs-keyword">extends</span> <span class="hljs-title">Component</span> </span>{
    render() {
        <span class="hljs-keyword">return</span> (
            <span class="xml"><span class="hljs-tag">&lt;<span class="hljs-name">Arrow</span> <span class="hljs-attr">size</span>=<span class="hljs-string">"20px"</span> <span class="hljs-attr">color</span>=<span class="hljs-string">"red"</span>/&gt;</span>
        )
    }
}</span></code></pre>
<hr>

                
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
使用css实现任意大小，任意方向， 任意角度的箭头

## 原文链接
[https://segmentfault.com/a/1190000013517623](https://segmentfault.com/a/1190000013517623)


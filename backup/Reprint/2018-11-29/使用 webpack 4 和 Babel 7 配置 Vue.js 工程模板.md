---
title: '使用 webpack 4 和 Babel 7 配置 Vue.js 工程模板' 
date: 2018-11-29 2:30:08
hidden: true
slug: dtsnmk1lppt
categories: [reprint]
---

{{< raw >}}
<p>&#x56E2;&#x961F;&#x6700;&#x8FD1;&#x5F00;&#x59CB;&#x4E00;&#x4E2A;&#x65B0;&#x9879;&#x76EE;&#xFF0C;&#x6280;&#x672F;&#x6808;&#x91C7;&#x7528; Vue.js 2 &#x6846;&#x67B6;&#x3002;&#x7531;&#x4E8E;&#x662F;&#x4E00;&#x4E2A;&#x8F83;&#x590D;&#x6742;&#x7684;&#x5927;&#x578B;&#x5355;&#x9875;&#x5E94;&#x7528;&#xFF0C;&#x51B3;&#x5B9A;&#x4F7F;&#x7528;&#x5B98;&#x65B9;&#x63A8;&#x8350;&#x7684; <a href="https://github.com/vuejs-templates/webpack" rel="nofollow noreferrer" target="_blank">webpack</a> &#x5DE5;&#x7A0B;&#x4F5C;&#x4E3A;&#x5E94;&#x7528;&#x5DE5;&#x7A0B;&#x811A;&#x624B;&#x67B6;&#x3002;&#x8BE5;&#x5DE5;&#x7A0B;&#x6A21;&#x677F;&#x4E2D;&#x4F7F;&#x7528;&#x4E86; webpack 3 &#x548C; babel 6&#xFF0C;&#x7531;&#x4E8E; webpack 4 &#x5DF2;&#x53D1;&#x5E03;&#xFF0C;Babel 7 &#x4E5F;&#x51FA;&#x6765;&#x633A;&#x957F;&#x4E00;&#x6BB5;&#x65F6;&#x95F4;&#x4E86;&#xFF0C;&#x6240;&#x4EE5;&#x60F3;&#x5BF9;&#x5DE5;&#x7A0B;&#x6A21;&#x677F;&#x8FDB;&#x884C;&#x5347;&#x7EA7;&#x6539;&#x9020;&#xFF0C;&#x4EE5;&#x5C1D;&#x8BD5;&#x5DE5;&#x7A0B;&#x5316;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x7684;&#x6700;&#x65B0;&#x7279;&#x6027;&#x3002;</p><h2 id="articleHeader0">&#x5173;&#x952E;&#x8C03;&#x6574;</h2><p>webpack&#x5DE5;&#x7A0B;&#x6A21;&#x677F;&#x672C;&#x8EAB;&#x662F;&#x4E3A;&#x5927;&#x578B;&#x5E94;&#x7528;&#x8BBE;&#x8BA1;&#x7684;&#xFF0C;&#x6784;&#x5EFA;&#x811A;&#x672C;&#x548C;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x7ED3;&#x6784;&#x76F8;&#x6BD4;&#x4E00;&#x822C;&#x9879;&#x76EE;&#x7A0D;&#x663E;&#x590D;&#x6742;&#xFF0C;&#x6DFB;&#x52A0;&#x4E86;&#x4E00;&#x4E9B;&#x5F00;&#x53D1;&#x8F85;&#x52A9;&#x5DE5;&#x5177;&#xFF0C;&#x5E76;&#x4E14;&#x505A;&#x4E86;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x7684;&#x5C01;&#x88C5;&#x3002;&#x672C;&#x6B21;&#x5347;&#x7EA7;&#x4E5F;&#x662F;&#x6CBF;&#x7528;&#x4E86;&#x6B64;&#x5957;&#x7ED3;&#x6784;&#xFF0C;&#x53EA;&#x662F;&#x5BF9;&#x5347;&#x7EA7;&#x540E;&#x7684;&#x51E0;&#x4E2A;&#x5DE5;&#x5177;&#x914D;&#x7F6E;&#x9879;&#x505A;&#x4E86;&#x8C03;&#x6574;&#x3002;&#x51E0;&#x4E2A;&#x5173;&#x952E;&#x8C03;&#x6574;&#xFF1A;&#x9664;&#x4E86; webpack 4 &#x548C; Babel 7&#xFF0C;&#x914D;&#x5957;&#x7684; vue-loader &#x4E5F;&#x5347;&#x7EA7;&#x5230;&#x4E86; v15&#xFF08;&#x5B98;&#x65B9;&#x7684;&#x6587;&#x6863;&#x5DF2;&#x7ECF;&#x662F;v15&#x4E86;&#xFF09;&#xFF1B;&#x53E6;&#x5916;&#x4E3A;&#x4E86;&#x914D;&#x5957; webpack 4&#xFF0C;<code>extract-text-webpack-plugin</code> &#x63D2;&#x4EF6;&#x4E5F;&#x88AB;&#x66FF;&#x6362;&#x6210;&#x4E86;<code>mini-css-extract-plugin</code>&#xFF0C;&#x5E76;&#x4E14;&#x914D;&#x5408; <code>css-hot-loader</code> &#x53EF;&#x5B9E;&#x73B0;&#x63D0;&#x53D6;css&#x6587;&#x4EF6;&#x7684;&#x70ED;&#x66FF;&#x6362;&#x3002;&#x4E3B;&#x8981;&#x914D;&#x7F6E;&#x9879;&#x8C03;&#x6574;&#x8BF7;&#x770B;&#x4E0B;&#x6587;&#xFF0C;&#x524D;&#x540E;&#x914D;&#x7F6E;&#x4EE3;&#x7801;&#x5DEE;&#x5F02;&#x53EF;&#x4EE5;&#x89C1;<a href="https://github.com/xsbear/vue-webpack4-babel7/compare/505c248...36b1805" rel="nofollow noreferrer" target="_blank">&#x8FD9;&#x91CC;</a>&#xFF0C;&#x5B8C;&#x6574;&#x5DE5;&#x7A0B;&#x6A21;&#x677F;&#x5E93;&#x5730;&#x5740;&#xFF1A;<a href="https://github.com/xsbear/vue-webpack4-babel7" rel="nofollow noreferrer" target="_blank">https://github.com/xsbear/vue...</a>&#xFF0C;&#x6709;&#x9700;&#x8981;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x4EE5;&#x76F4;&#x63A5; clone&#x3002;</p><h3 id="articleHeader1">&#x57FA;&#x7840;&#x914D;&#x7F6E; build/webpack.base.conf.js</h3><p>&#x8FD9;&#x91CC;&#x7684;&#x4E3B;&#x8981;&#x53D8;&#x5316;&#x662F;&#x65B0;&#x7684; <code>vue-loader</code> &#x914D;&#x7F6E;&#xFF0C;&#x7531;&#x4E8E;&#x65B0;&#x7248;&#x914D;&#x7F6E;&#x9009;&#x9879;&#x53D1;&#x751F;&#x53D8;&#x66F4;&#xFF0C;&#x539F;&#x6765;<code>vue-loader.conf.js</code>&#x91CC;&#x7684;&#x914D;&#x7F6E;&#x9879;&#x57FA;&#x672C;&#x5DF2;&#x5E9F;&#x5F03;&#xFF0C;&#x672C;&#x65B9;&#x6848;&#x76F4;&#x63A5;&#x5C06;<code>transformAssetUrls</code>&#x9009;&#x9879;&#x914D;&#x7F6E;&#x5728;&#x4E86; <code>vue-loader</code> &#x7684; rule options &#x91CC;&#xFF1B;&#x53E6;&#x5916;&#x9700;&#x5F15;&#x5165;<code>vue-loader/lib/plugin</code>&#xFF0C;&#x4EE5;&#x786E;&#x4FDD;&#x6B63;&#x786E;&#x89E3;&#x6790; <code>.vue</code>&#x6587;&#x4EF6; <code>&lt;script&gt;</code>&#x5757;&#x4E2D;&#x7684;js&#x4EE3;&#x7801;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbbTWF?w=800&amp;h=809" src="https://static.alili.tech/img/bVbbTWF?w=800&amp;h=809" alt="&#x56FE;&#x7247;&#x63CF;&#x8FF0;" title="&#x56FE;&#x7247;&#x63CF;&#x8FF0;" style="cursor:pointer;display:inline"></span></p><h3 id="articleHeader2">&#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#x914D;&#x7F6E; webpack.dev.conf.js</h3><p>webpack 4 &#x7684;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x53D8;&#x5316;&#xFF1A; &#x6DFB;&#x52A0; <code>mode</code> &#x53C2;&#x6570;&#xFF0C;&#x503C;&#x4E3A; <code>development</code>&#xFF0C;&#x79FB;&#x9664;&#x5DF2;&#x5E9F;&#x5F03;&#x7684;<code>NamedModulesPlugin</code>&#xFF0C;<code>NoEmitOnErrorsPlugin</code> &#x7B49;&#x63D2;&#x4EF6;&#xFF0C;&#x53E6;&#x5916;&#x5F15;&#x5165; <code>mini-css-extract-plugin</code> &#x4F5C;&#x4E3A;css&#x6587;&#x4EF6;&#x63D0;&#x53D6;&#x63D2;&#x4EF6;&#x3002;&#x5F53;&#x7136;&#xFF0C;&#x5982;&#x679C;&#x4F60;&#x4E0D;&#x6253;&#x7B97;&#x5728;&#x5F00;&#x53D1;&#x6A21;&#x5F0F;&#x4E0B;&#x4F7F;&#x7528;css&#x63D0;&#x53D6;&#xFF08;&#x4F7F;&#x7528; style-loader &#x66FF;&#x4EE3;&#xFF09;&#xFF0C;&#x4E5F;&#x53EF;&#x4EE5;&#x4E0D;&#x5F15;&#x5165;&#x6B64;&#x63D2;&#x4EF6;&#xFF0C;&#x4E14;&#x5728;&#x8C03;&#x7528;<code>utils.styleLoaders</code>&#x65B9;&#x6CD5;&#x914D;&#x7F6E;css&#x6A21;&#x5757;&#x89C4;&#x5219;&#x65F6;&#xFF0C;<code>extract</code> &#x53C2;&#x6570;&#x4F20; <code>false</code>&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbbTYl?w=800&amp;h=627" src="https://static.alili.tech/img/bVbbTYl?w=800&amp;h=627" alt="&#x56FE;&#x7247;&#x63CF;&#x8FF0;" title="&#x56FE;&#x7247;&#x63CF;&#x8FF0;" style="cursor:pointer;display:inline"></span></p><h3 id="articleHeader3">build/utils.js</h3><p>&#x5BF9; utils&#x91CC;&#x7684; <code>generateLoaders</code> &#x65B9;&#x6CD5;&#x505A;&#x4E86;&#x8C03;&#x6574;&#xFF0C;&#x66FF;&#x6362;css&#x63D0;&#x53D6;&#x63D2;&#x4EF6;&#xFF0C;&#x589E;&#x52A0; <code>hotReload</code> &#x53C2;&#x6570;&#xFF0C;&#x4F9B;&#x5F00;&#x53D1;&#x3001;&#x751F;&#x4EA7;&#x6A21;&#x5F0F;&#x9009;&#x62E9;&#x662F;&#x5426;&#x8981;&#x6267;&#x884C;css&#x6A21;&#x5757;&#x70ED;&#x52A0;&#x8F7D;&#x3002;&#x6B64;&#x65B9;&#x6CD5;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x4F20;&#x5165;&#x7684; <code>usePostCSS</code> &#x53C2;&#x6570;&#x6216; <code>loader</code> &#x53C2;&#x6570;&#x7EC4;&#x88C5;&#x6210;&#x81EA;&#x5B9A;&#x4E49;&#x7684;css&#x9884;&#x5904;&#x7406;&#x6216;&#x540E;&#x5904;&#x7406;&#x7684; loader &#x7EC4;&#x5408;&#xFF0C;&#x7ED3;&#x5408; <code>styleLoaders</code> &#x65B9;&#x6CD5;&#x518D;&#x7EC4;&#x88C5;&#x5B8C;&#x6574;&#x7684;css&#x6A21;&#x5757;rules&#xFF0C;&#x5982; <code>.css</code>, <code>.postcss</code>, <code>.sass</code> &#x7B49;&#x3002;<code>cssLoaders</code> &#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x4E2D;&#xFF0C;&#x679A;&#x4E3E;&#x4E86;&#x591A;&#x79CD;css&#x9884;&#x5904;&#x7406;&#x683C;&#x5F0F;&#xFF0C;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#x53EF;&#x6839;&#x636E;&#x81EA;&#x5DF1;&#x91C7;&#x7528;&#x7684;&#x9884;&#x5904;&#x7406;&#x65B9;&#x6848;&#x8FDB;&#x884C;&#x9009;&#x62E9;&#xFF0C;&#x65E0;&#x9700;&#x5168;&#x90E8;&#x914D;&#x7F6E;&#xFF0C;&#x5982;&#x53EA;&#x4F7F;&#x7528;postcss&#xFF0C;&#x540E;&#x9762;&#x51E0;&#x4E2A;&#x9884;&#x5904;&#x7406;&#x683C;&#x5F0F;&#x90FD;&#x53EF;&#x4EE5;&#x6CE8;&#x91CA;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbbTZk?w=800&amp;h=855" src="https://static.alili.tech/img/bVbbTZk?w=800&amp;h=855" alt="&#x56FE;&#x7247;&#x63CF;&#x8FF0;" title="&#x56FE;&#x7247;&#x63CF;&#x8FF0;" style="cursor:pointer;display:inline"></span></p><h3 id="articleHeader4">&#x751F;&#x4EA7;&#x6A21;&#x5F0F;&#x914D;&#x7F6E; build/webpack.prod.conf.js</h3><p>&#x8FD9;&#x91CC;&#x7684;&#x4E3B;&#x8981;&#x8C03;&#x6574;&#x662F;&#x4E3A;&#x9002;&#x914D; webpack 4 &#x7684;&#x65B0;&#x914D;&#x7F6E;&#x3002;&#x540C;&#x6837;&#x7684;&#xFF0C;&#x65B0;&#x589E;&#x53C2;&#x6570; mode: &apos;production&apos;&#xFF1B;&#x6BD4;&#x8F83;&#x5927;&#x7684;&#x8C03;&#x6574;&#x662F; <code>optimization</code> &#x914D;&#x7F6E;&#xFF0C;&#x66FF;&#x4EE3;&#x4E86;&#x4E4B;&#x524D;&#x7684; <code>CommonsChunkPlugin</code>, <code>UglifyJsPlugin</code> &#x7B49;&#x63D2;&#x4EF6;&#x3002;&#x53E6;&#x5916;&#x5982; <code>HashedModuleIdsPlugin</code> &#x7B49;&#x63D2;&#x4EF6;&#x4E5F;&#x5DF2;&#x5E9F;&#x5F03;&#xFF0C;&#x65E0;&#x9700;&#x518D;&#x914D;&#x7F6E;&#x3002;&#x8FD9;&#x91CC;&#x7684;&#x91CD;&#x70B9;&#x662F;&#x66FF;&#x4EE3; <code>CommonsChunkPlugin</code> &#x63D2;&#x4EF6;&#x7684; <code>splitChunks</code> &#x914D;&#x7F6E;&#x9879;&#xFF0C;&#x76EE;&#x524D;&#x7ED9;&#x51FA;&#x7684;&#x914D;&#x7F6E;&#x662F;&#x53EF;&#x4EE5;&#x6EE1;&#x8DB3; vendor &#x5E93;&#x548C;&#x4E1A;&#x52A1;&#x516C;&#x7528;&#x4EE3;&#x7801;&#x5E93;&#x5206;&#x79BB;&#x7684;&#x5178;&#x578B;&#x573A;&#x666F;&#xFF0C;&#x66F4;&#x591A;&#x5206;&#x79BB;&#x4F18;&#x5316;&#x7684;&#x914D;&#x7F6E;&#xFF0C;&#x6709;&#x9700;&#x8981;&#x7684;&#x540C;&#x5B66;&#x53EF;&#x67E5;&#x627E;&#x76F8;&#x5173;&#x6559;&#x7A0B;&#xFF0C;&#x7531;&#x4E8E;&#x4E0D;&#x662F;&#x672C;&#x6587;&#x91CD;&#x70B9;&#xFF0C;&#x8FD9;&#x91CC;&#x5C31;&#x4E0D;&#x5C55;&#x5F00;&#x4E86;&#x3002;</p><p><span class="img-wrap"><img data-src="/img/bVbbT6g?w=800&amp;h=808" src="https://static.alili.tech/img/bVbbT6g?w=800&amp;h=808" alt="&#x56FE;&#x7247;&#x63CF;&#x8FF0;" title="&#x56FE;&#x7247;&#x63CF;&#x8FF0;" style="cursor:pointer"></span></p><h3 id="articleHeader5">Babel 7 &#x914D;&#x7F6E; .babelrc</h3><p>Babel 7 &#x7684;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#x5305;&#x9700;&#x8981;&#x52A0;&#x4E0A; <code>@babel</code> scope&#x3002;&#x4E00;&#x4E2A;&#x4E3B;&#x8981;&#x53D8;&#x5316;&#x662F; presets &#x8BBE;&#x7F6E;&#x7531;&#x539F;&#x6765;&#x7684; <code>env</code> &#x6362;&#x6210;&#x4E86; <code>@babel/preset-env</code>, &#x53EF;&#x4EE5;&#x914D;&#x7F6E; <code>targets</code>, <code>useBuiltIns</code> &#x7B49;&#x9009;&#x9879;&#x7528;&#x4E8E;&#x7F16;&#x8BD1;&#x51FA;&#x517C;&#x5BB9;&#x76EE;&#x6807;&#x73AF;&#x5883;&#x7684;&#x4EE3;&#x7801;&#x3002;&#x5176;&#x4E2D;<code>useBuiltIns</code>&#x5982;&#x679C;&#x8BBE;&#x4E3A; <code>&quot;usage&quot;</code>&#xFF0C;Babel &#x4F1A;&#x6839;&#x636E;&#x5B9E;&#x9645;&#x4EE3;&#x7801;&#x4E2D;&#x4F7F;&#x7528;&#x7684;ES6/ES7&#x4EE3;&#x7801;&#xFF0C;&#x4EE5;&#x53CA;&#x4E0E;&#x4F60;&#x6307;&#x5B9A;&#x7684;targets&#xFF0C;&#x6309;&#x9700;&#x5F15;&#x5165;&#x5BF9;&#x5E94;&#x7684; polyfill&#xFF0C;&#x800C;&#x65E0;&#x9700;&#x5728;&#x4EE3;&#x7801;&#x4E2D;&#x76F4;&#x63A5;&#x5F15;&#x5165; <code>import &apos;@babel/polyfill&apos;</code>&#xFF0C;&#x907F;&#x514D;&#x8F93;&#x51FA;&#x7684;&#x5305;&#x8FC7;&#x5927;&#xFF0C;&#x540C;&#x65F6;&#x53C8;&#x53EF;&#x4EE5;&#x653E;&#x5FC3;&#x4F7F;&#x7528;&#x5404;&#x79CD;&#x65B0;&#x8BED;&#x6CD5;&#x7279;&#x6027;&#x3002;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="{
  &quot;presets&quot;: [
    [&quot;@babel/preset-env&quot;, {
      &quot;modules&quot;: false,
      &quot;targets&quot;: {
        &quot;browsers&quot;: [&quot;&gt; 1%&quot;, &quot;last 2 versions&quot;, &quot;not ie &lt;= 8&quot;]
      },
      &quot;useBuiltIns&quot;: &quot;usage&quot;
    }]
  ],
  &quot;plugins&quot;: [&quot;transform-vue-jsx&quot;]
}
" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs json"><code>{
  <span class="hljs-attr">&quot;presets&quot;</span>: [
    [<span class="hljs-string">&quot;@babel/preset-env&quot;</span>, {
      <span class="hljs-attr">&quot;modules&quot;</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">&quot;targets&quot;</span>: {
        <span class="hljs-attr">&quot;browsers&quot;</span>: [<span class="hljs-string">&quot;&gt; 1%&quot;</span>, <span class="hljs-string">&quot;last 2 versions&quot;</span>, <span class="hljs-string">&quot;not ie &lt;= 8&quot;</span>]
      },
      <span class="hljs-attr">&quot;useBuiltIns&quot;</span>: <span class="hljs-string">&quot;usage&quot;</span>
    }]
  ],
  <span class="hljs-attr">&quot;plugins&quot;</span>: [<span class="hljs-string">&quot;transform-vue-jsx&quot;</span>]
}
</code></pre><h4>transform-runtime</h4><p>&#x5BF9;&#x4E8E;&#x5F00;&#x53D1;&#x5E94;&#x7528;&#x6765;&#x8BF4;&#xFF0C;&#x76F4;&#x63A5;&#x4F7F;&#x7528;&#x4E0A;&#x8FF0;&#x7684;&#x6309;&#x9700; polyfill &#x65B9;&#x6848;&#x662F;&#x6BD4;&#x8F83;&#x65B9;&#x4FBF;&#x7684;&#xFF0C;&#x4F46;&#x5982;&#x679C;&#x662F;&#x5F00;&#x53D1;&#x5DE5;&#x5177;&#x3001;&#x5E93;&#x7684;&#x8BDD;&#xFF0C;&#x8FD9;&#x79CD;&#x65B9;&#x6848;&#x672A;&#x5FC5;&#x9002;&#x5408;&#xFF08;<code>babel-polyfill</code> &#x662F;&#x901A;&#x8FC7;&#x5411;&#x5168;&#x5C40;&#x5BF9;&#x8C61;&#x548C;&#x5185;&#x7F6E;&#x5BF9;&#x8C61;&#x7684;prototype&#x4E0A;&#x6DFB;&#x52A0;&#x65B9;&#x6CD5;&#x5B9E;&#x73B0;&#x7684;&#xFF0C;&#x4F1A;&#x9020;&#x6210;&#x5168;&#x5C40;&#x53D8;&#x91CF;&#x6C61;&#x67D3;&#xFF09;&#x3002;Babel &#x63D0;&#x4F9B;&#x4E86;&#x53E6;&#x5916;&#x4E00;&#x79CD;&#x65B9;&#x6848; <code>transform-runtime</code>&#xFF0C;&#x5B83;&#x5728;&#x7F16;&#x8BD1;&#x8FC7;&#x7A0B;&#x4E2D;&#x53EA;&#x662F;&#x5C06;&#x9700;&#x8981;polyfill&#x7684;&#x4EE3;&#x7801;&#x5F15;&#x5165;&#x4E86;&#x4E00;&#x4E2A;&#x6307;&#x5411; <code>core-js</code> &#x4E2D;&#x5BF9;&#x5E94;&#x6A21;&#x5757;&#x7684;&#x94FE;&#x63A5;(alias)&#x3002;&#x5173;&#x4E8E;&#x8FD9;&#x4E24;&#x4E2A;&#x65B9;&#x6848;&#x7684;&#x5177;&#x4F53;&#x5DEE;&#x5F02;&#x548C;&#x9009;&#x62E9;&#xFF0C;&#x53EF;&#x4EE5;&#x81EA;&#x884C;&#x641C;&#x7D22;&#x76F8;&#x5173;&#x6559;&#x7A0B;&#xFF0C;&#x8FD9;&#x91CC;&#x4E0D;&#x518D;&#x5C55;&#x5F00;&#xFF0C;&#x4E0B;&#x9762;&#x63D0;&#x4F9B;&#x4E00;&#x4E2A; <code>transform-runtime</code>&#x7684;&#x53C2;&#x8003;&#x914D;&#x7F6E;&#x65B9;&#x6848;&#x3002;</p><ul><li>&#x9996;&#x5148;&#x5B89;&#x88C5; runtime &#x76F8;&#x5173;&#x4F9D;&#x8D56;</li></ul><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="npm install --save-dev @babel/plugin-transform-runtime
npm install --save @babel/runtime" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs coffeescript"><code><span class="hljs-built_in">npm</span> install --save-dev @babel/plugin-transform-runtime
<span class="hljs-built_in">npm</span> install --save @babel/runtime</code></pre><ul><li><code>plugin-transform-runtime</code> &#x7684;&#x914D;&#x7F6E;</li></ul><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="{
  &quot;presets&quot;: [
    [&quot;@babel/preset-env&quot;, {
      &quot;modules&quot;: false,
      &quot;targets&quot;: {
        &quot;browsers&quot;: [&quot;chrome 65&quot;]
      }
    }]
  ],
  &quot;plugins&quot;: [&quot;transform-vue-jsx&quot;, [&quot;@babel/plugin-transform-runtime&quot;, {
      &quot;useBuiltIns&quot;: true
      // &quot;polyfill&quot;: false
    }]
  ]
}" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs json"><code>{
  <span class="hljs-attr">&quot;presets&quot;</span>: [
    [<span class="hljs-string">&quot;@babel/preset-env&quot;</span>, {
      <span class="hljs-attr">&quot;modules&quot;</span>: <span class="hljs-literal">false</span>,
      <span class="hljs-attr">&quot;targets&quot;</span>: {
        <span class="hljs-attr">&quot;browsers&quot;</span>: [<span class="hljs-string">&quot;chrome 65&quot;</span>]
      }
    }]
  ],
  <span class="hljs-attr">&quot;plugins&quot;</span>: [<span class="hljs-string">&quot;transform-vue-jsx&quot;</span>, [<span class="hljs-string">&quot;@babel/plugin-transform-runtime&quot;</span>, {
      <span class="hljs-attr">&quot;useBuiltIns&quot;</span>: <span class="hljs-literal">true</span>
      // <span class="hljs-string">&quot;polyfill&quot;</span>: <span class="hljs-literal">false</span>
    }]
  ]
}</code></pre><p>&#x8FD9;&#x91CC;&#x89E3;&#x91CA;&#x4E00;&#x4E0B; <code>useBuiltIns</code>&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A; <code>false</code>&#xFF09; &#x548C; <code>polyfill</code>&#xFF08;&#x9ED8;&#x8BA4;&#x4E3A; <code>true</code>&#xFF09; &#x4E24;&#x4E2A;&#x9009;&#x9879;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x914D;&#x7F6E;&#x6216;&#x4F7F;&#x7528;&#x9ED8;&#x8BA4;&#x503C;&#xFF0C;&#x90A3; Babel &#x662F;&#x4F1A;&#x81EA;&#x52A8; polyfill &#x7684;&#xFF08;&#x5F15;&#x5165;<code>core-js</code> polyfill &#x7684;alias&#xFF09;&#xFF0C;&#x54EA;&#x6015;&#x4F60;&#x6307;&#x5B9A;&#x7684; targets &#x53EA;&#x6709;&#x6700;&#x65B0;&#x7248;chrome&#xFF0C;&#x6700;&#x7EC8;&#x7F16;&#x8BD1;&#x51FA;&#x6765;&#x7684;&#x5305;&#x4F1A;&#x6BD4;&#x8F83;&#x5927;&#xFF0C;&#x8FD9;&#x4E0D;&#x662F;&#x6211;&#x4EEC;&#x6240;&#x5E0C;&#x671B;&#x7684;&#x3002;&#x89E3;&#x51B3;&#x529E;&#x6CD5;&#x662F;&#x901A;&#x8FC7;&#x914D;&#x7F6E; <code>polyfill</code>&#x4E3A; <code>false</code> &#x6216; <code>useBuiltIns</code> &#x4E3A;<code>true</code> (&#x4E8C;&#x9009;&#x4E00;&#x5373;&#x53EF;)&#xFF0C;&#x4ECE;&#x800C;&#x4E0D;&#x5F15;&#x5165; core-js &#x7684; polyfill &#x3002;&#x5982;&#x679C;&#x76EE;&#x6807;&#x73AF;&#x5883;&#x662F;&#x8F83;&#x65B0;&#x7684;&#x6D4F;&#x89C8;&#x5668;&#xFF0C;&#x53EF;&#x4EE5;&#x6309;&#x6B64;&#x914D;&#x7F6E;&#xFF0C;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x4E9B;&#x6700;&#x65B0;&#x7684;&#x7279;&#x6027;&#x53EF;&#x80FD;&#x8FD8;&#x9700;&#x8981;&#x5355;&#x72EC; polyfill&#x3002;&#x4E2A;&#x4EBA;&#x8BA4;&#x4E3A;&#xFF0C;&#x5982;&#x679C;&#x5F00;&#x53D1;&#x5E94;&#x7528;&#x53EF;&#x4EE5;&#x76F4;&#x63A5;&#x4F7F;&#x7528; <code>babel-polyfill</code> &#x65B9;&#x6848;&#xFF0C;&#x76F8;&#x5BF9;&#x6765;&#x8BF4;&#x7B80;&#x5355;&#x65B9;&#x4FBF;&#xFF0C;&#x7F16;&#x8BD1;&#x8F93;&#x51FA;&#x7684;&#x5305;&#x5927;&#x5C0F;&#x4E5F;&#x662F;&#x53EF;&#x63A7;&#x7684;&#x3002;</p><h3 id="articleHeader6">&#x5176;&#x5B83;</h3><p>&#x539F;&#x5DE5;&#x7A0B;&#x4E2D;&#x6709;&#x6D4B;&#x8BD5;&#x6A21;&#x5757;&#xFF0C;&#x5F15;&#x5165;&#x4E86;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#x5305;&#x3002;&#x6B64;&#x6B21;&#x5347;&#x7EA7;&#xFF0C;&#x4E3A;&#x9002;&#x914D; webpack 4 &#x548C; babel 7 &#x4E5F;&#x8C03;&#x6574;&#x4E86;&#x76F8;&#x5173;&#x4F9D;&#x8D56;&#x53CA;&#x914D;&#x7F6E;&#x3002;&#x5982;&#x679C;&#x4F60;&#x9879;&#x76EE;&#x4E2D;&#x4E0D;&#x9700;&#x8981;&#x5F15;&#x5165;&#x6D4B;&#x8BD5;&#x6A21;&#x5757;&#xFF0C;&#x53EF;&#x4EE5;&#x8003;&#x8651;&#x5C06;&#x4EE5;&#x4E0B;&#x4F9D;&#x8D56;&#x5305;&#x79FB;&#x9664;&#xFF1A;</p><div class="widget-codetool" style="display:none"><div class="widget-codetool--inner"><span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x5168;&#x9009;"></span> <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="&quot;@babel/register&quot;
// &#x8FD9;&#x4E2A;&#x662F; jest &#x4E3A;&#x517C;&#x5BB9; Babel 7 &#x7684;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;&#xFF0C;&#x6CE8;&#x610F;&#x4E0D;&#x662F; @babel/core
&quot;babel-core&quot;: &quot;^7.0.0-bridge.0&quot;
&quot;babel-jest&quot;
&quot;regenerator-runtime&quot;
&quot;chromedriver&quot;
&quot;selenium-server&quot;
&quot;jest&quot;
&quot;jest-serializer-vue&quot;
&quot;nightwatch&quot;
&quot;selenium-server&quot;
&quot;vue-jest&quot;
" title="" data-original-title="&#x590D;&#x5236;"></span> <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="&#x653E;&#x8FDB;&#x7B14;&#x8BB0;"></span></div></div><pre class="hljs perl"><code><span class="hljs-string">&quot;@babel/register&quot;</span>
// &#x8FD9;&#x4E2A;&#x662F; jest &#x4E3A;&#x517C;&#x5BB9; Babel <span class="hljs-number">7</span> &#x7684;&#x4E00;&#x4E2A;&#x4F9D;&#x8D56;&#xFF0C;&#x6CE8;&#x610F;&#x4E0D;&#x662F; @babel/core
<span class="hljs-string">&quot;babel-core&quot;</span>: <span class="hljs-string">&quot;^7.0.0-bridge.0&quot;</span>
<span class="hljs-string">&quot;babel-jest&quot;</span>
<span class="hljs-string">&quot;regenerator-runtime&quot;</span>
<span class="hljs-string">&quot;chromedriver&quot;</span>
<span class="hljs-string">&quot;selenium-server&quot;</span>
<span class="hljs-string">&quot;jest&quot;</span>
<span class="hljs-string">&quot;jest-serializer-vue&quot;</span>
<span class="hljs-string">&quot;nightwatch&quot;</span>
<span class="hljs-string">&quot;selenium-server&quot;</span>
<span class="hljs-string">&quot;vue-jest&quot;</span>
</code></pre><p>&#x5176;&#x4ED6;&#x7684;&#x4E00;&#x4E9B;&#x8C03;&#x6574;&#x5982; <code>postcss.config.js</code> &#x7B49;&#xFF0C;&#x53EF;&#x81EA;&#x884C;&#x67E5;&#x770B;&#x76F8;&#x5173;&#x5DEE;&#x5F02;&#xFF0C;&#x4E0D;&#x518D;&#x8D58;&#x8FF0;&#x3002;</p><h2 id="articleHeader7">&#x603B;&#x7ED3;</h2><p>webpack &#x5DE5;&#x7A0B;&#x4F5C;&#x4E3A;&#x4E00;&#x4E2A;&#x9488;&#x5BF9;&#x5927;&#x578B;&#x5E94;&#x7528;&#x8BBE;&#x8BA1;&#x7684;&#x5B98;&#x65B9;&#x901A;&#x7528;&#x6A21;&#x677F;&#xFF0C;&#x4E3A;&#x4E86;&#x517C;&#x5BB9;&#x5E76;&#x5305;&#x53CA;&#x5F00;&#x7BB1;&#x5373;&#x7528;&#x5BF9;&#x5DE5;&#x7A0B;&#x914D;&#x7F6E;&#x505A;&#x4E86;&#x4E00;&#x5B9A;&#x7A0B;&#x5EA6;&#x7684;&#x5C01;&#x88C5;&#x53CA;&#x5F00;&#x53D1;&#x8F85;&#x52A9;&#x5DE5;&#x5177;&#x7684;&#x6574;&#x5408;&#xFF0C;&#x52A0;&#x5FEB;&#x4E86;&#x9879;&#x76EE;&#x5F00;&#x53D1;&#x7684;&#x4E0A;&#x624B;&#x901F;&#x5EA6;&#xFF0C;&#x4F46;&#x4E5F;&#x5BF9;&#x7F16;&#x8BD1;&#x3001;&#x6784;&#x5EFA;&#x5DE5;&#x5177;&#x7684;&#x5347;&#x7EA7;&#x8C03;&#x6574;&#x5E26;&#x6765;&#x4E86;&#x4E00;&#x4E9B;&#x4E0D;&#x4FBF;&#x3002;&#x5177;&#x4F53;&#x5230;&#x5B9E;&#x9645;&#x9879;&#x76EE;&#x4E2D;&#xFF0C;&#x53EF;&#x4EE5;&#x6839;&#x636E;&#x60C5;&#x51B5;&#x5BF9; webpack &#x7684;&#x76F8;&#x5173;&#x914D;&#x7F6E;&#x8FDB;&#x884C;&#x7B80;&#x5316;&#xFF0C;&#x6BD4;&#x5982;&#x53EA;&#x4FDD;&#x7559; <code>webpack.base.conf</code>, <code>webpack.dev.conf</code> &#x4E0E; <code>webpack.prod.conf</code> 3&#x4E2A;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x7684;&#x7ED3;&#x6784;&#x5373;&#x53EF;&#xFF0C;&#x4FBF;&#x4E8E;&#x7EF4;&#x62A4;&#x3002;</p><p>&#x672C;&#x4EBA;&#x5BF9;&#x4E8E; webpack&#xFF0C;Babel &#x7B49;&#x5DE5;&#x5177;&#x7684;&#x638C;&#x63E1;&#x4E5F;&#x4EC5;&#x9650;&#x4E8E;&#x5E94;&#x7528;&#x5C42;&#x9762;&#xFF0C;&#x53EA;&#x662F;&#x60F3;&#x628A;&#x6B64;&#x6B21;&#x6478;&#x7D22;&#x7684;&#x6210;&#x679C;&#x4E0E;&#x5927;&#x5BB6;&#x8FDB;&#x884C;&#x5206;&#x4EAB;&#xFF0C;&#x5982;&#x63CF;&#x8FF0;&#x6709;&#x8BEF;&#x6216;&#x4E0D;&#x5230;&#x4F4D;&#x7684;&#x5730;&#x65B9;&#xFF0C;&#x6B22;&#x8FCE;&#x6307;&#x6B63;&#x4EA4;&#x6D41;&#x3002;</p><p>&#x53C2;&#x8003;&#xFF1A;<br><a href="https://markus.oberlehner.net/blog/setting-up-a-vue-project-with-webpack-4-and-babel-7/" rel="nofollow noreferrer" target="_blank">Setting up a Vue.js Project with webpack 4 and Babel 7</a><br><a href="http://new.babeljs.io/docs/en/next/v7-migration.html" rel="nofollow noreferrer" target="_blank">Upgrade to Babel 7</a></p>
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
使用 webpack 4 和 Babel 7 配置 Vue.js 工程模板

## 原文链接
[https://segmentfault.com/a/1190000015247255](https://segmentfault.com/a/1190000015247255)


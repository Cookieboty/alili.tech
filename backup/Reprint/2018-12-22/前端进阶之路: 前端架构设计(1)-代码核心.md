---
title: '前端进阶之路: 前端架构设计(1)-代码核心' 
date: 2018-12-22 2:30:10
hidden: true
slug: 43k9fzlge2
categories: [reprint]
---

{{< raw >}}

                    
<p>可能很多人和我一样, 首次听到"前端架构"这个词, 第一反应是: "前端还有架构这一说呢?" 在后端开发领域, 系统规划和可扩展性非常关键, 因此架构师备受重视, 早在开发工作启动之前, 他们就被邀请加入到项目中, 而且他们会跟客户讨论即将建成的平台的架构要求, 使用还什么技术栈? 内容类型是什么? 这些内容如何被创建?软件架构师的职责就是要<strong>保证项目中每一步都在总体架构的指导下进行, 而不会随机决定.</strong></p>
<p><span class="img-wrap"><img data-src="/img/remote/1460000012450539?w=1154&amp;h=443" src="https://static.alili.tech/img/remote/1460000012450539?w=1154&amp;h=443" alt="前端架构" title="前端架构" style="cursor: pointer; display: inline;"></span></p>
<p>现在的前端领域, 随着JS框架, UI框架和各种库的丰富, 前端架构也变得十分的重要. 如果一个大型项目没有合理的前端架构设计, 那么前端代码可能因为不同的开发人员随意的引入各种库和UI框架, 导致代码量变得异常臃肿, 最终结果可能是代码变得无法维护, 页面性能低下,不得已只能推翻重构. 所以我们需要在项目开始前, 同样的需要对前端代码进行架构, 一旦前端架构师设计出所有前端开发人员都要遵循的检验机制, 建立起系统设计的规范, 那么项目就拥有了可以衡量代码质量的标准, 前端开发人员也能享受到更高效的工作流. 所以, 前端架构的定义可以用以下一句话来总结:</p>
<blockquote>前端架构是一系列工具和流程的集合, 旨在提升前端代码的质量, 并实现高效, 可持续的工作流.</blockquote>
<p>本系列的前端架构文章, 将分别围绕前端架构的四个核心展开, 分别是代码, 流程, 测试, 文档.</p>
<h3 id="articleHeader0"><strong>前端架构的四个核心</strong></h3>
<h4><strong>(一) 代码</strong></h4>
<p>归根到底, 所有的网站都是由一堆文本文件和资源文件组成的. 当我们面对制作网站所产生的大量代码时, 就会发现为代码和资源设定一个期望是多么重要. 在代码部分, 我们会专注于如果实现系统架构中的HTML, CSS, JavaScript.</p>
<h4><strong>(二) 流程</strong></h4>
<p>现在早已过了FTP上传文件的时代, 那么现在重要的是思考怎么用工具和流程构建一个高效且避免出错的工作流. 工作流变得越来越复杂, 那些用于它们的工具也同样如此. 这些工具在提高生产力, 加快效率和保持代码一致性上带来了惊人的效果, 但也伴随着过度工程化和抽象化的风险. 所以, 现有的工作流是需要改变的.</p>
<h4><strong>(三) 测试</strong></h4>
<p>要构建一个可扩展和可持续优化的系统, 必须保证新代码和老代码能够很好的兼容. 我们的代码不会独立存在, 它们都是大型系统中的一部分. 创建覆盖面广泛的测试方案, 能确保老代码还能正常运作.</p>
<h4><strong>(四) 文档</strong></h4>
<p>一般而言, 如果不是团队中的重要成员要离开, 我们几乎都不会意识到文档的重要性. 等到那个时候, 大家将不得不停下手头的工作, 优先编写所有的文档. 作为前端机构师, 你要善于在项目开发的同时编写良好的文档.</p>
<h3 id="articleHeader1"><strong>代码核心</strong></h3>
<h4><strong>(一) HTML</strong></h4>
<p>在前端的架构中, HTML作为页面的基础是十分重要的. 如果初始的HTML写得很烂, 将要写出很多不必要的CSS和JavaScript来弥补. 反之, 如果如果初始的HTML写得足够好, 就能写出根据可扩展性和可维护的CSS和JavsScript.</p>
<p>首先我们来看一些初级的前端工程师可能写出的HTML代码:</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<div id=&quot;header&quot; class=&quot;clearfix&quot;>
  <div id=&quot;header-screen&quot; class=&quot;clearfix&quot;>
    <div id=&quot;header-inner&quot; class=&quot;container-12 clearfix&quot;>
      <div id=&quot;nav-header&quot; role=&quot;navigation&quot;>
        <div class=&quot;region&quot; region-navigation>
          <div class=&quot;block block-system block-menu&quot;>
            <div class=&quot;block-inner&quot;>
              <div class=&quot;content&quot;>
                <ul class=&quot;menu&quot;>
                  <li class=&quot;first leaf&quot;>
                    <a href=&quot;#&quot;>菜单1</a>
                  </li>
                  <li class=&quot;second leaf&quot;>
                    <a href=&quot;#&quot;>菜单2</a>
                  </li>
                </ul>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"header"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"clearfix"</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"header-screen"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"clearfix"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"header-inner"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"container-12 clearfix"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"nav-header"</span> <span class="hljs-attr">role</span>=<span class="hljs-string">"navigation"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"region"</span> <span class="hljs-attr">region-navigation</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block block-system block-menu"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"block-inner"</span>&gt;</span>
              <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"content"</span>&gt;</span>
                <span class="hljs-tag">&lt;<span class="hljs-name">ul</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"menu"</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"first leaf"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>菜单1<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                  <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"second leaf"</span>&gt;</span>
                    <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>菜单2<span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
                  <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
                <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
              <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
            <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>这类"<code>div</code>乱炖"的代码, 是很多初级的前端为应付切页面的工作写出来的. 只是单纯为了还原psd图, 而完全你不考虑HTML的可读性和可维护性. </p>
<p>随后, 在HTML5之后, 标签的语义化受到了大家的重视, 采用语义化的标签, 不仅增加了代码的可读性, 也有利于SEO. HTML语义化标签的使用,这也是在前端架构中需要考虑到的,下面我们来看一下使用语言化标签写的这段代码:</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=" <header>
    <section>
      <nav>
        <ul>
          <li>
            <a href=&quot;#&quot;>
              菜单1
            </a>
          </li>
          <li>
            <a href=&quot;#&quot;>
              菜单2
            </a>
          </li>
        </ul>
      </nav>
    </section>
  </header>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html"> <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>
              菜单1
            <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>
              菜单2
            <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span></code></pre>
<p>但是如果我们的页面的菜单有数10项的时候, 就会额外添加<code>&lt;li&gt;&lt;a href="#"&gt;菜单N&lt;/a&gt;&lt;/li&gt;</code>, 这类重复的工作量完全可以交给<code>Mustache</code>这类模板引擎来解决, 已Vue中的模板引擎语法来写HTML, 会减少很多的工作量 :</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<template>
  <header>
    <section>
      <nav>
        <ul>
          <li v-for=&quot;(item, index) in navList&quot; :key=&quot;index&quot;>
            <a href=&quot;#&quot;>
              {item}
            </a>
          </li>
        </ul>
      </nav>
    </section>
  </header>
</template>

<script>
    export default {
        data() {
          navList:['菜单1','菜单2','菜单3','菜单4','菜单5','菜单6','菜单7','菜单8','菜单9','菜单10']
        }
    }
</script>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">template</span>&gt;</span>
  <span class="hljs-tag">&lt;<span class="hljs-name">header</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">section</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">nav</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">ul</span>&gt;</span>
          <span class="hljs-tag">&lt;<span class="hljs-name">li</span> <span class="hljs-attr">v-for</span>=<span class="hljs-string">"(item, index) in navList"</span> <span class="hljs-attr">:key</span>=<span class="hljs-string">"index"</span>&gt;</span>
            <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"#"</span>&gt;</span>
              {item}
            <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
          <span class="hljs-tag">&lt;/<span class="hljs-name">li</span>&gt;</span>
        <span class="hljs-tag">&lt;/<span class="hljs-name">ul</span>&gt;</span>
      <span class="hljs-tag">&lt;/<span class="hljs-name">nav</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">section</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">header</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">template</span>&gt;</span>

<span class="hljs-tag">&lt;<span class="hljs-name">script</span>&gt;</span><span class="javascript">
    <span class="hljs-keyword">export</span> <span class="hljs-keyword">default</span> {
        data() {
          <span class="hljs-attr">navList</span>:[<span class="hljs-string">'菜单1'</span>,<span class="hljs-string">'菜单2'</span>,<span class="hljs-string">'菜单3'</span>,<span class="hljs-string">'菜单4'</span>,<span class="hljs-string">'菜单5'</span>,<span class="hljs-string">'菜单6'</span>,<span class="hljs-string">'菜单7'</span>,<span class="hljs-string">'菜单8'</span>,<span class="hljs-string">'菜单9'</span>,<span class="hljs-string">'菜单10'</span>]
        }
    }
</span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<p>你也可以使用Handlebars, Jade, artTemplate各种模板引擎到你的项目中, 当然这些都是需要取决于前端架构师前期的所选择的技术选型. 做为前端架构师, 需要评估HTML产生的过程, 你对内容的顺序, 使用的元素和CSS类名有多大的控制权? 这些元素在将来改动起来会有多大难度? 模板的易用性? 你可以通过系统做出更改, 还是需要手动处理? 通过回答这些问题, 可能会颠覆你自己构建HTML和CSS的方法.</p>
<h4><strong>(二) CSS</strong></h4>
<p>构建CSS现在有很多成熟的方法, 例如使用新的命名空间, 扩充数据属性或在JavaScript里面定义CSS. 这些方法你可以从BootStrap, ElementUI这类UI框架中找到影子. 下面, 介绍3种比较常用的方法.</p>
<p><strong>1.OOCSS方法(Object-Oriented CSS 面向对象的CSS)</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="  <div class=&quot;toggle simple&quot;>
    <div class=&quot;toggle-control open&quot;>
      <h1 class=&quot;toggle-title&quot;>标题</h1>
    </div>
    <div class=&quot;toggle-details open&quot;>
      详细内容
    </div>
  </div>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html">  <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle simple"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-control open"</span>&gt;</span>
      <span class="hljs-tag">&lt;<span class="hljs-name">h1</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-title"</span>&gt;</span>标题<span class="hljs-tag">&lt;/<span class="hljs-name">h1</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-details open"</span>&gt;</span>
      详细内容
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
  <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>上面这段代码就展示了如何使用OOCSS方法创建一个可切换的HTML代码, OOCSS有两个主要的原则:</p>
<ul>
<li><strong>分离结构和外观</strong></li>
<li><strong>分离容器和内容</strong></li>
</ul>
<p><strong>分离结构和外观</strong><br>这里的<code>toggle</code>用来控制结构, <code>simple</code>用来控制外观,这就是分离结构和外观的表现. 这样可以实现外观的复用, 例如当前的<code>simple</code>皮肤使用直角, 而<code>complex</code>皮肤可能使用圆角, 还加了阴影.</p>
<p><strong>分离容器和内容</strong><br>这里使用<code>toggle-title</code>就是分离容器和内容的表现, 无论<code>toggle-title</code>的容器是用的<code>&lt;h1&gt;</code>还是<code>&lt;h2&gt;</code>或者是<code>&lt;div&gt;</code>, 一旦加上了<code>toggle-title</code>这个类名, 那么该容器均已该类名所定义的样式呈现内容.</p>
<p><strong>2.SMACSS方法(Scalable and Modular Architecture for CSS 模块化架构的可扩展的CSS)</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<div class=&quot;toggle toggle-simple&quot;>
    <div class=&quot;toggle-control is-active&quot;>
        <h2 class=&quot;toggle-title&quot;>标题2</h2>
    </div>
    <div class=&quot;toggle-detail is-active&quot;>
        详细内容
    </div>
</div>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle toggle-simple"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-control is-active"</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-title"</span>&gt;</span>标题2<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle-detail is-active"</span>&gt;</span>
        详细内容
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>上面的这段代码基本展示了如何使用SMACSS方法,在我个人的理解中, OOCSS更多的其实是提供了一种CSS构建思想, 该思想要求将结构和外观分离, 将容器和内容分离. 但是并没有提供一套完整的CSS构建规范, 而SMACSS是提供了一套样式系统, 该样式系统有5个具体类别:</p>
<ul>
<li><strong>基础: 如果不添加CSS类名, 标记会以什么外观呈现</strong></li>
<li><strong>布局: 把页面分成一些区域</strong></li>
<li><strong>模块: 设计中的模块化, 可复用的单元</strong></li>
<li><strong>状态: 描述在特定的状态或情况下, 模块或布局的的显示方法</strong></li>
<li><strong>主题: 一个可选的视觉外观层, 可以让你更换不同主题</strong></li>
</ul>
<p><strong>基础</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//base.css
body, form {
    margin: 0;
    padding: 0;
}

a {
    color: #039;
}

a:hover {
    color: #03F;    
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="css hljs"><code class="css">//<span class="hljs-selector-tag">base</span><span class="hljs-selector-class">.css</span>
<span class="hljs-selector-tag">body</span>, <span class="hljs-selector-tag">form</span> {
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span>;
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">0</span>;
}

<span class="hljs-selector-tag">a</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#039</span>;
}

<span class="hljs-selector-tag">a</span><span class="hljs-selector-pseudo">:hover</span> {
    <span class="hljs-attribute">color</span>: <span class="hljs-number">#03F</span>;    
}</code></pre>
<p>在基础代码中, 应该规定的是页面中的一些通用样式,例如将<code>body</code>的<code>margin</code>和<code>padding</code>设置为0 , 设置<code>a</code>标签的颜色等.  类似于某些人常用的<code>initial.css</code>文件. </p>
<p><strong>布局</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//layout.css
#header, #article, #footer {
    width: 960px;
    margin: auto;
}

#article {
    border: solid #CCC;
    border-width: 1px 0 0;
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="css hljs"><code class="css">//<span class="hljs-selector-tag">layout</span><span class="hljs-selector-class">.css</span>
<span class="hljs-selector-id">#header</span>, <span class="hljs-selector-id">#article</span>, <span class="hljs-selector-id">#footer</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">960px</span>;
    <span class="hljs-attribute">margin</span>: auto;
}

<span class="hljs-selector-id">#article</span> {
    <span class="hljs-attribute">border</span>: solid <span class="hljs-number">#CCC</span>;
    <span class="hljs-attribute">border-width</span>: <span class="hljs-number">1px</span> <span class="hljs-number">0</span> <span class="hljs-number">0</span>;
}</code></pre>
<p>这里的布局指的是页面中一些通用的布局组件, 例如头部, 侧边栏, 主体和底部这些. 这些布局组件会在多个页面通用, 所以最好把其放入到一个css文件中. 方便复用. 在SMACSS中, 推荐将布局容器的顶级标签设置为<code>id</code>, 这样确保了每个页面中拥有唯一持有该样式的布局容器, 也方便其css和js选择器的使用. 当然, 你也可以使用一个唯一的类名替代<code>id</code>.</p>
<p><strong>模块</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//module.css

//module1
.module1 > h2 {
    padding: 5px;
}

.module1 span {
    padding: 5px;
}

//module2
.module2 > h2 {
    padding: 10px;
}

.module2 span {
    padding: 10px;
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="css hljs"><code class="css">//<span class="hljs-selector-tag">module</span><span class="hljs-selector-class">.css</span>

//<span class="hljs-selector-tag">module1</span>
<span class="hljs-selector-class">.module1</span> &gt; <span class="hljs-selector-tag">h2</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;
}

<span class="hljs-selector-class">.module1</span> <span class="hljs-selector-tag">span</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">5px</span>;
}

//<span class="hljs-selector-tag">module2</span>
<span class="hljs-selector-class">.module2</span> &gt; <span class="hljs-selector-tag">h2</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
}

<span class="hljs-selector-class">.module2</span> <span class="hljs-selector-tag">span</span> {
    <span class="hljs-attribute">padding</span>: <span class="hljs-number">10px</span>;
}</code></pre>
<p>模块是指页面中可以单独分离并提取出来复用的部分, 例如导航条, 侧边栏, 对话框或一些widget等. 所以, 模块禁止使用<code>id</code>, 而应该采用类名的方式.</p>
<p><strong>状态</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<div id=&quot;header&quot; class=&quot;is-collapsed&quot;>
    <form>
        <div class=&quot;msg is-error&quot;>
            There is an error!
        </div>
        <label for=&quot;searchbox&quot; class=&quot;is-hidden&quot;>Search</label>
        <input type=&quot;search&quot; id=&quot;searchbox&quot;>
    </form>
</div>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"header"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"is-collapsed"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">form</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"msg is-error"</span>&gt;</span>
            There is an error!
        <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">label</span> <span class="hljs-attr">for</span>=<span class="hljs-string">"searchbox"</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"is-hidden"</span>&gt;</span>Search<span class="hljs-tag">&lt;/<span class="hljs-name">label</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"search"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"searchbox"</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">form</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>State 负责定义元素不同的状态下，所呈现的样式. 上面的一段代码中,已<code>is-</code>开头的就是表示状态的类名, <code>is-collapsed</code>, <code>is-error</code>等类名不会单独使用, 而是和前面的<strong>布局</strong>和<strong>模块</strong>一起使用. 下面的代码, 就是在tab栏模块和状态一起使用:</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//state.css
.tab {
    background-color: purple;
    color: white;
}

.is-tab-active {
    background-color: white;
    color: black;
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="css hljs"><code class="css">//<span class="hljs-selector-tag">state</span><span class="hljs-selector-class">.css</span>
<span class="hljs-selector-class">.tab</span> {
    <span class="hljs-attribute">background-color</span>: purple;
    <span class="hljs-attribute">color</span>: white;
}

<span class="hljs-selector-class">.is-tab-active</span> {
    <span class="hljs-attribute">background-color</span>: white;
    <span class="hljs-attribute">color</span>: black;
}</code></pre>
<p><strong>主题</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// module-name.css
.mod {
    border: 1px solid;
}

//theme.css
.mod {
    border-color: blue;
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="css hljs"><code class="css">// <span class="hljs-selector-tag">module-name</span><span class="hljs-selector-class">.css</span>
<span class="hljs-selector-class">.mod</span> {
    <span class="hljs-attribute">border</span>: <span class="hljs-number">1px</span> solid;
}

//<span class="hljs-selector-tag">theme</span><span class="hljs-selector-class">.css</span>
<span class="hljs-selector-class">.mod</span> {
    <span class="hljs-attribute">border-color</span>: blue;
}</code></pre>
<p>这里的主题理解为皮肤更加合适, 已上面的代码为例,  在<code>module-name.css</code>中定义了边框除颜色之外的样式, 在<code>theme.css</code>文件中定义了该边框的颜色, 这样的好处就是, 如果定义其他颜色的类名去覆盖这些有颜色的样式, 那么就可以通过类名去切换皮肤的颜色. 达到更换主题的效果.</p>
<blockquote>更多关于SMACSS的方法, 请参考: <a href="https://smacss.com/book" rel="nofollow noreferrer" target="_blank">https://smacss.com/book</a>
</blockquote>
<p><strong>3.BEM方法(Block Element Modifier 块元素修饰符)</strong></p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<div class=&quot;toggle toggle--simple&quot;>
    <div class=&quot;toggle__control toggle__control--active&quot;>
    <h2 class=&quot;toggle__title&quot;>标题3</h2>
    </div>
    
    <div class=&quot;toggle__details toggle__details--active&quot;>
        ...
    </div>
    ...
</div>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle toggle--simple"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle__control toggle__control--active"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle__title"</span>&gt;</span>标题3<span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    
    <span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"toggle__details toggle__details--active"</span>&gt;</span>
        ...
    <span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
    ...
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<p>BEM是由Yandex提出的给一个CSS命名方法, 该方法要求使用一个CSS类名, 尽可能使用以下三者组成:</p>
<ul>
<li><strong>块名: 所属组件的名称</strong></li>
<li><strong>元素: 元素在块里面的名称</strong></li>
<li><strong>修饰符: 任何与块或元素相关联的的修饰符</strong></li>
</ul>
<p><strong>块名</strong><br>这里的块名很多初学者会以为是<code>inline-block</code>中的块, 其实这里的块名指的是一个独立的模块或组件. 例如一个<code>&lt;header&gt;</code>可以用做一个模块, <code>&lt;header&gt;</code>中的<code>&lt;nav&gt;</code>可以用作一个模块. 模块之间是可以相互嵌套的. 上面的示例代码中 ,<code>toggle</code>就是一个独立的模块</p>
<p><strong>元素</strong><br>元素是指无法用在其他块名中的部分, 在BEM方法中, 元素跟在块名后面使用<code>__</code>连接, 之所以约定使用双下划线是因为方便在块名中使用单下划线命名. 上面示例代码中的<code>toggle__control</code>, <code>toggle__title</code>就是块名+元素的命名方式.</p>
<p><strong>修饰符</strong><br>修饰符与SMACSS中的状态类似, 在BEM方法中, 修饰符需要跟在元素后面使用<code>--</code>连接. 有的人会觉得这种写法会使得代码冗余, SMACSS使用<code>is-active</code>同样可以表示同样的作用, 为什么上面的代码要使用<code>toggle__details--active</code>呢? 其实, 如果单独看<code>open</code>和<code>is-active</code>这两个名字, 我们并不知道它们的含义是什么, 但是当看到一个<code>toggle__details--active</code>的类名, 我们就知道它是表示: 这个元素的名称是<code>details</code>, 位置在<code>toggle</code>组件里, 状态为<code>active</code>.</p>
<h4><strong>(三) JavaScript</strong></h4>
<p><strong>1.框架的选择</strong><br>这里我不想陷入Angular, React, Vue三大框架之争. 我是一个Vue的开发者, 我深知MVVM框架给我们开发者带了极大的便利, 不用再以jQuery不停的操作DOM的形式去开发, 而是只关注数据的改变, 以数据去驱动DOM的改变. 这能够把更多的时间放入到业务逻辑的处理上. </p>
<p>就目前三大框架的生态系统来看, 大部分业务三大框架实现起来其实并没有什么大的差别,框架的选择更多的取决于项目中团队人员的偏好和学习成本. 比如Vue的学习成本就相比于Angular要小太多. 虽然我是一个Vue的开发者, 但我不得不说在React中使用JSX的语法让写代码变得很愉快.</p>
<blockquote>这里我还想说的是:  <strong>其实你很可能不需要任何的框架!</strong>
</blockquote>
<p>有很多成功的网站只不过是采用了一些模板语法, 加上少量手动创建的Sass文件和几十个Javascript函数创建而成. 当项目的规模足够庞大, 需要牺牲代码文件体积大小去换取框架所带来的开发效率的提高时, 再考虑评估引入哪类JS框架和UI框架, 否则不要轻易放弃精简方案. </p>
<p><strong>2.选择一套JavaScript代码规范</strong></p>
<p>每个人写代码的方式是不同的, 有些人可能喜欢用<code>==</code>, 但有的喜欢用<code>===</code>; 有的人可能习惯给每个变量使用<code>var</code>去声明, 但有的喜欢使用一个<code>var</code>加逗号运算符去同时声明多个变量. 这些代码习惯可能并不会对程序运行造成影响. 但是在大型业务中, 面临多个开发者共同开发时, 如果没有一套代码规范, 那么就会出现代码难以维护, 难以阅读的情况. 为了让新加入的团队成员也能够快速熟悉相关的代码, 并且让代码可以维护, 一套Javascript代码规范不论是开发大型项目和小型项目, 都是必须的. </p>
<p>如果公司没有代码定制自己的代码规范, 可以使用大公司所制定的代码规范, 这里向大家推荐以下三个代码规范:</p>
<ul><li><strong><a href="https://github.com/airbnb/javascript" rel="nofollow noreferrer" target="_blank">Airbnb JavaScript Style Guide</a></strong></li></ul>
<p><span class="img-wrap"><img data-src="/img/remote/1460000012450540?w=840&amp;h=312" src="https://static.alili.tech/img/remote/1460000012450540?w=840&amp;h=312" alt="Airbnb JavaScript Style Guide" title="Airbnb JavaScript Style Guide" style="cursor: pointer; display: inline;"></span><br>Airbnb的Javascript号称是"最合理的编写JavaScript代码的方式", 也是互联网中最流行的JavaScript代码规范, 它在Github上足有6万star, 几乎覆盖了JavaScript的每一项语言特性.</p>
<ul><li><strong><a href="https://google.github.io/styleguide/jsguide.html" rel="nofollow noreferrer" target="_blank">Google JavaScript Style Guide</a></strong></li></ul>
<p><span class="img-wrap"><img data-src="/img/remote/1460000012450541" src="https://static.alili.tech/img/remote/1460000012450541" alt="oogle JavaScript Style Guide" title="oogle JavaScript Style Guide" style="cursor: pointer;"></span><br>Google的JavaScript代码规范相比于Airbnb代码规范更加全面, 它不仅从代码美感,性能角度和代码特性对编写Js代码进行了规范, 同时也对Js的命名, 导入方式, Js代码文档进行了规范. 在Introduction中, Google团队表明, 在项目中全部使用了Google的Js规范, 才能被叫做Google Style的代码!</p>
<ul><li><strong><a href="https://github.com/standard/standard" rel="nofollow noreferrer" target="_blank">JavaScript Standard Style Guide</a></strong></li></ul>
<p><span class="img-wrap"><img data-src="/img/remote/1460000012450542" src="https://static.alili.tech/img/remote/1460000012450542" alt="JavaScript Standard Style Guide" title="JavaScript Standard Style Guide" style="cursor: pointer; display: inline;"></span><br>standard JS是一个功能强大的 JavaScript 代码规范, 自带 linter 和自动代码纠正, 无需配置, 自动格式化代码. 可以在编码早期就发现代码中的低级错误. 这个代码规范被很多知名公司所采用, 比如 NPM、GitHub、mongoDB 等.</p>
<blockquote>下面截取部分airbnb的ES5规范, 来对比一下使用了规范和未使用规范的区别:</blockquote>
<h5>数组</h5>
<ul><li>使用直接量创建数组</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//bad
var items = new Array()

//good
var items = [];" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">//bad</span>
<span class="hljs-keyword">var</span> items = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Array</span>()

<span class="hljs-comment">//good</span>
<span class="hljs-keyword">var</span> items = [];</code></pre>
<ul><li>拷贝数组时, 使用<code>slice</code>
</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var len = items.length;
var itemsCopy = [];
var i;

// bad
for (i = 0; i < len; i++) {
  itemsCopy[i] = items[i];
}

// good
itemsCopy = items.slice();" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> len = items.length;
<span class="hljs-keyword">var</span> itemsCopy = [];
<span class="hljs-keyword">var</span> i;

<span class="hljs-comment">// bad</span>
<span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; len; i++) {
  itemsCopy[i] = items[i];
}

<span class="hljs-comment">// good</span>
itemsCopy = items.slice();</code></pre>
<ul><li>使用<code>slice</code>将类数组对象转换成数组</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function trigger() {
  var args = Array.prototype.slice.call(arguments);
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">trigger</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-keyword">var</span> args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>);
}</code></pre>
<h5>字符串</h5>
<ul><li>使用单引号<code>''</code>包裹字符串</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//bad 
var name = &quot;LITANGHUI&quot;

//good
var name = 'LITANGHUI'" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">//bad </span>
<span class="hljs-keyword">var</span> name = <span class="hljs-string">"LITANGHUI"</span>

<span class="hljs-comment">//good</span>
<span class="hljs-keyword">var</span> name = <span class="hljs-string">'LITANGHUI'</span></code></pre>
<ul><li>程序化生成的字符串使用<code>join</code> 连接而不是使用连接符。尤其是 IE 下</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var items;
var messages;
var length;
var i;

messages = [{
  state: 'success',
  message: 'This one worked.'
}, {
  state: 'success',
  message: 'This one worked as well.'
}, {
  state: 'error',
  message: 'This one did not work.'
}];

length = messages.length;

// bad
function inbox(messages) {
  items = '<ul>';

  for (i = 0; i < length; i++) {
    items += '<li>' + messages[i].message + '</li>';
  }

  return items + '</ul>';
}

// good
function inbox(messages) {
  items = [];

  for (i = 0; i < length; i++) {
    // use direct assignment in this case because we're micro-optimizing.
    items[i] = '<li>' + messages[i].message + '</li>';
  }

  return '<ul>' + items.join('') + '</ul>';
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> items;
<span class="hljs-keyword">var</span> messages;
<span class="hljs-keyword">var</span> length;
<span class="hljs-keyword">var</span> i;

messages = [{
  <span class="hljs-attr">state</span>: <span class="hljs-string">'success'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'This one worked.'</span>
}, {
  <span class="hljs-attr">state</span>: <span class="hljs-string">'success'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'This one worked as well.'</span>
}, {
  <span class="hljs-attr">state</span>: <span class="hljs-string">'error'</span>,
  <span class="hljs-attr">message</span>: <span class="hljs-string">'This one did not work.'</span>
}];

length = messages.length;

<span class="hljs-comment">// bad</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inbox</span>(<span class="hljs-params">messages</span>) </span>{
  items = <span class="hljs-string">'&lt;ul&gt;'</span>;

  <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; length; i++) {
    items += <span class="hljs-string">'&lt;li&gt;'</span> + messages[i].message + <span class="hljs-string">'&lt;/li&gt;'</span>;
  }

  <span class="hljs-keyword">return</span> items + <span class="hljs-string">'&lt;/ul&gt;'</span>;
}

<span class="hljs-comment">// good</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">inbox</span>(<span class="hljs-params">messages</span>) </span>{
  items = [];

  <span class="hljs-keyword">for</span> (i = <span class="hljs-number">0</span>; i &lt; length; i++) {
    <span class="hljs-comment">// use direct assignment in this case because we're micro-optimizing.</span>
    items[i] = <span class="hljs-string">'&lt;li&gt;'</span> + messages[i].message + <span class="hljs-string">'&lt;/li&gt;'</span>;
  }

  <span class="hljs-keyword">return</span> <span class="hljs-string">'&lt;ul&gt;'</span> + items.join(<span class="hljs-string">''</span>) + <span class="hljs-string">'&lt;/ul&gt;'</span>;
}</code></pre>
<h5>比较运算符 &amp; 等号</h5>
<ul>
<li>优先使用 <code>===</code> 和 <code>!==</code> 而不是 <code>==</code> 和 <code>!=</code>
</li>
<li>使用快捷方式</li>
</ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// bad
if (name !== '') {
  // ...stuff...
}

// good
if (name) {
  // ...stuff...
}

// bad
if (collection.length > 0) {
  // ...stuff...
}

// good
if (collection.length) {
  // ...stuff...
}
" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// bad</span>
<span class="hljs-keyword">if</span> (name !== <span class="hljs-string">''</span>) {
  <span class="hljs-comment">// ...stuff...</span>
}

<span class="hljs-comment">// good</span>
<span class="hljs-keyword">if</span> (name) {
  <span class="hljs-comment">// ...stuff...</span>
}

<span class="hljs-comment">// bad</span>
<span class="hljs-keyword">if</span> (collection.length &gt; <span class="hljs-number">0</span>) {
  <span class="hljs-comment">// ...stuff...</span>
}

<span class="hljs-comment">// good</span>
<span class="hljs-keyword">if</span> (collection.length) {
  <span class="hljs-comment">// ...stuff...</span>
}
</code></pre>
<h5>空白</h5>
<ul><li>使用 2 个空格作为缩进</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// bad
function () {
∙∙∙∙var name;
}

// bad
function () {
∙var name;
}

// good
function () {
∙∙var name;
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// bad</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
∙∙∙∙<span class="hljs-keyword">var</span> name;
}

<span class="hljs-comment">// bad</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
∙<span class="hljs-keyword">var</span> name;
}

<span class="hljs-comment">// good</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
∙∙<span class="hljs-keyword">var</span> name;
}</code></pre>
<ul><li>大括号前放一个空格</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// bad
function test(){
  console.log('test');
}

// good
function test() {
  console.log('test');
}

// bad
dog.set('attr',{
  age: '1 year',
  breed: 'Bernese Mountain Dog'
});

// good
dog.set('attr', {
  age: '1 year',
  breed: 'Bernese Mountain Dog'
});" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// bad</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>)</span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'test'</span>);
}

<span class="hljs-comment">// good</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">test</span>(<span class="hljs-params"></span>) </span>{
  <span class="hljs-built_in">console</span>.log(<span class="hljs-string">'test'</span>);
}

<span class="hljs-comment">// bad</span>
dog.set(<span class="hljs-string">'attr'</span>,{
  <span class="hljs-attr">age</span>: <span class="hljs-string">'1 year'</span>,
  <span class="hljs-attr">breed</span>: <span class="hljs-string">'Bernese Mountain Dog'</span>
});

<span class="hljs-comment">// good</span>
dog.set(<span class="hljs-string">'attr'</span>, {
  <span class="hljs-attr">age</span>: <span class="hljs-string">'1 year'</span>,
  <span class="hljs-attr">breed</span>: <span class="hljs-string">'Bernese Mountain Dog'</span>
});</code></pre>
<ul><li>使用空格把运算符隔开</li></ul>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="// bad
var x=y+5;

// good
var x = y + 5;" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">// bad</span>
<span class="hljs-keyword">var</span> x=y+<span class="hljs-number">5</span>;

<span class="hljs-comment">// good</span>
<span class="hljs-keyword">var</span> x = y + <span class="hljs-number">5</span>;</code></pre>
<hr>
<p><strong>以上内容就是前端架构四大核心中的代码核心部分, 接下来的几篇文章会分别介绍其他三个核心, 分别是流程, 测试和文档.</strong></p>
<h3 id="articleHeader2"><strong>友情链接</strong></h3>
<ul><li><a href="http://www.jianshu.com/p/549b4c3597e0" rel="nofollow noreferrer" target="_blank">前端进阶之路: 前端架构设计(2)-流程核心</a></li></ul>

                
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
前端进阶之路: 前端架构设计(1)-代码核心

## 原文链接
[https://segmentfault.com/a/1190000012450534](https://segmentfault.com/a/1190000012450534)


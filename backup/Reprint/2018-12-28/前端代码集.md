---
title: '前端代码集' 
date: 2018-12-28 2:30:11
hidden: true
slug: txq9nkag1k9
categories: [reprint]
---

{{< raw >}}

                    
<h2 id="articleHeader0">HTML5</h2>
<ol>
<li><a href="#articleHeader5">使用FileReader实现前端图片预览</a></li>
<li><a href="#articleHeader6">获取到页面中所有的checkbox怎么做？(不使用第三方框架)</a></li>
<li><a href="#articleHeader7">JavaScript模版引擎小实例</a></li>
</ol>
<h2 id="articleHeader1">Javascript</h2>
<ol>
<li><a href="#articleHeader9">实现JS函数重载</a></li>
<li><a href="#articleHeader10">JS跨浏览器绑定事件函数</a></li>
<li><a href="#articleHeader11">JS单体模式</a></li>
<li><a href="#articleHeader12">使用prototype属性定义的对象方法</a></li>
<li><a href="#articleHeader13">闭包实现结果缓存</a></li>
<li><a href="#articleHeader14">闭包实现封装</a></li>
<li><a href="#articleHeader15">闭包实现类和继承</a></li>
<li><a href="#articleHeader16">如何判断某变量是否为数组数据类型？</a></li>
<li><a href="#articleHeader17">Javascript继承-借用构造函数</a></li>
<li><a href="#articleHeader18">Javascript原型-封装</a></li>
<li><a href="#articleHeader19">通过闭包修正函数的上下文（bind 浏览器不支持解决方案）</a></li>
<li><a href="#articleHeader20">优化JavaScript的构造函数(new关键字的使用)</a></li>
<li><a href="#articleHeader21">柯里化</a></li>
<li><a href="#articleHeader9">对象拷贝与赋值</a></li>
</ol>
<h2 id="articleHeader2">CSS</h2>
<ol>
<li><a href="#articleHeader24">居中</a></li>
<li><a href="#articleHeader25">菜单栏下拉</a></li>
</ol>
<h2 id="articleHeader3">JQuery</h2>
<ol><li><a href="#articleHeader27">JQ设置等高的列</a></li></ol>
<h1 id="articleHeader4">HTML5</h1>
<h2 id="articleHeader5">使用FileReader实现前端图片预览</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<input type=&quot;file&quot;><br>
<img src=&quot;&quot; height=&quot;200&quot; alt=&quot;Image preview area...&quot; title=&quot;preview-img&quot;>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">input</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"file"</span>&gt;</span><span class="hljs-tag">&lt;<span class="hljs-name">br</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">""</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"200"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"Image preview area..."</span> <span class="hljs-attr">title</span>=<span class="hljs-string">"preview-img"</span>&gt;</span></code></pre>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var fileInput = document.querySelector('input[type=file]');
var previewImg = document.querySelector('img');

fileInput.addEventListener('change', function () {
    var file = this.files[0];
    var reader = new FileReader();

    reader.addEventListener('load', function () {
        previewImg.src = reader.result;
    }, false);

    reader.readAsDataURL(file);
}, false);" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code class="javascrip"><span class="hljs-keyword">var</span> fileInput = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'input[type=file]'</span>);
<span class="hljs-keyword">var</span> previewImg = <span class="hljs-built_in">document</span>.querySelector(<span class="hljs-string">'img'</span>);

fileInput.addEventListener(<span class="hljs-string">'change'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> file = <span class="hljs-keyword">this</span>.files[<span class="hljs-number">0</span>];
    <span class="hljs-keyword">var</span> reader = <span class="hljs-keyword">new</span> FileReader();

    reader.addEventListener(<span class="hljs-string">'load'</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        previewImg.src = reader.result;
    }, <span class="hljs-literal">false</span>);

    reader.readAsDataURL(file);
}, <span class="hljs-literal">false</span>);</code></pre>
<h2 id="articleHeader6">获取到页面中所有的checkbox怎么做？(不使用第三方框架)</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var doc = document,
    domList = doc.getElementsByTagName('input'),
    checkBoxList = [],
    len = domList.length;

while (len--) {
    if (domList[len].type === 'checkbox') {
        checkBoxList.push(domList[len]);
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> doc = <span class="hljs-built_in">document</span>,
    domList = doc.getElementsByTagName(<span class="hljs-string">'input'</span>),
    checkBoxList = [],
    len = domList.length;

<span class="hljs-keyword">while</span> (len--) {
    <span class="hljs-keyword">if</span> (domList[len].type === <span class="hljs-string">'checkbox'</span>) {
        checkBoxList.push(domList[len]);
    }
}</code></pre>
<h2 id="articleHeader7">JavaScript模版引擎小实例</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<div class=&quot;result&quot;></div>
<script type=&quot;template&quot; id=&quot;template&quot;>
    <h2>
        <a href=&quot;"{{"href"}}"&quot;>
            "{{"title"}}"
        </a>
    </h2>
    <img src=&quot;"{{"imgSrc"}}"&quot; width=&quot;300&quot; height=&quot;100&quot; alt=&quot;"{{"title"}}"&quot;/>
</script>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html5"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"result"</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">script</span> <span class="hljs-attr">type</span>=<span class="hljs-string">"template"</span> <span class="hljs-attr">id</span>=<span class="hljs-string">"template"</span>&gt;</span><span class="handlebars"><span class="xml">
    <span class="hljs-tag">&lt;<span class="hljs-name">h2</span>&gt;</span>
        <span class="hljs-tag">&lt;<span class="hljs-name">a</span> <span class="hljs-attr">href</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">"{{"href"}}"</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>&gt;</span>
            </span><span class="hljs-template-variable">"{{"title"}}"</span><span class="xml">
        <span class="hljs-tag">&lt;/<span class="hljs-name">a</span>&gt;</span>
    <span class="hljs-tag">&lt;/<span class="hljs-name">h2</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">img</span> <span class="hljs-attr">src</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">"{{"imgSrc"}}"</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span> <span class="hljs-attr">width</span>=<span class="hljs-string">"300"</span> <span class="hljs-attr">height</span>=<span class="hljs-string">"100"</span> <span class="hljs-attr">alt</span>=<span class="hljs-string">"</span></span></span><span class="hljs-template-variable">"{{"title"}}"</span><span class="xml"><span class="hljs-tag"><span class="hljs-string">"</span>/&gt;</span>
</span></span><span class="hljs-tag">&lt;/<span class="hljs-name">script</span>&gt;</span></code></pre>
<blockquote><p><strong>数据</strong></p></blockquote>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var data = [
    {
        title: &quot;&quot;,
        href: &quot;&quot;,
        imgSrc: &quot;&quot;
    },
    ...
];" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs dts"><code class="data">var data = [
    {
<span class="hljs-symbol">        title:</span> <span class="hljs-string">""</span>,
<span class="hljs-symbol">        href:</span> <span class="hljs-string">""</span>,
<span class="hljs-symbol">        imgSrc:</span> <span class="hljs-string">""</span>
    },
    ...
];</code></pre>
<blockquote><p><strong>方法一：</strong></p></blockquote>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var doc = document,
    template = doc.querySelector('#template').innerHTML,
    result = doc.querySelector('.result'),
    fragment = '';

for (var i = 0, len = data.length; i < len; i++) {
    fragment += template
        .replace(/\{\{title\}\}/, data[i].title)
        .replace(/\{\{href\}\}/, data[i].href)
        .replace(/\{\{imgSrc\}\}/, data[i].imgSrc)
}

result.innerHTML = fragment;" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> doc = <span class="hljs-built_in">document</span>,
    template = doc.querySelector(<span class="hljs-string">'#template'</span>).innerHTML,
    result = doc.querySelector(<span class="hljs-string">'.result'</span>),
    fragment = <span class="hljs-string">''</span>;

<span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>, len = data.length; i &lt; len; i++) {
    fragment += template
        .replace(<span class="hljs-regexp">/\{\{title\}\}/</span>, data[i].title)
        .replace(<span class="hljs-regexp">/\{\{href\}\}/</span>, data[i].href)
        .replace(<span class="hljs-regexp">/\{\{imgSrc\}\}/</span>, data[i].imgSrc)
}

result.innerHTML = fragment;</code></pre>
<blockquote><p><strong>方法二：</strong></p></blockquote>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var doc = document,
    template = doc.querySelector('#template').innerHTML,
    result = doc.querySelector('.result'),
    attachTemplateToData;

attachTemplateToData = function (template, data) {
    var i = 0,
        len = data.length,
        fragment = '';

    function replace(obj) {
        var t, key, reg;

        for (key in obj) {
            reg = new RegExp('"{{"' + key + '"}}"', 'ig');
            t = (t || template).replace(reg, obj[key]);
        }

        return t;
    }

    for (; i < len; i++) {
        fragment += replace(data[i]);
    }

    return fragment;
};

result.innerHTML = attachTemplateToData(template, data);" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> doc = <span class="hljs-built_in">document</span>,
    template = doc.querySelector(<span class="hljs-string">'#template'</span>).innerHTML,
    result = doc.querySelector(<span class="hljs-string">'.result'</span>),
    attachTemplateToData;

attachTemplateToData = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">template, data</span>) </span>{
    <span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>,
        len = data.length,
        fragment = <span class="hljs-string">''</span>;

    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">replace</span>(<span class="hljs-params">obj</span>) </span>{
        <span class="hljs-keyword">var</span> t, key, reg;

        <span class="hljs-keyword">for</span> (key <span class="hljs-keyword">in</span> obj) {
            reg = <span class="hljs-keyword">new</span> <span class="hljs-built_in">RegExp</span>(<span class="hljs-string">'"{{"'</span> + key + <span class="hljs-string">'"}}"'</span>, <span class="hljs-string">'ig'</span>);
            t = (t || template).replace(reg, obj[key]);
        }

        <span class="hljs-keyword">return</span> t;
    }

    <span class="hljs-keyword">for</span> (; i &lt; len; i++) {
        fragment += replace(data[i]);
    }

    <span class="hljs-keyword">return</span> fragment;
};

result.innerHTML = attachTemplateToData(template, data);</code></pre>
<h1 id="articleHeader8">JavaScript</h1>
<h2 id="articleHeader9">实现JS函数重载</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var people = {
    values: [&quot;Dean Edwards&quot;, &quot;Sam Stephenson&quot;, &quot;Alex Russell&quot;, &quot;Dean Tom&quot;]
};

function addMethod(object, name, fn) {
    var old = object[name];
    object[name] = function () {
        if (fn.length === arguments.length) {
            return fn.apply(this, arguments);
        } else if (typeof old === 'function') {
            return old.apply(this, arguments);
        }
    }
}

addMethod(people, &quot;find&quot;, function () {
    return this.values;
});

addMethod(people, &quot;find&quot;, function (firstName) {
    var ret = [];
    for (var i = 0; i < this.values.length; i++) {
        if (this.values[i].indexOf(firstName) === 0) {
            ret.push(this.values[i]);
        }
    }
    return ret;
});

addMethod(people, &quot;find&quot;, function (firstName, lastName) {
    var ret = [];
    for (var i = 0; i < this.values.length; i++) {
        if (this.values[i] === (firstName + ' ' + lastName)) {
            ret.push(this.values[i]);
        }
    }
    return ret;
});

console.log(people.find());
console.log(people.find(&quot;Sam&quot;));
console.log(people.find(&quot;Dean Edwards&quot;));" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> people = {
    <span class="hljs-attr">values</span>: [<span class="hljs-string">"Dean Edwards"</span>, <span class="hljs-string">"Sam Stephenson"</span>, <span class="hljs-string">"Alex Russell"</span>, <span class="hljs-string">"Dean Tom"</span>]
};

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addMethod</span>(<span class="hljs-params">object, name, fn</span>) </span>{
    <span class="hljs-keyword">var</span> old = object[name];
    object[name] = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> (fn.length === <span class="hljs-built_in">arguments</span>.length) {
            <span class="hljs-keyword">return</span> fn.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        } <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> old === <span class="hljs-string">'function'</span>) {
            <span class="hljs-keyword">return</span> old.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">arguments</span>);
        }
    }
}

addMethod(people, <span class="hljs-string">"find"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.values;
});

addMethod(people, <span class="hljs-string">"find"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">firstName</span>) </span>{
    <span class="hljs-keyword">var</span> ret = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.values.length; i++) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[i].indexOf(firstName) === <span class="hljs-number">0</span>) {
            ret.push(<span class="hljs-keyword">this</span>.values[i]);
        }
    }
    <span class="hljs-keyword">return</span> ret;
});

addMethod(people, <span class="hljs-string">"find"</span>, <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">firstName, lastName</span>) </span>{
    <span class="hljs-keyword">var</span> ret = [];
    <span class="hljs-keyword">for</span> (<span class="hljs-keyword">var</span> i = <span class="hljs-number">0</span>; i &lt; <span class="hljs-keyword">this</span>.values.length; i++) {
        <span class="hljs-keyword">if</span> (<span class="hljs-keyword">this</span>.values[i] === (firstName + <span class="hljs-string">' '</span> + lastName)) {
            ret.push(<span class="hljs-keyword">this</span>.values[i]);
        }
    }
    <span class="hljs-keyword">return</span> ret;
});

<span class="hljs-built_in">console</span>.log(people.find());
<span class="hljs-built_in">console</span>.log(people.find(<span class="hljs-string">"Sam"</span>));
<span class="hljs-built_in">console</span>.log(people.find(<span class="hljs-string">"Dean Edwards"</span>));</code></pre>
<h2 id="articleHeader10">JS跨浏览器绑定事件函数</h2>
<blockquote><p><strong>常规实现方法</strong></p></blockquote>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//跨浏览器添加事件
function addHandler(target, eventType, handler) {
    //检测浏览器类型，并且重写addHandler方法
    if (target.addEventListener) {
        addHandler = function (target, eventType, handler) {
            target.addEventListener(eventType, handler, false);
        }
    } else { //IE
        addHandler = function (target, eventType, handler) {
            target.attachEvent(&quot;on&quot; + eventType, handler);
        }
    }

    //调用新的函数
    addHandler(target, eventType, handler);
}

//跨浏览器移除事件
function removeHandler(target, eventType, handler) {
    //检测浏览器类型，并且重写addHandler方法
    if (target.addEventListener) {
        removeHandler = function (target, eventType, handler) {
            target.removeEventListener(eventType, handler, false);
        }
    } else { //IE
        removeHandler = function (target, eventType, handler) {
            target.detachEvent(&quot;on&quot;, eventType, handler);
        }
    }

    target.detachEvent(&quot;on&quot; + eventType, handler);
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">//跨浏览器添加事件</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">addHandler</span>(<span class="hljs-params">target, eventType, handler</span>) </span>{
    <span class="hljs-comment">//检测浏览器类型，并且重写addHandler方法</span>
    <span class="hljs-keyword">if</span> (target.addEventListener) {
        addHandler = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, eventType, handler</span>) </span>{
            target.addEventListener(eventType, handler, <span class="hljs-literal">false</span>);
        }
    } <span class="hljs-keyword">else</span> { <span class="hljs-comment">//IE</span>
        addHandler = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, eventType, handler</span>) </span>{
            target.attachEvent(<span class="hljs-string">"on"</span> + eventType, handler);
        }
    }

    <span class="hljs-comment">//调用新的函数</span>
    addHandler(target, eventType, handler);
}

<span class="hljs-comment">//跨浏览器移除事件</span>
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">removeHandler</span>(<span class="hljs-params">target, eventType, handler</span>) </span>{
    <span class="hljs-comment">//检测浏览器类型，并且重写addHandler方法</span>
    <span class="hljs-keyword">if</span> (target.addEventListener) {
        removeHandler = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, eventType, handler</span>) </span>{
            target.removeEventListener(eventType, handler, <span class="hljs-literal">false</span>);
        }
    } <span class="hljs-keyword">else</span> { <span class="hljs-comment">//IE</span>
        removeHandler = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, eventType, handler</span>) </span>{
            target.detachEvent(<span class="hljs-string">"on"</span>, eventType, handler);
        }
    }

    target.detachEvent(<span class="hljs-string">"on"</span> + eventType, handler);
}</code></pre>
<blockquote><p><strong>优化方法</strong></p></blockquote>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="//绑定事件
var addHandler = document.body.addEventListener ?
    function (target, eventType, handler) {//DOM2
        target.addEventListener(eventType, handler, false);
    } :
    function (target, eventType, handler) {//IE
        target.attachEvent(&quot;on&quot; + eventType, handler);
    };

//移除事件
var removeHandler = document.body.removeEventListener ?
    function (target, eventType, handler) {
        target.removeEventListener(eventType, handler, false);

    } :
    function (target, eventType, handler) {
        target.detachEvent(&quot;on&quot; + eventType, handler);
    };" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-comment">//绑定事件</span>
<span class="hljs-keyword">var</span> addHandler = <span class="hljs-built_in">document</span>.body.addEventListener ?
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, eventType, handler</span>) </span>{<span class="hljs-comment">//DOM2</span>
        target.addEventListener(eventType, handler, <span class="hljs-literal">false</span>);
    } :
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, eventType, handler</span>) </span>{<span class="hljs-comment">//IE</span>
        target.attachEvent(<span class="hljs-string">"on"</span> + eventType, handler);
    };

<span class="hljs-comment">//移除事件</span>
<span class="hljs-keyword">var</span> removeHandler = <span class="hljs-built_in">document</span>.body.removeEventListener ?
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, eventType, handler</span>) </span>{
        target.removeEventListener(eventType, handler, <span class="hljs-literal">false</span>);

    } :
    <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">target, eventType, handler</span>) </span>{
        target.detachEvent(<span class="hljs-string">"on"</span> + eventType, handler);
    };</code></pre>
<h2 id="articleHeader11">JS单体模式</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var shoppingCar = (function () {
    //这个是由购物车构造器所创建的实例
    var instance;

    //购物车的构造器函数　
    function Trolley() {
        this.date = new Date().getDate();//实例属性，当前日期
    }

    //原型属性，一个返回当前日期的方法
    Trolley.prototype.getDate = function () {
        return this.date;
    };

    //暴露出去的公共API
    return function () {
        //如果实例不存在，那么就调用Trolley构造器实例化一个
        if (!instance) {
            instance = new Trolley();
        }

        //将实例返回外部
        return instance;
    }
}());

var a = new shoppingCar();
var b = new shoppingCar();
console.log(a === b);//true" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> shoppingCar = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-comment">//这个是由购物车构造器所创建的实例</span>
    <span class="hljs-keyword">var</span> instance;

    <span class="hljs-comment">//购物车的构造器函数　</span>
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Trolley</span>(<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">this</span>.date = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>().getDate();<span class="hljs-comment">//实例属性，当前日期</span>
    }

    <span class="hljs-comment">//原型属性，一个返回当前日期的方法</span>
    Trolley.prototype.getDate = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.date;
    };

    <span class="hljs-comment">//暴露出去的公共API</span>
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-comment">//如果实例不存在，那么就调用Trolley构造器实例化一个</span>
        <span class="hljs-keyword">if</span> (!instance) {
            instance = <span class="hljs-keyword">new</span> Trolley();
        }

        <span class="hljs-comment">//将实例返回外部</span>
        <span class="hljs-keyword">return</span> instance;
    }
}());

<span class="hljs-keyword">var</span> a = <span class="hljs-keyword">new</span> shoppingCar();
<span class="hljs-keyword">var</span> b = <span class="hljs-keyword">new</span> shoppingCar();
<span class="hljs-built_in">console</span>.log(a === b);<span class="hljs-comment">//true</span></code></pre>
<h2 id="articleHeader12">使用prototype属性定义的对象方法</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var dom = function () {};

dom.Show = function () {
    alert(&quot;Show Message&quot;);
};

dom.prototype.Display = function () {
    alert(&quot;Property Message&quot;);
};

dom.Display(); //error
dom.Show(); //Show Message
var d = new dom();
d.Display(); //Property Message
d.Show(); //error" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> dom = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{};

dom.Show = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    alert(<span class="hljs-string">"Show Message"</span>);
};

dom.prototype.Display = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    alert(<span class="hljs-string">"Property Message"</span>);
};

dom.Display(); <span class="hljs-comment">//error</span>
dom.Show(); <span class="hljs-comment">//Show Message</span>
<span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> dom();
d.Display(); <span class="hljs-comment">//Property Message</span>
d.Show(); <span class="hljs-comment">//error</span></code></pre>
<blockquote>
<p>1、不使用prototype属性定义的对象方法，是静态方法，只能直接用类名进行调用！另外，此静态方法中无法使用this变量来调用对象其他的属性！</p>
<p>2、使用prototype属性定义的对象方法，是非静态方法，只有在实例化后才能使用！其方法内部可以this来引用对象自身中的其他属性！</p>
</blockquote>
<h2 id="articleHeader13">闭包实现结果缓存</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var CachedSearchBox = (function () {
    var cache = {},
        table = [];

    return {
        attachSearchBox: function (dsid) {
            if (dsid in cache) { //如果结果在缓存中
                return cache[dsid]; //直接返回缓存中的对象
            }
            var fsb = new uikit.webctrl.SearchBox(dsid);//新建
            cache[dsid] = fsb;//更新缓存
            if (count.length > 100) {
                delete cache[shift()];
            }
            return fsb;
        },

        clearSearchBox: function (dsid) {
            if (dsid in cache) {
                cache[dsid].clearSelection();
            }
        }
    }
})();

CachedSearchBox.attachSearchBox('input');" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> CachedSearchBox = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> cache = {},
        table = [];

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">attachSearchBox</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dsid</span>) </span>{
            <span class="hljs-keyword">if</span> (dsid <span class="hljs-keyword">in</span> cache) { <span class="hljs-comment">//如果结果在缓存中</span>
                <span class="hljs-keyword">return</span> cache[dsid]; <span class="hljs-comment">//直接返回缓存中的对象</span>
            }
            <span class="hljs-keyword">var</span> fsb = <span class="hljs-keyword">new</span> uikit.webctrl.SearchBox(dsid);<span class="hljs-comment">//新建</span>
            cache[dsid] = fsb;<span class="hljs-comment">//更新缓存</span>
            <span class="hljs-keyword">if</span> (count.length &gt; <span class="hljs-number">100</span>) {
                <span class="hljs-keyword">delete</span> cache[shift()];
            }
            <span class="hljs-keyword">return</span> fsb;
        },

        <span class="hljs-attr">clearSearchBox</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">dsid</span>) </span>{
            <span class="hljs-keyword">if</span> (dsid <span class="hljs-keyword">in</span> cache) {
                cache[dsid].clearSelection();
            }
        }
    }
})();

CachedSearchBox.attachSearchBox(<span class="hljs-string">'input'</span>);</code></pre>
<blockquote>
<p>我们开发中会碰到很多情况，设想我们有一个处理过程很耗时的函数对象，每次调用都会花费很长时间，</p>
<p>那么我们就需要将计算出来的值存储起来，当调用这个函数的时候，首先在缓存中查找，如果找不到，则进行计算，然后更新缓存并返回值，如果找到了，直接返回查找到的值即可。闭包正是可以做到这一点，因为它不会释放外部的引用，从而函数内部的值可以得以保留。</p>
</blockquote>
<h2 id="articleHeader14">闭包实现封装</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var person = function () {
    var name = &quot;Default&quot;;

    return {
        getName: function () {
            return name;
        },
        setName: function (newName) {
            name = newName;
        }
    }
}();

console.log(person.name);//undefined
console.log(person.getName());//Default
person.setName(&quot;GoodMan&quot;);
console.log(person.getName());//GoodMan" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> person = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> name = <span class="hljs-string">"Default"</span>;

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">getName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> name;
        },
        <span class="hljs-attr">setName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">newName</span>) </span>{
            name = newName;
        }
    }
}();

<span class="hljs-built_in">console</span>.log(person.name);<span class="hljs-comment">//undefined</span>
<span class="hljs-built_in">console</span>.log(person.getName());<span class="hljs-comment">//Default</span>
person.setName(<span class="hljs-string">"GoodMan"</span>);
<span class="hljs-built_in">console</span>.log(person.getName());<span class="hljs-comment">//GoodMan</span></code></pre>
<h2 id="articleHeader15">闭包实现类和继承</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="function Person() {
    var name = &quot;default&quot;;

    return {
        getName: function () {
            return name;
        },
        setName: function (newName) {
            name = newName;
        }
    }
}

var p = new Person();
p.setName('Tom');
console.log(p.getName());
var Jack = function () {
};
Jack.prototype = new Person();//继承自Person
Jack.prototype.Say = function () { //添加私有方法
    console.log(&quot;Hello,my name is Jack&quot;);
};
var j = new Jack();
j.setName(&quot;Jack&quot;);//Tom
j.Say();//Hello,my name is Jack
console.log(j.getName());//Jack" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Person</span>(<span class="hljs-params"></span>) </span>{
    <span class="hljs-keyword">var</span> name = <span class="hljs-string">"default"</span>;

    <span class="hljs-keyword">return</span> {
        <span class="hljs-attr">getName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> name;
        },
        <span class="hljs-attr">setName</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">newName</span>) </span>{
            name = newName;
        }
    }
}

<span class="hljs-keyword">var</span> p = <span class="hljs-keyword">new</span> Person();
p.setName(<span class="hljs-string">'Tom'</span>);
<span class="hljs-built_in">console</span>.log(p.getName());
<span class="hljs-keyword">var</span> Jack = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
};
Jack.prototype = <span class="hljs-keyword">new</span> Person();<span class="hljs-comment">//继承自Person</span>
Jack.prototype.Say = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{ <span class="hljs-comment">//添加私有方法</span>
    <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Hello,my name is Jack"</span>);
};
<span class="hljs-keyword">var</span> j = <span class="hljs-keyword">new</span> Jack();
j.setName(<span class="hljs-string">"Jack"</span>);<span class="hljs-comment">//Tom</span>
j.Say();<span class="hljs-comment">//Hello,my name is Jack</span>
<span class="hljs-built_in">console</span>.log(j.getName());<span class="hljs-comment">//Jack</span></code></pre>
<h2 id="articleHeader16">如何判断某变量是否为数组数据类型</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="if (typeof Array.isArray === &quot;undefined&quot;) {
    Array.isArray = function (arg) {
        return Object.prototype.toString.call(arg) === &quot;[object Array]&quot;
    };
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Array</span>.isArray === <span class="hljs-string">"undefined"</span>) {
    <span class="hljs-built_in">Array</span>.isArray = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">arg</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-built_in">Object</span>.prototype.toString.call(arg) === <span class="hljs-string">"[object Array]"</span>
    };
}</code></pre>
<h2 id="articleHeader17">Javascript继承-借用构造函数</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var Widget = function (name) {
    this.messages = [];
};

Widget.prototype.type = 'Widget';

var SubWidget = function (name) {
    Widget.apply(this, Array.prototype.slice.call(arguments));
    this.name = name;
};

SubWidget.prototype = Widget.prototype;

var sub1 = new SubWidget('foo');
var sub2 = new SubWidget('bar');

sub1.messages.push('foo');
sub2.messages.push('bar');

console.log(sub1.messages);//foo
console.log(sub2.messages);//bar" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> Widget = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
    <span class="hljs-keyword">this</span>.messages = [];
};

Widget.prototype.type = <span class="hljs-string">'Widget'</span>;

<span class="hljs-keyword">var</span> SubWidget = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">name</span>) </span>{
    Widget.apply(<span class="hljs-keyword">this</span>, <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>));
    <span class="hljs-keyword">this</span>.name = name;
};

SubWidget.prototype = Widget.prototype;

<span class="hljs-keyword">var</span> sub1 = <span class="hljs-keyword">new</span> SubWidget(<span class="hljs-string">'foo'</span>);
<span class="hljs-keyword">var</span> sub2 = <span class="hljs-keyword">new</span> SubWidget(<span class="hljs-string">'bar'</span>);

sub1.messages.push(<span class="hljs-string">'foo'</span>);
sub2.messages.push(<span class="hljs-string">'bar'</span>);

<span class="hljs-built_in">console</span>.log(sub1.messages);<span class="hljs-comment">//foo</span>
<span class="hljs-built_in">console</span>.log(sub2.messages);<span class="hljs-comment">//bar</span></code></pre>
<h2 id="articleHeader18">Javascript原型-封装</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var Dialog = (function () {
    function Dialog() {
    }

    Dialog.prototype = {
        init: function () {
            console.log(&quot;ok&quot;);
        }
    };

    return Dialog;
}());

var d = new Dialog();
d.init();//ok" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> Dialog = (<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Dialog</span>(<span class="hljs-params"></span>) </span>{
    }

    Dialog.prototype = {
        <span class="hljs-attr">init</span>: <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"ok"</span>);
        }
    };

    <span class="hljs-keyword">return</span> Dialog;
}());

<span class="hljs-keyword">var</span> d = <span class="hljs-keyword">new</span> Dialog();
d.init();<span class="hljs-comment">//ok</span></code></pre>
<h2 id="articleHeader19">通过闭包修正函数的上下文（浏览器不支持解决方案）</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="if (!('bind' in Function.prototype)) {
    Function.prototype.bind = function () {
        var fn = this,
            context = arguments[0],
            args = Array.prototype.slice.call(arguments, 1);

        return function () {
            return fn.apply(context, args.concat(arguments));
        }
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">if</span> (!(<span class="hljs-string">'bind'</span> <span class="hljs-keyword">in</span> <span class="hljs-built_in">Function</span>.prototype)) {
    <span class="hljs-built_in">Function</span>.prototype.bind = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">var</span> fn = <span class="hljs-keyword">this</span>,
            context = <span class="hljs-built_in">arguments</span>[<span class="hljs-number">0</span>],
            args = <span class="hljs-built_in">Array</span>.prototype.slice.call(<span class="hljs-built_in">arguments</span>, <span class="hljs-number">1</span>);

        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
            <span class="hljs-keyword">return</span> fn.apply(context, args.concat(<span class="hljs-built_in">arguments</span>));
        }
    }
}</code></pre>
<h2 id="articleHeader20">优化JavaScript的构造函数(new关键字的使用)</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="方法一：
function User(name, age) {
    if (typeof Object.create === 'undefined') {
        Object.create = function (prototype) {
            function C() {
                C.prototype = prototype;
                return new C();
            }
        }
    }
    var self = this instanceof User ? this : Object.create(User.prototype);
    self.name = name;
    self.age = age;
    return self;
}


方法二：
function Programmer(name, company, expertise) {
    if (!(this instanceof Programmer)) {
        return new Programmer(name, company, expertise);
    }

    this.name = name;
    this.company = company;
    this.expertise = expertise;

    this.writeCode = function () {
        console.log(&quot;Writing some public static thing..&quot;)
    }
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript">方法一：
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">User</span>(<span class="hljs-params">name, age</span>) </span>{
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> <span class="hljs-built_in">Object</span>.create === <span class="hljs-string">'undefined'</span>) {
        <span class="hljs-built_in">Object</span>.create = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">prototype</span>) </span>{
            <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">C</span>(<span class="hljs-params"></span>) </span>{
                C.prototype = prototype;
                <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> C();
            }
        }
    }
    <span class="hljs-keyword">var</span> self = <span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> User ? <span class="hljs-keyword">this</span> : <span class="hljs-built_in">Object</span>.create(User.prototype);
    self.name = name;
    self.age = age;
    <span class="hljs-keyword">return</span> self;
}


方法二：
<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">Programmer</span>(<span class="hljs-params">name, company, expertise</span>) </span>{
    <span class="hljs-keyword">if</span> (!(<span class="hljs-keyword">this</span> <span class="hljs-keyword">instanceof</span> Programmer)) {
        <span class="hljs-keyword">return</span> <span class="hljs-keyword">new</span> Programmer(name, company, expertise);
    }

    <span class="hljs-keyword">this</span>.name = name;
    <span class="hljs-keyword">this</span>.company = company;
    <span class="hljs-keyword">this</span>.expertise = expertise;

    <span class="hljs-keyword">this</span>.writeCode = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-built_in">console</span>.log(<span class="hljs-string">"Writing some public static thing.."</span>)
    }
}</code></pre>
<h2 id="articleHeader21">柯里化</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var curry = function (fn) {
    var limit = fn.length;
    return function judgeCurry(...args) {
        return function (...args) {
            if (args.length >= limit) {
                return fn.apply(null, args);
            } else {
                return function (...args2) {
                    return judgeCurry.apply(null, args.concat(args2))
                }
            }
        }
    }
};

var currySingle = fn => judgeCurry = (...args) => args.length >= fn.length ? fn.apply(null, args) : (...args2) => judgeCurry.apply(null, args.concat(args2));" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> curry = <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">fn</span>) </span>{
    <span class="hljs-keyword">var</span> limit = fn.length;
    <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">judgeCurry</span>(<span class="hljs-params">...args</span>) </span>{
        <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">...args</span>) </span>{
            <span class="hljs-keyword">if</span> (args.length &gt;= limit) {
                <span class="hljs-keyword">return</span> fn.apply(<span class="hljs-literal">null</span>, args);
            } <span class="hljs-keyword">else</span> {
                <span class="hljs-keyword">return</span> <span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params">...args2</span>) </span>{
                    <span class="hljs-keyword">return</span> judgeCurry.apply(<span class="hljs-literal">null</span>, args.concat(args2))
                }
            }
        }
    }
};

<span class="hljs-keyword">var</span> currySingle = <span class="hljs-function"><span class="hljs-params">fn</span> =&gt;</span> judgeCurry = <span class="hljs-function">(<span class="hljs-params">...args</span>) =&gt;</span> args.length &gt;= fn.length ? fn.apply(<span class="hljs-literal">null</span>, args) : <span class="hljs-function">(<span class="hljs-params">...args2</span>) =&gt;</span> judgeCurry.apply(<span class="hljs-literal">null</span>, args.concat(args2));</code></pre>
<h2 id="articleHeader22">对象拷贝与赋值</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var obj = {
    name: 'xiaoming',
    age: 23
};
var newObj = obj;
newObj.name = 'xiaohua';
console.log(obj.name);//xiaohua
console.log(newObj.name);//xiaohua" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> obj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'xiaoming'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">23</span>
};
<span class="hljs-keyword">var</span> newObj = obj;
newObj.name = <span class="hljs-string">'xiaohua'</span>;
<span class="hljs-built_in">console</span>.log(obj.name);<span class="hljs-comment">//xiaohua</span>
<span class="hljs-built_in">console</span>.log(newObj.name);<span class="hljs-comment">//xiaohua</span></code></pre>
<p>我们将<code>obj</code>对象赋值给了<code>newObj</code>对象，从而改变<code>newObj</code>的<code>name</code>属性，但是<code>obj</code>对象的<code>name</code>属性也被篡改，这是因为实际上<code>newObj</code>对象获得的只是一个内存地址，而不是真正的拷贝，所以<code>obj</code>对象被篡改。</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var obj = {
    name: 'xiaoming',
    age: 23
};
var newObj = Object.assign({}, obj, {color: 'blue'});
newObj.name = 'xiaohua';
console.log(obj.name);//xiaoming
console.log(newObj.name);//xiaohua
console.log(newObj.color);//blue" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> obj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'xiaoming'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">23</span>
};
<span class="hljs-keyword">var</span> newObj = <span class="hljs-built_in">Object</span>.assign({}, obj, {<span class="hljs-attr">color</span>: <span class="hljs-string">'blue'</span>});
newObj.name = <span class="hljs-string">'xiaohua'</span>;
<span class="hljs-built_in">console</span>.log(obj.name);<span class="hljs-comment">//xiaoming</span>
<span class="hljs-built_in">console</span>.log(newObj.name);<span class="hljs-comment">//xiaohua</span>
<span class="hljs-built_in">console</span>.log(newObj.color);<span class="hljs-comment">//blue</span></code></pre>
<p>利用<code>Object.assign()</code>方法进行对象的<strong>深拷贝</strong>可以避免源对象被篡改的可能。因为<code>Object.assign()</code>方法可以把任意多个的源对象自身的可枚举属性拷贝给目标对象，然后返回目标对象。</p>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="var obj = {
    name: 'xiaoming',
    age: 23
};
var newObj = Object.create(obj);
newObj.name = 'xiaohua';
console.log(obj.name);//xiaoming
console.log(newObj.name);//xiaohua" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="javascript hljs"><code class="javascript"><span class="hljs-keyword">var</span> obj = {
    <span class="hljs-attr">name</span>: <span class="hljs-string">'xiaoming'</span>,
    <span class="hljs-attr">age</span>: <span class="hljs-number">23</span>
};
<span class="hljs-keyword">var</span> newObj = <span class="hljs-built_in">Object</span>.create(obj);
newObj.name = <span class="hljs-string">'xiaohua'</span>;
<span class="hljs-built_in">console</span>.log(obj.name);<span class="hljs-comment">//xiaoming</span>
<span class="hljs-built_in">console</span>.log(newObj.name);<span class="hljs-comment">//xiaohua</span></code></pre>
<p>我们也可以使用<code>Object.create()</code>方法进行对象的拷贝，<code>Object.create()</code>方法可以创建一个具有指定原型对象和属性的新对象。</p>
<h1 id="articleHeader23">CSS</h1>
<h2 id="articleHeader24">居中</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="#main {
    width: 440px;
    margin: 0 auto;
    position: relative;
    text-align: center;
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="css hljs"><code class="css"><span class="hljs-selector-id">#main</span> {
    <span class="hljs-attribute">width</span>: <span class="hljs-number">440px</span>;
    <span class="hljs-attribute">margin</span>: <span class="hljs-number">0</span> auto;
    <span class="hljs-attribute">position</span>: relative;
    <span class="hljs-attribute">text-align</span>: center;
}</code></pre>
<h2 id="articleHeader25">菜单栏下拉</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text=".menu > li {
    display: block;
    float: left;
    position: relative;
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="css hljs"><code class="css"><span class="hljs-selector-class">.menu</span> &gt; <span class="hljs-selector-tag">li</span> {
    <span class="hljs-attribute">display</span>: block;
    <span class="hljs-attribute">float</span>: left;
    <span class="hljs-attribute">position</span>: relative;
}</code></pre>
<h1 id="articleHeader26">JQuery</h1>
<h2 id="articleHeader27">JQ设置等高的列</h2>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="<div class=&quot;equalHeight&quot; style=&quot;border: 1px solid&quot;>
    <p>First Line</p>
    <p>Second Line</p>
    <p>Third Line</p>
</div>
<div class=&quot;equalHeight&quot; style=&quot;border: 1px solid&quot;>
    <p>Column Two</p>
</div>" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="xml hljs"><code class="html"><span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"equalHeight"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>First Line<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Second Line<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Third Line<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">class</span>=<span class="hljs-string">"equalHeight"</span> <span class="hljs-attr">style</span>=<span class="hljs-string">"border: 1px solid"</span>&gt;</span>
    <span class="hljs-tag">&lt;<span class="hljs-name">p</span>&gt;</span>Column Two<span class="hljs-tag">&lt;/<span class="hljs-name">p</span>&gt;</span>
<span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span></code></pre>
<div class="widget-codetool" style="display:none;">
      <div class="widget-codetool--inner">
      <span class="selectCode code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="全选"></span>
      <span type="button" class="copyCode code-tool" data-toggle="tooltip" data-placement="top" data-clipboard-text="$(function () {
    equalHeight(&quot;.equalHeight&quot;);
});

var maxHeight = 0;

function equalHeight(col) {
    col = $(col);
    col.each(function () {
        if ($(this).height() > maxHeight) {
            maxHeight = $(this).height()
        }
    });
    col.height(maxHeight);
}" title="" data-original-title="复制"></span>
      <span type="button" class="saveToNote code-tool" data-toggle="tooltip" data-placement="top" title="" data-original-title="放进笔记"></span>
      </div>
      </div><pre class="hljs javascript"><code class="jquery">$(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
    equalHeight(<span class="hljs-string">".equalHeight"</span>);
});

<span class="hljs-keyword">var</span> maxHeight = <span class="hljs-number">0</span>;

<span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">equalHeight</span>(<span class="hljs-params">col</span>) </span>{
    col = $(col);
    col.each(<span class="hljs-function"><span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) </span>{
        <span class="hljs-keyword">if</span> ($(<span class="hljs-keyword">this</span>).height() &gt; maxHeight) {
            maxHeight = $(<span class="hljs-keyword">this</span>).height()
        }
    });
    col.height(maxHeight);
}</code></pre>

                
{{< /raw >}}

# 版权声明
本文资源来源互联网，仅供学习研究使用，版权归该资源的合法拥有者所有，

本文仅用于学习、研究和交流目的。转载请注明出处、完整链接以及原作者。

原作者若认为本站侵犯了您的版权，请联系我们，我们会立即删除！

## 原文标题
前端代码集

## 原文链接
[https://segmentfault.com/a/1190000011614760](https://segmentfault.com/a/1190000011614760)

